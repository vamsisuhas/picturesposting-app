/*! For license information please see main.bef7fbcc.js.LICENSE.txt */
!function(){"use strict";var e={110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function j(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Re=!1;function Ne(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==_e||null!==Se)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,Ve=null,je={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,It,Et=!1,Tt=[],Ct=null,At=null,Rt=null,Nt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function jt(){Et=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==At&&Ut(At)&&(At=null),null!==Rt&&Ut(Rt)&&(Rt=null),Nt.forEach(Vt),Pt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Rt&&zt(Rt,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return Sn}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Rn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Nn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Vn=!1;function jn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Ur(e,0)}function $n(e){if(H(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Wn(t,Hn,e,we(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Ar=Ir("transitionend"),Rr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),s(t,[e])}for(var Or=0;Or<Nr.length;Or++){var Dr=Nr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Rr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=Rn;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Kn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&jn(e,t)?(e=en(),Zt=Jt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ai=Si(!1),Ri=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ii(Ai),Ii(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(Ci),Ei(Ci,e)):Ii(Ai),Ei(Ai,n)}var Ui=null,Vi=!1,ji=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!ji&&null!==Ui){ji=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),He(Ze,Bi),i}finally{kt=t,ji=!1}}return null}var qi=[],Ki=0,Wi=null,Gi=0,Hi=[],Qi=0,$i=null,Xi=1,Yi="";function Ji(e,t){qi[Ki++]=Gi,qi[Ki++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=Xi,Hi[Qi++]=Yi,Hi[Qi++]=$i,$i=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Ki],qi[Ki]=null,Gi=qi[--Ki],qi[Ki]=null;for(;e===$i;)$i=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Ra=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Pi(t)?Ri:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Pi(t)?Ri:Ci.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Xa=$a(!0),Ya=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Ei(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Do.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function Uo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return To().memoizedState}function zo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ko(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ho.bind(null,t,e),n)}function $o(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Uo,useDebugValue:$o,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=As.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Xo,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Yo,useReducer:Ao,useRef:jo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Xo,useContext:Ia,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Yo,useReducer:Ro,useRef:jo,useState:function(){return Ro(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Os,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Os,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Os,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Os,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ri:Ci.current;return a=Ni(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ni(t,c=Pi(n)?Ri:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Ra=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Ra?("function"===typeof l&&(ja(t,n,l,r),s=t.memoizedState),(u=Ra||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Ni(t,s=Pi(n)?Ri:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Ra=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Ra?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(c=Ra||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ru(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Nu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ou,Du,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Xi,Hi[Qi++]=Yi,Hi[Qi++]=$i,Xi=e.id,Yi=e.overflow,$i=t),(t=Uu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Oc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Oc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ju(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ju(e,n,t);else if(19===e.tag)ju(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Gu(t),null;case 3:return r=t.stateNode,io(),Ii(Ai),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":X(e,r),i=$(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Du(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Bs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Ye()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ai),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Xu=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Xu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,hs(e,t,n),Xu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Sc(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Ye())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,vs(t,e),Xu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=$u;var c=Xu;if($u=o,(Xu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,$u=u,Xu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&is(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var _s,Ss=Math.ceil,Is=b.ReactCurrentDispatcher,Es=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,As=null,Rs=null,Ns=0,Ps=0,Os=Si(0),Ds=0,Ls=null,Ms=0,Fs=0,Us=0,Vs=null,js=null,zs=0,Bs=1/0,qs=null,Ks=!1,Ws=null,Gs=null,Hs=!1,Qs=null,$s=0,Xs=0,Ys=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Ye():-1!==Js?Js:Js=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Ns?Ns&-Ns:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xs)throw Xs=0,Ys=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Fs|=n),4===Ds&&uc(e,Ns)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=Ye()+500,Vi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Ns:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Ns:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Ns===t||(qs=null,Bs=Ye()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Cs=i,null!==Rs?t=0:(As=null,Ns=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,js,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,js,qs),t);break}wc(e,js,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,js,qs),r);break}wc(e,js,qs);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=js,js=n,null!==t&&oc(t)),e}function oc(e){null===js?js=e:js.push.apply(js,e)}function uc(e,t){for(t&=~Us,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,js,qs),rc(e,Ye()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=Ye()+500,Vi&&Bi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&Bi()}}function fc(){Ps=Os.current,Ii(Os)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ii(Ai),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Rs=e=Oc(e.current,null),Ns=Ps=t,Ds=0,Ls=null,Us=Fs=Ms=0,js=Vs=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=Rs;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Es.current=null,null===n||null===n.return){Ds=1,Ls=t,Rs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ns,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ds&&(Ds=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===As||0===(268435455&Ms)&&0===(268435455&Fs)||uc(As,Ns)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Ns===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Is.current=r,null!==Rs)throw Error(a(261));return As=null,Ns=0,Ds}function yc(){for(;null!==Rs;)kc(Rs)}function gc(){for(;null!==Rs&&!$e();)kc(Rs)}function kc(e){var t=_s(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?bc(e):Rs=t,Es.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Ps)))return void(Rs=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Ds=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ds&&(Ds=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Rs=As=null,Ns=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Es.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Xe(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,$s=i),0===(o=e.pendingLanes)&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Ws,Ws=null,e;0!==(1&$s)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Ys?Xs++:(Xs=0,Ys=e):Xs=0,Bi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt($s),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function _c(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ns&n)===n&&(4===Ds||3===Ds&&(130023424&Ns)===Ns&&500>Ye()-zs?hc(e,0):Us|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return He(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Rc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=Nc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=o,e;case R:return(e=Nc(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case N:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Oa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Ru(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ru(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Nu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Nu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}Xc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Xc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Cs)&&(Bs=Ye()+500,Bi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},St=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,I=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function R(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(S=!1,I=null)}}else S=!1}if("function"===typeof k)_=function(){k(R)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=R,_=function(){P.postMessage(null)}}else _=function(){y(R,0)};function O(e){I=e,S||(S=!0,_())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".9a56ed01.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="picturespostingapp:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkpicturespostingapp=self.webpackChunkpicturespostingapp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return Fa},SDK_VERSION:function(){return Yo},_DEFAULT_ENTRY_NAME:function(){return Uo},_addComponent:function(){return Bo},_addOrOverwriteComponent:function(){return qo},_apps:function(){return jo},_clearComponents:function(){return Ho},_components:function(){return zo},_getProvider:function(){return Wo},_registerComponent:function(){return Ko},_removeServiceInstance:function(){return Go},deleteApp:function(){return tu},getApp:function(){return Zo},getApps:function(){return eu},initializeApp:function(){return Jo},onLog:function(){return iu},registerVersion:function(){return ru},setLogLevel:function(){return au}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function h(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=h(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function d(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=h(e))&&(r&&(r+=" "),r+=t);return r}function p(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}function v(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){return function(e){if(Array.isArray(e))return o(e)}(e)||v(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},g=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,k=y((function(e){return g.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var b=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),w=Math.abs,x=String.fromCharCode,_=Object.assign;function S(e){return e.trim()}function I(e,t,n){return e.replace(t,n)}function E(e,t){return e.indexOf(t)}function T(e,t){return 0|e.charCodeAt(t)}function C(e,t,n){return e.slice(t,n)}function A(e){return e.length}function R(e){return e.length}function N(e,t){return t.push(e),e}var P=1,O=1,D=0,L=0,M=0,F="";function U(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:P,column:O,length:o,return:""}}function V(e,t){return _(U("",null,null,"",null,null,0),e,{length:-e.length},t)}function j(){return M=L>0?T(F,--L):0,O--,10===M&&(O=1,P--),M}function z(){return M=L<D?T(F,L++):0,O++,10===M&&(O=1,P++),M}function B(){return T(F,L)}function q(){return L}function K(e,t){return C(F,e,t)}function W(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function G(e){return P=O=1,D=A(F=e),L=0,[]}function H(e){return F="",e}function Q(e){return S(K(L-1,Y(91===e?e+2:40===e?e+1:e)))}function $(e){for(;(M=B())&&M<33;)z();return W(e)>2||W(M)>3?"":" "}function X(e,t){for(;--t&&z()&&!(M<48||M>102||M>57&&M<65||M>70&&M<97););return K(e,q()+(t<6&&32==B()&&32==z()))}function Y(e){for(;z();)switch(M){case e:return L;case 34:case 39:34!==e&&39!==e&&Y(M);break;case 40:41===e&&Y(e);break;case 92:z()}return L}function J(e,t){for(;z()&&e+M!==57&&(e+M!==84||47!==B()););return"/*"+K(t,L-1)+"*"+x(47===e?e:z())}function Z(e){for(;!W(B());)z();return K(e,L)}var ee="-ms-",te="-moz-",ne="-webkit-",re="comm",ie="rule",ae="decl",oe="@keyframes";function ue(e,t){for(var n="",r=R(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function se(e,t,n,r){switch(e.type){case"@import":case ae:return e.return=e.return||e.value;case re:return"";case oe:return e.return=e.value+"{"+ue(e.children,r)+"}";case ie:e.value=e.props.join(",")}return A(n=ue(e.children,r))?e.return=e.value+"{"+n+"}":""}function ce(e,t){switch(function(e,t){return(((t<<2^T(e,0))<<2^T(e,1))<<2^T(e,2))<<2^T(e,3)}(e,t)){case 5103:return ne+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ne+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ne+e+te+e+ee+e+e;case 6828:case 4268:return ne+e+ee+e+e;case 6165:return ne+e+ee+"flex-"+e+e;case 5187:return ne+e+I(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return ne+e+ee+"flex-item-"+I(e,/flex-|-self/,"")+e;case 4675:return ne+e+ee+"flex-line-pack"+I(e,/align-content|flex-|-self/,"")+e;case 5548:return ne+e+ee+I(e,"shrink","negative")+e;case 5292:return ne+e+ee+I(e,"basis","preferred-size")+e;case 6060:return ne+"box-"+I(e,"-grow","")+ne+e+ee+I(e,"grow","positive")+e;case 4554:return ne+I(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return I(I(I(e,/(zoom-|grab)/,ne+"$1"),/(image-set)/,ne+"$1"),e,"")+e;case 5495:case 3959:return I(e,/(image-set\([^]*)/,ne+"$1$`$1");case 4968:return I(I(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+ne+e+e;case 4095:case 3583:case 4068:case 2532:return I(e,/(.+)-inline(.+)/,ne+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(A(e)-1-t>6)switch(T(e,t+1)){case 109:if(45!==T(e,t+4))break;case 102:return I(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+te+(108==T(e,t+3)?"$3":"$2-$3"))+e;case 115:return~E(e,"stretch")?ce(I(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==T(e,t+1))break;case 6444:switch(T(e,A(e)-3-(~E(e,"!important")&&10))){case 107:return I(e,":",":"+ne)+e;case 101:return I(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ne+(45===T(e,14)?"inline-":"")+"box$3$1"+ne+"$2$3$1"+ee+"$2box$3")+e}break;case 5936:switch(T(e,t+11)){case 114:return ne+e+ee+I(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ne+e+ee+I(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ne+e+ee+I(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ne+e+ee+e+e}return e}function le(e){return H(fe("",null,null,null,[""],e=G(e),0,[0],e))}function fe(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,_=r,S=k;m;)switch(p=g,g=z()){case 40:if(108!=p&&58==S.charCodeAt(f-1)){-1!=E(S+=I(Q(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=Q(g);break;case 9:case 10:case 13:case 32:S+=$(p);break;case 92:S+=X(q()-1,7);continue;case 47:switch(B()){case 42:case 47:N(de(J(z(),q()),t,n),s);break;default:S+="/"}break;case 123*v:u[c++]=A(S)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&A(S)-f&&N(d>32?pe(S+";",r,n,f-1):pe(I(S," ","")+";",r,n,f-2),s);break;case 59:S+=";";default:if(N(_=he(S,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)fe(S,t,_,_,b,a,f,u,w);else switch(h){case 100:case 109:case 115:fe(e,_,_,r&&N(he(e,_,_,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:fe(S,_,_,_,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=S="",f=o;break;case 58:f=1+A(S),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==j())continue;switch(S+=x(g),g*v){case 38:y=l>0?1:(S+="\f",-1);break;case 44:u[c++]=(A(S)-1)*y,y=1;break;case 64:45===B()&&(S+=Q(z())),h=B(),l=f=A(k=S+=Z(q())),g++;break;case 45:45===p&&2==A(S)&&(v=0)}}return a}function he(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=R(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=C(e,f+1,f=w(v=o[p])),k=e;y<d;++y)(k=S(v>0?h[y]+" "+g:I(g,/&\f/g,h[y])))&&(s[m++]=k);return U(e,t,n,0===i?ie:u,s,c,l)}function de(e,t,n){return U(e,t,n,re,x(M),C(e,2,-2),0)}function pe(e,t,n,r){return U(e,t,n,ae,C(e,0,r),C(e,r+1,-1),r)}var ve=function(e,t,n){for(var r=0,i=0;r=i,i=B(),38===r&&12===i&&(t[n]=1),!W(i);)z();return K(e,L)},me=function(e,t){return H(function(e,t){var n=-1,r=44;do{switch(W(r)){case 0:38===r&&12===B()&&(t[n]=1),e[n]+=ve(L-1,t,n);break;case 2:e[n]+=Q(r);break;case 4:if(44===r){e[++n]=58===B()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=x(r)}}while(r=z());return e}(G(e),t))},ye=new WeakMap,ge=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ye.get(n))&&!r){ye.set(e,!0);for(var i=[],a=me(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},ke=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},be=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ae:e.return=ce(e.value,e.length);break;case oe:return ue([V(e,{value:I(e.value,"@","@"+ne)})],r);case ie:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ue([V(e,{props:[I(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ue([V(e,{props:[I(t,/:(plac\w+)/,":-webkit-input-$1")]}),V(e,{props:[I(t,/:(plac\w+)/,":-moz-$1")]}),V(e,{props:[I(t,/:(plac\w+)/,ee+"input-$1")]})],r)}return""}))}}],we=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||be;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[se,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=R(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([ge,ke].concat(r,l));a=function(e,t,n,r){s=n,function(e){ue(le(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new b({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var xe=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},_e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Se=/[A-Z]|^ms/g,Ie=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ee=function(e){return 45===e.charCodeAt(1)},Te=function(e){return null!=e&&"boolean"!==typeof e},Ce=y((function(e){return Ee(e)?e:e.replace(Se,"-$&").toLowerCase()})),Ae=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ie,(function(e,t,n){return Ne={name:t,styles:n,next:Ne},t}))}return 1===_e[e]||Ee(e)||"number"!==typeof t||0===t?t:t+"px"};function Re(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Ne={name:n.name,styles:n.styles,next:Ne},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Ne={name:r.name,styles:r.styles,next:Ne},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Re(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Te(o)&&(r+=Ce(a)+":"+Ae(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Re(e,t,o);switch(a){case"animation":case"animationName":r+=Ce(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Te(o[s])&&(r+=Ce(a)+":"+Ae(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Ne,a=n(e);return Ne=i,Re(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Ne,Pe=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Oe=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Ne=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Re(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Re(n,t,e[o]),r&&(i+=a[o]);Pe.lastIndex=0;for(var u,s="";null!==(u=Pe.exec(i));)s+="-"+u[1];return{name:xe(i)+s,styles:i,next:Ne}},De=(0,t.createContext)("undefined"!==typeof HTMLElement?we({key:"css"}):null);De.Provider;var Le=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(De);return e(n,i,r)}))},Me=(0,t.createContext)({});r.useInsertionEffect&&r.useInsertionEffect;function Fe(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Ue=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Ve=function(e,t,n){Ue(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},je=k,ze=function(e){return"theme"!==e},Be=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?je:ze},qe=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Ke=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};var We=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Ue(t,n,r);Ke((function(){return Ve(t,n,r)}));return null},Ge=function e(n,r){var i,a,o=n.__emotion_real===n,u=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var s=qe(n,r,o),c=s||Be(u),l=!c("as");return function(){var h=arguments,d=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=Le((function(e,n,r){var i=l&&e.as||u,o="",f=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,t.useContext)(Me)}"string"===typeof e.className?o=Fe(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=Oe(d.concat(f),n.registered,h);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?Be(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(We,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=u,m.__emotion_styles=d,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,n){return e(t,f({},r,n,{shouldForwardProp:qe(m,n,!0)})).apply(void 0,d)},m}},He=Ge.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){He[e]=He(e)}));var Qe=He;function $e(e,t){return Qe(e,t)}function Xe(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function Ye(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?f({},e):e;return Xe(e)&&Xe(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Xe(t[i])&&i in e&&Xe(e[i])?r[i]=Ye(e[i],t[i],n):r[i]=t[i])})),r}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=["values","unit","step"];function et(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=l(e,Ze),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return f({},e,Je({},t.key,t.val))}),{})}(n),c=Object.keys(s);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return f({keys:c,values:s,up:h,down:d,between:p,only:function(e){return c.indexOf(e)+1<c.length?p(e,c[c.indexOf(e)+1]):h(e)},not:function(e){var t=c.indexOf(e);return 0===t?h(c[1]):t===c.length-1?d(c[t]):p(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var tt={borderRadius:4},nt={xs:0,sm:600,md:900,lg:1200,xl:1536},rt={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(nt[e],"px)")}};function it(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||rt;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||rt;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||nt).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function at(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function ot(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function ut(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function st(e){if("string"!==typeof e)throw new Error(ut(7));return e.charAt(0).toUpperCase()+e.slice(1)}function ct(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function lt(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:ct(e,n)||i,t&&(r=t(r)),r}var ft=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=ct(e.theme,i)||{};return it(e,n,(function(e){var n=lt(o,a,e);return e===n&&"string"===typeof e&&(n=lt(o,a,"".concat(t).concat("default"===e?"":st(e)),e)),!1===r?n:Je({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var ht=function(e,t){return t?Ye(e,t,{clone:!1}):e};var dt={m:"margin",p:"padding"},pt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},vt={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},mt=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!vt[e])return[e];e=vt[e]}var t=c(e.split(""),2),n=t[0],r=t[1],i=dt[n],a=pt[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),yt=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],gt=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],kt=[].concat(yt,gt);function bt(e,t,n,r){var i,a=null!=(i=ct(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function wt(e){return bt(e,"spacing",8)}function xt(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function _t(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=xt(t,n),e}),{})}}(mt(n),r);return it(e,e[n],i)}function St(e,t){var n=wt(e.theme);return Object.keys(e).map((function(r){return _t(e,t,r,n)})).reduce(ht,{})}function It(e){return St(e,yt)}function Et(e){return St(e,gt)}function Tt(e){return St(e,kt)}It.propTypes={},It.filterProps=yt,Et.propTypes={},Et.filterProps=gt,Tt.propTypes={},Tt.filterProps=kt;var Ct=Tt;function At(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=wt({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var Rt=["breakpoints","palette","spacing","shape"];var Nt=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=l(e,Rt),c=et(n),h=At(a),d=Ye({breakpoints:c,direction:"ltr",components:{},palette:f({mode:"light"},i),spacing:h,shape:f({},tt,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return d=v.reduce((function(e,t){return Ye(e,t)}),d)},Pt=["variant"];function Ot(e){return 0===e.length}function Dt(e){var t=e.variant,n=l(e,Pt),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Ot(r)?e[t]:st(e[t]):"".concat(Ot(r)?t:st(t)).concat(st(e[t].toString()))})),r}var Lt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?ht(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Mt(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Ft=ft({prop:"border",themeKey:"borders",transform:Mt}),Ut=ft({prop:"borderTop",themeKey:"borders",transform:Mt}),Vt=ft({prop:"borderRight",themeKey:"borders",transform:Mt}),jt=ft({prop:"borderBottom",themeKey:"borders",transform:Mt}),zt=ft({prop:"borderLeft",themeKey:"borders",transform:Mt}),Bt=ft({prop:"borderColor",themeKey:"palette"}),qt=ft({prop:"borderTopColor",themeKey:"palette"}),Kt=ft({prop:"borderRightColor",themeKey:"palette"}),Wt=ft({prop:"borderBottomColor",themeKey:"palette"}),Gt=ft({prop:"borderLeftColor",themeKey:"palette"}),Ht=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=bt(e.theme,"shape.borderRadius",4);return it(e,e.borderRadius,(function(e){return{borderRadius:xt(t,e)}}))}return null};Ht.propTypes={},Ht.filterProps=["borderRadius"];var Qt=Lt(Ft,Ut,Vt,jt,zt,Bt,qt,Kt,Wt,Gt,Ht),$t=Lt(ft({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),ft({prop:"display"}),ft({prop:"overflow"}),ft({prop:"textOverflow"}),ft({prop:"visibility"}),ft({prop:"whiteSpace"})),Xt=Lt(ft({prop:"flexBasis"}),ft({prop:"flexDirection"}),ft({prop:"flexWrap"}),ft({prop:"justifyContent"}),ft({prop:"alignItems"}),ft({prop:"alignContent"}),ft({prop:"order"}),ft({prop:"flex"}),ft({prop:"flexGrow"}),ft({prop:"flexShrink"}),ft({prop:"alignSelf"}),ft({prop:"justifyItems"}),ft({prop:"justifySelf"})),Yt=function(e){if(void 0!==e.gap&&null!==e.gap){var t=bt(e.theme,"spacing",8);return it(e,e.gap,(function(e){return{gap:xt(t,e)}}))}return null};Yt.propTypes={},Yt.filterProps=["gap"];var Jt=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=bt(e.theme,"spacing",8);return it(e,e.columnGap,(function(e){return{columnGap:xt(t,e)}}))}return null};Jt.propTypes={},Jt.filterProps=["columnGap"];var Zt=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=bt(e.theme,"spacing",8);return it(e,e.rowGap,(function(e){return{rowGap:xt(t,e)}}))}return null};Zt.propTypes={},Zt.filterProps=["rowGap"];var en=Lt(Yt,Jt,Zt,ft({prop:"gridColumn"}),ft({prop:"gridRow"}),ft({prop:"gridAutoFlow"}),ft({prop:"gridAutoColumns"}),ft({prop:"gridAutoRows"}),ft({prop:"gridTemplateColumns"}),ft({prop:"gridTemplateRows"}),ft({prop:"gridTemplateAreas"}),ft({prop:"gridArea"})),tn=Lt(ft({prop:"position"}),ft({prop:"zIndex",themeKey:"zIndex"}),ft({prop:"top"}),ft({prop:"right"}),ft({prop:"bottom"}),ft({prop:"left"})),nn=Lt(ft({prop:"color",themeKey:"palette"}),ft({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),ft({prop:"backgroundColor",themeKey:"palette"})),rn=ft({prop:"boxShadow",themeKey:"shadows"});function an(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var on=ft({prop:"width",transform:an}),un=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return it(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||nt[t]||an(t)}}))}return null};un.filterProps=["maxWidth"];var sn=ft({prop:"minWidth",transform:an}),cn=ft({prop:"height",transform:an}),ln=ft({prop:"maxHeight",transform:an}),fn=ft({prop:"minHeight",transform:an}),hn=(ft({prop:"size",cssProperty:"width",transform:an}),ft({prop:"size",cssProperty:"height",transform:an}),Lt(on,un,sn,cn,ln,fn,ft({prop:"boxSizing"}))),dn=ft({prop:"fontFamily",themeKey:"typography"}),pn=ft({prop:"fontSize",themeKey:"typography"}),vn=ft({prop:"fontStyle",themeKey:"typography"}),mn=ft({prop:"fontWeight",themeKey:"typography"}),yn=ft({prop:"letterSpacing"}),gn=ft({prop:"textTransform"}),kn=ft({prop:"lineHeight"}),bn=ft({prop:"textAlign"}),wn=Lt(ft({prop:"typography",cssProperty:!1,themeKey:"typography"}),dn,pn,vn,mn,yn,kn,bn,gn),xn={borders:Qt.filterProps,display:$t.filterProps,flexbox:Xt.filterProps,grid:en.filterProps,positions:tn.filterProps,palette:nn.filterProps,shadows:rn.filterProps,sizing:hn.filterProps,spacing:Ct.filterProps,typography:wn.filterProps},_n={borders:Qt,display:$t,flexbox:Xt,grid:en,positions:tn,palette:nn,shadows:rn,sizing:hn,spacing:Ct,typography:wn},Sn=Object.keys(xn).reduce((function(e,t){return xn[t].forEach((function(n){e[n]=_n[t]})),e}),{});function In(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function En(e,t){return"function"===typeof e?e(t):e}var Tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(Je(i={},e,n),Je(i,"theme",r),i),o=t[e];return o?o(a):Je({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=at(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=En(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=ht(s,n(e,a,u));else{var o=it({theme:u},a,(function(t){return Je({},e,t)}));In(o,a)?s[e]=r({sx:a,theme:u}):s=ht(s,o)}else s=ht(s,n(e,a,u))})),ot(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();Tn.filterProps=["sx"];var Cn=Tn,An=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Rn=["theme"],Nn=["theme"];function Pn(e){return 0===Object.keys(e).length}var On=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Dn=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Dt(e.props);r[t]=e.style})),r},Ln=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[Dt(n.props)])})),s};function Mn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Fn=Nt();function Un(e,t){var n;return f({toolbar:(n={minHeight:56},Je(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),Je(n,e.up("sm"),{minHeight:64}),n)},t)}function Vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function jn(e){if(e.type)return e;if("#"===e.charAt(0))return jn(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(ut(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(ut(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function zn(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Bn(e){var t="hsl"===(e=jn(e)).type?jn(function(e){var t=(e=jn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),zn({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function qn(e,t){return e=jn(e),t=Vn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,zn(e)}function Kn(e,t){if(e=jn(e),t=Vn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return zn(e)}function Wn(e,t){if(e=jn(e),t=Vn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return zn(e)}var Gn={black:"#000",white:"#fff"},Hn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Qn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},$n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Xn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Yn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Jn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Zn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},er=["mode","contrastThreshold","tonalOffset"],tr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Gn.white,default:Gn.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},nr={text:{primary:Gn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Gn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function rr(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Wn(e.main,i):"dark"===t&&(e.dark=Kn(e.main,a)))}function ir(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=l(e,er),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Yn[200],light:Yn[50],dark:Yn[400]}:{main:Yn[700],light:Yn[400],dark:Yn[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Qn[200],light:Qn[50],dark:Qn[400]}:{main:Qn[500],light:Qn[300],dark:Qn[700]}}(n),h=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:$n[500],light:$n[300],dark:$n[700]}:{main:$n[700],light:$n[400],dark:$n[800]}}(n),d=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Jn[400],light:Jn[300],dark:Jn[700]}:{main:Jn[700],light:Jn[500],dark:Jn[900]}}(n),p=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Zn[400],light:Zn[300],dark:Zn[700]}:{main:Zn[800],light:Zn[500],dark:Zn[900]}}(n),v=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Xn[400],light:Xn[300],dark:Xn[700]}:{main:"#ed6c02",light:Xn[500],dark:Xn[900]}}(n);function m(e){var t=function(e,t){var n=Bn(e),r=Bn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,nr.text.primary)>=i?nr.text.primary:tr.text.primary;return t}var y=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=f({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(ut(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(ut(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return rr(t,"light",u,o),rr(t,"dark",c,o),t.contrastText||(t.contrastText=m(t.main)),t},g={dark:nr,light:tr};return Ye(f({common:f({},Gn),mode:n,primary:y({color:s,name:"primary"}),secondary:y({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:h,name:"error"}),warning:y({color:v,name:"warning"}),info:y({color:d,name:"info"}),success:y({color:p,name:"success"}),grey:Hn,contrastThreshold:i,getContrastText:m,augmentColor:y,tonalOffset:o},g[n]),u)}var ar=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var or={textTransform:"uppercase"},ur='"Roboto", "Helvetica", "Arial", sans-serif';function sr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?ur:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,h=void 0===c?400:c,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,b=n.pxToRem,w=l(n,ar);var x=o/14,_=b||function(e){return"".concat(e/g*x,"rem")},S=function(e,t,n,r,a){return f({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===ur?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},I={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(h,48,1.167,0),h4:S(h,34,1.235,.25),h5:S(h,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(h,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(h,16,1.5,.15),body2:S(h,14,1.43,.15),button:S(p,14,1.75,.4,or),caption:S(h,12,1.66,.4),overline:S(h,12,2.66,1,or)};return Ye(f({htmlFontSize:g,pxToRem:_,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:m},I),w,{clone:!1})}function cr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var lr=["none",cr(0,2,1,-1,0,1,1,0,0,1,3,0),cr(0,3,1,-2,0,2,2,0,0,1,5,0),cr(0,3,3,-2,0,3,4,0,0,1,8,0),cr(0,2,4,-1,0,4,5,0,0,1,10,0),cr(0,3,5,-1,0,5,8,0,0,1,14,0),cr(0,3,5,-1,0,6,10,0,0,1,18,0),cr(0,4,5,-2,0,7,10,1,0,2,16,1),cr(0,5,5,-3,0,8,10,1,0,3,14,2),cr(0,5,6,-3,0,9,12,1,0,3,16,2),cr(0,6,6,-3,0,10,14,1,0,4,18,3),cr(0,6,7,-4,0,11,15,1,0,4,20,3),cr(0,7,8,-4,0,12,17,2,0,5,22,4),cr(0,7,8,-4,0,13,19,2,0,5,24,4),cr(0,7,9,-4,0,14,21,2,0,5,26,4),cr(0,8,9,-5,0,15,22,2,0,6,28,5),cr(0,8,10,-5,0,16,24,2,0,6,30,5),cr(0,8,11,-5,0,17,26,2,0,6,32,5),cr(0,9,11,-5,0,18,28,2,0,7,34,6),cr(0,9,12,-6,0,19,29,2,0,7,36,6),cr(0,10,13,-6,0,20,31,3,0,8,38,7),cr(0,10,13,-6,0,21,33,3,0,8,40,7),cr(0,10,14,-6,0,22,35,3,0,8,42,7),cr(0,11,14,-7,0,23,36,3,0,9,44,8),cr(0,11,15,-7,0,24,38,3,0,9,46,8)],fr=["duration","easing","delay"],hr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},dr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function pr(e){return"".concat(Math.round(e),"ms")}function vr(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function mr(e){var t=f({},hr,e.easing),n=f({},dr,e.duration);return f({getAutoHeightDuration:vr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;l(r,fr);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:pr(a)," ").concat(u," ").concat("string"===typeof c?c:pr(c))})).join(",")}},e,{easing:t,duration:n})}var yr={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},gr=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=l(e,gr),h=ir(i),d=Nt(e),p=Ye(d,{mixins:Un(d.breakpoints,n),palette:h,shadows:lr.slice(),typography:sr(h,s),transitions:mr(o),zIndex:f({},yr)});p=Ye(p,c);for(var v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return p=m.reduce((function(e,t){return Ye(e,t)}),p)}var br=kr,wr=br(),xr=function(e){return Mn(e)&&"classes"!==e},_r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Fn:t,r=e.rootShouldForwardProp,i=void 0===r?Mn:r,a=e.slotShouldForwardProp,o=void 0===a?Mn:a,u=e.styleFunctionSx,s=void 0===u?Cn:u;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=r.slot,h=r.skipVariantsResolver,d=r.skipSx,p=r.overridesResolver,v=l(r,An),y=void 0!==h?h:u&&"Root"!==u||!1,g=d||!1;var k=Mn;"Root"===u?k=i:u&&(k=o);var b=$e(e,f({shouldForwardProp:k,label:t},v)),w=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=l(t,Rn);return e(f({theme:Pn(r)?n:r},i))}:e})):[],u=e;a&&p&&o.push((function(e){var t=Pn(e.theme)?n:e.theme,r=On(a,t);if(r){var i={};return Object.entries(r).forEach((function(n){var r=c(n,2),a=r[0],o=r[1];i[a]="function"===typeof o?o(f({},e,{theme:t})):o})),p(e,i)}return null})),a&&!y&&o.push((function(e){var t=Pn(e.theme)?n:e.theme;return Ln(e,Dn(a,t),t,a)})),g||o.push((function(e){var t=Pn(e.theme)?n:e.theme;return s(f({},e,{theme:t}))}));var h=o.length-r.length;if(Array.isArray(e)&&h>0){var d=new Array(h).fill("");(u=[].concat(m(e),m(d))).raw=[].concat(m(e.raw),m(d))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=l(t,Nn);return e(f({theme:Pn(r)?n:r},i))});var v=b.apply(void 0,[u].concat(m(o)));return v};return b.withConfig&&(w.withConfig=b.withConfig),w}}({defaultTheme:wr,rootShouldForwardProp:xr}),Sr=_r;function Ir(e,t){var n=f({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}var Er=t.createContext(null);function Tr(){return t.useContext(Er)}function Cr(e){return 0===Object.keys(e).length}var Ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Tr();return!t||Cr(t)?e:t},Rr=Nt();var Nr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr;return Ar(e)};function Pr(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Ir(t.components[n].defaultProps,r):r}({theme:Nr(r),name:n,props:t});return i}function Or(e){return Pr({props:e.props,name:e.name,defaultTheme:wr})}var Dr=st,Lr=function(e){return e},Mr=function(){var e=Lr;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Lr}}}(),Fr={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Ur(e,t){return Fr[t]||"".concat(Mr.generate(e),"-").concat(t)}function Vr(e,t){var n={};return t.forEach((function(t){n[t]=Ur(e,t)})),n}function jr(e){return Ur("MuiSvgIcon",e)}Vr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var zr=n(184),Br=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],qr=Sr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(Dr(n.color))],t["fontSize".concat(Dr(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[k.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),Kr=t.forwardRef((function(e,t){var n=Or({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,c=n.fontSize,h=void 0===c?"medium":c,v=n.htmlColor,m=n.inheritViewBox,y=void 0!==m&&m,g=n.titleAccess,k=n.viewBox,b=void 0===k?"0 0 24 24":k,w=l(n,Br),x=f({},n,{color:o,component:s,fontSize:h,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:b}),_={};y||(_.viewBox=b);var S=function(e){var t=e.color,n=e.fontSize,r=e.classes;return p({root:["root","inherit"!==t&&"color".concat(Dr(t)),"fontSize".concat(Dr(n))]},jr,r)}(x);return(0,zr.jsxs)(qr,f({as:s,className:d(S.root,i),ownerState:x,focusable:"false",color:v,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},_,w,{children:[r,g?(0,zr.jsx)("title",{children:g}):null]}))}));Kr.muiName="SvgIcon";var Wr=Kr;var Gr=function(e,n){var r=function(t,r){return(0,zr.jsx)(Wr,f({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))};return r.muiName=Wr.muiName,t.memo(t.forwardRef(r))}((0,zr.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Hr(e){return Ur("MuiAvatar",e)}Vr("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var Qr=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],$r=Sr("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return f({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&f({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),Xr=Sr("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Yr=Sr(Gr,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var Jr=t.forwardRef((function(e,n){var r=Or({props:e,name:"MuiAvatar"}),i=r.alt,a=r.children,o=r.className,u=r.component,s=void 0===u?"div":u,h=r.imgProps,v=r.sizes,m=r.src,y=r.srcSet,g=r.variant,k=void 0===g?"circular":g,b=l(r,Qr),w=null,x=function(e){var n=e.crossOrigin,r=e.referrerPolicy,i=e.src,a=e.srcSet,o=c(t.useState(!1),2),u=o[0],s=o[1];return t.useEffect((function(){if(i||a){s(!1);var e=!0,t=new Image;return t.onload=function(){e&&s("loaded")},t.onerror=function(){e&&s("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,a&&(t.srcset=a),function(){e=!1}}}),[n,r,i,a]),u}(f({},h,{src:m,srcSet:y})),_=m||y,S=_&&"error"!==x,I=f({},r,{colorDefault:!S,component:s,variant:k}),E=function(e){var t=e.classes;return p({root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]},Hr,t)}(I);return w=S?(0,zr.jsx)(Xr,f({alt:i,src:m,srcSet:y,sizes:v,ownerState:I,className:E.img},h)):null!=a?a:_&&i?i[0]:(0,zr.jsx)(Yr,{className:E.fallback}),(0,zr.jsx)($r,f({as:s,ownerState:I,className:d(E.root,o),ref:n},b,{children:w}))})),Zr=Jr;function ei(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function ti(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){ei(e,t),ei(n,t)}}),[e,n])}var ni=ti,ri="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function ii(e){var n=t.useRef(e);return ri((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}var ai,oi=ii,ui=!0,si=!1,ci={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function li(e){e.metaKey||e.altKey||e.ctrlKey||(ui=!0)}function fi(){ui=!1}function hi(){"hidden"===this.visibilityState&&si&&(ui=!0)}function di(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return ui||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!ci[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var pi=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",li,!0),t.addEventListener("mousedown",fi,!0),t.addEventListener("pointerdown",fi,!0),t.addEventListener("touchstart",fi,!0),t.addEventListener("visibilitychange",hi,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!di(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(si=!0,window.clearTimeout(ai),ai=window.setTimeout((function(){si=!1}),100),n.current=!1,!0)},ref:e}};function vi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function mi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yi(e,t){return yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yi(e,t)}function gi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,yi(e,t)}var ki=t.createContext(null);function bi(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function wi(e,t,n){return null!=n[t]?n[t]:e.props[t]}function xi(e,n,r){var i=bi(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:wi(u,"exit",e),enter:wi(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:wi(u,"exit",e),enter:wi(u,"enter",e)})}})),a}var _i=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Si=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(mi(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}gi(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,bi(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:wi(e,"appear",r),enter:wi(e,"enter",r),exit:wi(e,"exit",r)})}))):xi(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=bi(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=f({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=l(e,["component","childFactory"]),a=this.state.contextValue,o=_i(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(ki.Provider,{value:a},o):t.createElement(ki.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);Si.propTypes={},Si.defaultProps={component:"div",childFactory:function(e){return e}};var Ii=Si,Ei=(n(110),r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect),Ti=Le((function(e,n){var r=e.styles,i=Oe([r],void 0,(0,t.useContext)(Me)),a=(0,t.useRef)();return Ei((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),Ei((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&Ve(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function Ci(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Oe(t)}var Ai=function(){var e=Ci.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Ri=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,l=e.in,f=e.onExited,h=e.timeout,p=c(t.useState(!1),2),v=p[0],m=p[1],y=d(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),g={width:s,height:s,top:-s/2+u,left:-s/2+o},k=d(r.child,v&&r.childLeaving,a&&r.childPulsate);return l||v||m(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}}),[f,l,h]),(0,zr.jsx)("span",{className:y,style:g,children:(0,zr.jsx)("span",{className:k})})};var Ni,Pi,Oi,Di,Li,Mi,Fi,Ui,Vi=Vr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ji=["center","classes","className"],zi=Ai(Li||(Li=Ni||(Ni=vi(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Bi=Ai(Mi||(Mi=Pi||(Pi=vi(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),qi=Ai(Fi||(Fi=Oi||(Oi=vi(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Ki=Sr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Wi=Sr(Ri,{name:"MuiTouchRipple",slot:"Ripple"})(Ui||(Ui=Di||(Di=vi(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Vi.rippleVisible,zi,550,(function(e){return e.theme.transitions.easing.easeInOut}),Vi.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),Vi.child,Vi.childLeaving,Bi,550,(function(e){return e.theme.transitions.easing.easeInOut}),Vi.childPulsate,qi,(function(e){return e.theme.transitions.easing.easeInOut})),Gi=t.forwardRef((function(e,n){var r=Or({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,s=r.className,h=l(r,ji),p=c(t.useState([]),2),v=p[0],y=p[1],g=t.useRef(0),k=t.useRef(null);t.useEffect((function(){k.current&&(k.current(),k.current=null)}),[v]);var b=t.useRef(!1),w=t.useRef(null),x=t.useRef(null),_=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(w.current)}}),[]);var S=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;y((function(e){return[].concat(m(e),[(0,zr.jsx)(Wi,{classes:{ripple:d(u.ripple,Vi.ripple),rippleVisible:d(u.rippleVisible,Vi.rippleVisible),ripplePulsate:d(u.ripplePulsate,Vi.ripplePulsate),child:d(u.child,Vi.child),childLeaving:d(u.childLeaving,Vi.childLeaving),childPulsate:d(u.childPulsate,Vi.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},g.current)])})),g.current+=1,k.current=a}),[u]),I=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&b.current)b.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(b.current=!0);var l,f,h,d=c?null:_.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var g=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,k=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(g,2)+Math.pow(k,2))}null!=e&&e.touches?null===x.current&&(x.current=function(){S({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},w.current=setTimeout((function(){x.current&&(x.current(),x.current=null)}),80)):S({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,S]),E=t.useCallback((function(){I({},{pulsate:!0})}),[I]),T=t.useCallback((function(e,t){if(clearTimeout(w.current),"touchend"===(null==e?void 0:e.type)&&x.current)return x.current(),x.current=null,void(w.current=setTimeout((function(){T(e,t)})));x.current=null,y((function(e){return e.length>0?e.slice(1):e})),k.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:E,start:I,stop:T}}),[E,I,T]),(0,zr.jsx)(Ki,f({className:d(u.root,Vi.root,s),ref:_},h,{children:(0,zr.jsx)(Ii,{component:null,exit:!0,children:v})}))})),Hi=Gi;function Qi(e){return Ur("MuiButtonBase",e)}var $i,Xi=Vr("MuiButtonBase",["root","disabled","focusVisible"]),Yi=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Ji=Sr("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Je($i={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(Xi.disabled),{pointerEvents:"none",cursor:"default"}),Je($i,"@media print",{colorAdjust:"exact"}),$i)),Zi=t.forwardRef((function(e,n){var r=Or({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,h=r.component,v=void 0===h?"button":h,m=r.disabled,y=void 0!==m&&m,g=r.disableRipple,k=void 0!==g&&g,b=r.disableTouchRipple,w=void 0!==b&&b,x=r.focusRipple,_=void 0!==x&&x,S=r.LinkComponent,I=void 0===S?"a":S,E=r.onBlur,T=r.onClick,C=r.onContextMenu,A=r.onDragLeave,R=r.onFocus,N=r.onFocusVisible,P=r.onKeyDown,O=r.onKeyUp,D=r.onMouseDown,L=r.onMouseLeave,M=r.onMouseUp,F=r.onTouchEnd,U=r.onTouchMove,V=r.onTouchStart,j=r.tabIndex,z=void 0===j?0:j,B=r.TouchRippleProps,q=r.touchRippleRef,K=r.type,W=l(r,Yi),G=t.useRef(null),H=t.useRef(null),Q=ni(H,q),$=pi(),X=$.isFocusVisibleRef,Y=$.onFocus,J=$.onBlur,Z=$.ref,ee=c(t.useState(!1),2),te=ee[0],ne=ee[1];y&&te&&ne(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){ne(!0),G.current.focus()}}}),[]);var re=c(t.useState(!1),2),ie=re[0],ae=re[1];t.useEffect((function(){ae(!0)}),[]);var oe=ie&&!k&&!y;function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return oi((function(r){return t&&t(r),!n&&H.current&&H.current[e](r),!0}))}t.useEffect((function(){te&&_&&!k&&ie&&H.current.pulsate()}),[k,_,te,ie]);var se=ue("start",D),ce=ue("stop",C),le=ue("stop",A),fe=ue("stop",M),he=ue("stop",(function(e){te&&e.preventDefault(),L&&L(e)})),de=ue("start",V),pe=ue("stop",F),ve=ue("stop",U),me=ue("stop",(function(e){J(e),!1===X.current&&ne(!1),E&&E(e)}),!1),ye=oi((function(e){G.current||(G.current=e.currentTarget),Y(e),!0===X.current&&(ne(!0),N&&N(e)),R&&R(e)})),ge=function(){var e=G.current;return v&&"button"!==v&&!("A"===e.tagName&&e.href)},ke=t.useRef(!1),be=oi((function(e){_&&!ke.current&&te&&H.current&&" "===e.key&&(ke.current=!0,H.current.stop(e,(function(){H.current.start(e)}))),e.target===e.currentTarget&&ge()&&" "===e.key&&e.preventDefault(),P&&P(e),e.target===e.currentTarget&&ge()&&"Enter"===e.key&&!y&&(e.preventDefault(),T&&T(e))})),we=oi((function(e){_&&" "===e.key&&H.current&&te&&!e.defaultPrevented&&(ke.current=!1,H.current.stop(e,(function(){H.current.pulsate(e)}))),O&&O(e),T&&e.target===e.currentTarget&&ge()&&" "===e.key&&!e.defaultPrevented&&T(e)})),xe=v;"button"===xe&&(W.href||W.to)&&(xe=I);var _e={};"button"===xe?(_e.type=void 0===K?"button":K,_e.disabled=y):(W.href||W.to||(_e.role="button"),y&&(_e["aria-disabled"]=y));var Se=ni(Z,G),Ie=ni(n,Se);var Ee=f({},r,{centerRipple:o,component:v,disabled:y,disableRipple:k,disableTouchRipple:w,focusRipple:_,tabIndex:z,focusVisible:te}),Te=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=p({root:["root",t&&"disabled",n&&"focusVisible"]},Qi,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Ee);return(0,zr.jsxs)(Ji,f({as:xe,className:d(Te.root,s),ownerState:Ee,onBlur:me,onClick:T,onContextMenu:ce,onFocus:ye,onKeyDown:be,onKeyUp:we,onMouseDown:se,onMouseLeave:he,onMouseUp:fe,onDragLeave:le,onTouchEnd:pe,onTouchMove:ve,onTouchStart:de,ref:Ie,tabIndex:y?-1:z,type:K},_e,W,{children:[u,oe?(0,zr.jsx)(Hi,f({ref:Q,center:o},B)):null]}))})),ea=Zi;function ta(e){return Ur("MuiButton",e)}var na=Vr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var ra=t.createContext({}),ia=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],aa=function(e){return f({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},oa=Sr(ea,{shouldForwardProp:function(e){return xr(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Dr(n.color))],t["size".concat(Dr(n.size))],t["".concat(n.variant,"Size").concat(Dr(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return f({},i.typography.button,(Je(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":f({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):qn(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):qn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):qn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":f({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(na.focusVisible),f({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),Je(t,"&.".concat(na.disabled),f({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===a.variant&&"secondary"===a.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(qn(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(Je(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(na.focusVisible),{boxShadow:"none"}),Je(t,"&:active",{boxShadow:"none"}),Je(t,"&.".concat(na.disabled),{boxShadow:"none"}),t)})),ua=Sr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Dr(n.size))]]}})((function(e){var t=e.ownerState;return f({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},aa(t))})),sa=Sr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Dr(n.size))]]}})((function(e){var t=e.ownerState;return f({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},aa(t))})),ca=t.forwardRef((function(e,n){var r=t.useContext(ra),i=Or({props:Ir(r,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,h=i.className,v=i.disabled,m=void 0!==v&&v,y=i.disableElevation,g=void 0!==y&&y,k=i.disableFocusRipple,b=void 0!==k&&k,w=i.endIcon,x=i.focusVisibleClassName,_=i.fullWidth,S=void 0!==_&&_,I=i.size,E=void 0===I?"medium":I,T=i.startIcon,C=i.type,A=i.variant,R=void 0===A?"text":A,N=l(i,ia),P=f({},i,{color:u,component:c,disabled:m,disableElevation:g,disableFocusRipple:b,fullWidth:S,size:E,type:C,variant:R}),O=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return f({},o,p({root:["root",a,"".concat(a).concat(Dr(t)),"size".concat(Dr(i)),"".concat(a,"Size").concat(Dr(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Dr(i))],endIcon:["endIcon","iconSize".concat(Dr(i))]},ta,o))}(P),D=T&&(0,zr.jsx)(ua,{className:O.startIcon,ownerState:P,children:T}),L=w&&(0,zr.jsx)(sa,{className:O.endIcon,ownerState:P,children:w});return(0,zr.jsxs)(oa,f({ownerState:P,className:d(h,r.className),component:c,disabled:m,focusRipple:!b,focusVisibleClassName:d(O.focusVisible,x),ref:n,type:C},N,{classes:O,children:[D,a,L]}))})),la=ca;function fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function da(e,t,n){return t&&ha(e.prototype,t),n&&ha(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pa(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function va(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yi(e,t)}function ma(e){return ma=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ma(e)}function ya(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ga(e){return ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ga(e)}function ka(e,t){if(t&&("object"===ga(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mi(e)}function ba(e){var t=ya();return function(){var n,r=ma(e);if(t){var i=ma(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ka(this,n)}}function wa(e,t,n){return wa=ya()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&yi(i,n.prototype),i},wa.apply(null,arguments)}function xa(e){var t="function"===typeof Map?new Map:void 0;return xa=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return wa(e,arguments,ma(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),yi(n,e)},xa(e)}var _a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Sa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ia=function(e){return function(e){var t=_a(e);return Sa.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ea=function(e){try{return Sa.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ta(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ta(e[n],t[n]));return e}var Ca=function(){function e(){var t=this;fa(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return da(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Aa(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ia(JSON.stringify({alg:"none",type:"JWT"})),Ia(JSON.stringify(a)),""].join(".")}function Ra(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Na(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ra())}function Pa(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Oa(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Da(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function La(){var e=Ra();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ma(){return"object"===typeof indexedDB}var Fa=function(e){va(n,e);var t=ba(n);function n(e,r,i){var a;return fa(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(mi(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(mi(a),Ua.prototype.create),a}return da(n)}(xa(Error)),Ua=function(){function e(t,n,r){fa(this,e),this.service=t,this.serviceName=n,this.errors=r}return da(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Va(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Fa(n,a,t);return o}}]),e}();function Va(e,t){return e.replace(ja,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var ja=/\{\$([^}]+)}/g;function za(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ba(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(qa(u)&&qa(s)){if(!Ba(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function qa(e){return null!==e&&"object"===typeof e}function Ka(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Wa(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ga(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Ha(e,t){var n=new Qa(e,t);return n.subscribe.bind(n)}var Qa=function(){function e(t,n){var r=this;fa(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return da(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=pa(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=$a),void 0===r.error&&(r.error=$a),void 0===r.complete&&(r.complete=$a);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function $a(){}function Xa(e){return e&&e._delegate?e._delegate:e}function Ya(){Ya=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ga(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Ja(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Za(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ja(a,r,i,o,u,"next",e)}function u(e){Ja(a,r,i,o,u,"throw",e)}o(void 0)}))}}var eo=function(){function e(t,n,r){fa(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return da(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),to="[DEFAULT]",no=function(){function e(t,n){fa(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return da(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ca;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch(s){}var t,n=pa(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:to;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Za(Ya().mark((function e(){var t;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(m(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),m(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:to;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:to;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=pa(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=pa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch($R){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ro(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch($R){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:to;return this.component?this.component.multipleInstances?e:to:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function ro(e){return e===to?void 0:e}var io,ao,oo=function(){function e(t){fa(this,e),this.name=t,this.providers=new Map}return da(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new no(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),uo=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ao||(ao={}));var so={debug:ao.DEBUG,verbose:ao.VERBOSE,info:ao.INFO,warn:ao.WARN,error:ao.ERROR,silent:ao.SILENT},co=ao.INFO,lo=(Je(io={},ao.DEBUG,"log"),Je(io,ao.VERBOSE,"log"),Je(io,ao.INFO,"info"),Je(io,ao.WARN,"warn"),Je(io,ao.ERROR,"error"),io),fo=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=lo[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ho=function(){function e(t){fa(this,e),this.name=t,this._logLevel=co,this._logHandler=fo,this._userLogHandler=null,uo.push(this)}return da(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ao))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?so[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ao.DEBUG].concat(t)),this._logHandler.apply(this,[this,ao.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ao.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ao.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ao.INFO].concat(t)),this._logHandler.apply(this,[this,ao.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ao.WARN].concat(t)),this._logHandler.apply(this,[this,ao.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ao.ERROR].concat(t)),this._logHandler.apply(this,[this,ao.ERROR].concat(t))}}]),e}();function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mo,yo;var go=new WeakMap,ko=new WeakMap,bo=new WeakMap,wo=new WeakMap,xo=new WeakMap;var _o={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ko.get(e);if("objectStoreNames"===t)return e.objectStoreNames||bo.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Eo(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function So(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yo||(yo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(To(this),n),Eo(go.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Eo(e.apply(To(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[To(this),t].concat(r));return bo.set(a,t.sort?t.sort():[t]),Eo(a)}}function Io(e){return"function"===typeof e?So(e):(e instanceof IDBTransaction&&function(e){if(!ko.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ko.set(e,t)}}(e),t=e,(mo||(mo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,_o):e);var t}function Eo(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Eo(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&go.set(t,e)})).catch((function(){})),xo.set(t,e),t}(e);if(wo.has(e))return wo.get(e);var t=Io(e);return t!==e&&(wo.set(e,t),xo.set(t,e)),t}var To=function(e){return xo.get(e)};var Co,Ao,Ro=["get","getKey","getAll","getAllKeys","count"],No=["put","add","delete","clear"],Po=new Map;function Oo(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Po.get(t))return Po.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=No.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ro.includes(n))){var a=function(){var e=Za(Ya().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Po.set(t,a),a}}}_o=function(e){return vo(vo({},e),{},{get:function(t,n,r){return Oo(t,n)||e.get(t,n,r)},has:function(t,n){return!!Oo(t,n)||e.has(t,n)}})}(_o);var Do=function(){function e(t){fa(this,e),this.container=t}return da(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Lo="@firebase/app",Mo="0.7.26",Fo=new ho("@firebase/app"),Uo="[DEFAULT]",Vo=(Je(Co={},Lo,"fire-core"),Je(Co,"@firebase/app-compat","fire-core-compat"),Je(Co,"@firebase/analytics","fire-analytics"),Je(Co,"@firebase/analytics-compat","fire-analytics-compat"),Je(Co,"@firebase/app-check","fire-app-check"),Je(Co,"@firebase/app-check-compat","fire-app-check-compat"),Je(Co,"@firebase/auth","fire-auth"),Je(Co,"@firebase/auth-compat","fire-auth-compat"),Je(Co,"@firebase/database","fire-rtdb"),Je(Co,"@firebase/database-compat","fire-rtdb-compat"),Je(Co,"@firebase/functions","fire-fn"),Je(Co,"@firebase/functions-compat","fire-fn-compat"),Je(Co,"@firebase/installations","fire-iid"),Je(Co,"@firebase/installations-compat","fire-iid-compat"),Je(Co,"@firebase/messaging","fire-fcm"),Je(Co,"@firebase/messaging-compat","fire-fcm-compat"),Je(Co,"@firebase/performance","fire-perf"),Je(Co,"@firebase/performance-compat","fire-perf-compat"),Je(Co,"@firebase/remote-config","fire-rc"),Je(Co,"@firebase/remote-config-compat","fire-rc-compat"),Je(Co,"@firebase/storage","fire-gcs"),Je(Co,"@firebase/storage-compat","fire-gcs-compat"),Je(Co,"@firebase/firestore","fire-fst"),Je(Co,"@firebase/firestore-compat","fire-fst-compat"),Je(Co,"fire-js","fire-js"),Je(Co,"firebase","fire-js-all"),Co),jo=new Map,zo=new Map;function Bo(e,t){try{e.container.addComponent(t)}catch(n){Fo.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function qo(e,t){e.container.addOrOverwriteComponent(t)}function Ko(e){var t=e.name;if(zo.has(t))return Fo.debug("There were multiple attempts to register component ".concat(t,".")),!1;zo.set(t,e);var n,r=pa(jo.values());try{for(r.s();!(n=r.n()).done;){Bo(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Wo(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Go(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uo;Wo(e,t).clearInstance(n)}function Ho(){zo.clear()}var Qo=(Je(Ao={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Je(Ao,"bad-app-name","Illegal App name: '{$appName}"),Je(Ao,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Je(Ao,"app-deleted","Firebase App named '{$appName}' already deleted"),Je(Ao,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Je(Ao,"invalid-log-argument","First argument to `onLog` must be null or a function."),Je(Ao,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Je(Ao,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Je(Ao,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Je(Ao,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Ao),$o=new Ua("app","Firebase",Qo),Xo=function(){function e(t,n,r){var i=this;fa(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eo("app",(function(){return i}),"PUBLIC"))}return da(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}]),e}(),Yo="9.8.3";function Jo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Uo,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw $o.create("bad-app-name",{appName:String(i)});var a=jo.get(i);if(a){if(Ba(e,a.options)&&Ba(r,a.config))return a;throw $o.create("duplicate-app",{appName:i})}var o,u=new oo(i),s=pa(zo.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Xo(e,r,u);return jo.set(i,l),l}function Zo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uo,t=jo.get(e);if(!t)throw $o.create("no-app",{appName:e});return t}function eu(){return Array.from(jo.values())}function tu(e){return nu.apply(this,arguments)}function nu(){return(nu=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!jo.has(n)){e.next=6;break}return jo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ru(e,t,n){var r,i=null!==(r=Vo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Fo.warn(u.join(" "))}Ko(new eo("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function iu(e,t){if(null!==e&&"function"!==typeof e)throw $o.create("invalid-log-argument");!function(e,t){var n,r=pa(uo);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=so[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ao[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function au(e){var t;t=e,uo.forEach((function(e){e.setLogLevel(t)}))}var ou="firebase-heartbeat-store",uu=null;function su(){return uu||(uu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Eo(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Eo(u.result),e.oldVersion,e.newVersion,Eo(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ou)}}).catch((function(e){throw $o.create("storage-open",{originalErrorMessage:e.message})}))),uu}function cu(e){return lu.apply(this,arguments)}function lu(){return lu=Za(Ya().mark((function e(t){var n,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,su();case 3:return r=e.sent,e.abrupt("return",r.transaction(ou).objectStore(ou).get(du(t)));case 7:throw e.prev=7,e.t0=e.catch(0),$o.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),lu.apply(this,arguments)}function fu(e,t){return hu.apply(this,arguments)}function hu(){return hu=Za(Ya().mark((function e(t,n){var r,i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,su();case 3:return i=e.sent,a=i.transaction(ou,"readwrite"),o=a.objectStore(ou),e.next=8,o.put(n,du(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),$o.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),hu.apply(this,arguments)}function du(e){return"".concat(e.name,"!").concat(e.options.appId)}var pu=function(){function e(t){var n=this;fa(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ku(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return da(e,[{key:"triggerHeartbeat",value:function(){var e=Za(Ya().mark((function e(){var t,n,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=vu(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Za(Ya().mark((function e(){var t,n,r,i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=vu(),n=mu(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ia(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function vu(){return(new Date).toISOString().substring(0,10)}function mu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=pa(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),bu(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),bu(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var yu,gu,ku=function(){function e(t){fa(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return da(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ma()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Za(Ya().mark((function e(){var t;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,cu(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Za(Ya().mark((function e(t){var n,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",fu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Za(Ya().mark((function e(t){var n,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",fu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(m(r.heartbeats),m(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function bu(e){return Ia(JSON.stringify({version:2,heartbeats:e})).length}yu="",Ko(new eo("platform-logger",(function(e){return new Do(e)}),"PRIVATE")),Ko(new eo("heartbeat",(function(e){return new pu(e)}),"PRIVATE")),ru(Lo,Mo,yu),ru(Lo,Mo,"esm2017"),ru("fire-js","");var wu=function(){function e(t,n){var r=this;fa(this,e),this._delegate=t,this.firebase=n,Bo(t,new eo("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return da(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),tu(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uo;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uo;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Bo(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){qo(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),xu=(Je(gu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Je(gu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),gu),_u=new Ua("app-compat","Firebase",xu);var Su=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Jo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(za(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ru,setLogLevel:au,onLog:iu,apps:null,SDK_VERSION:Yo,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ko(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw _u.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ta(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!za(n,e=e||Uo))throw _u.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(wu);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ta(n,e)},createSubscribe:Ha,ErrorFactory:Ua,deepExtend:Ta}),n}(),Iu=new ho("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Iu.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Eu=self.firebase.SDK_VERSION;Eu&&Eu.indexOf("LITE")>=0&&Iu.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Tu=Su;!function(e){ru("@firebase/app-compat","0.1.27",e)}();function Cu(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ma(e)););return e}function Au(){return Au="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Cu(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Au.apply(this,arguments)}Tu.registerVersion("firebase","9.8.3","app-compat");function Ru(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Nu;Object.create;var Pu="facebook.com",Ou="github.com",Du="google.com",Lu="password",Mu="twitter.com",Fu="EMAIL_SIGNIN",Uu="PASSWORD_RESET",Vu="RECOVER_EMAIL",ju="REVERT_SECOND_FACTOR_ADDITION",zu="VERIFY_AND_CHANGE_EMAIL",Bu="VERIFY_EMAIL";function qu(){return Je({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ku=function(){var e;return Je(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Je(e,"argument-error",""),Je(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Je(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Je(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Je(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Je(e,"cordova-not-ready","Cordova framework is not ready."),Je(e,"cors-unsupported","This browser is not supported."),Je(e,"credential-already-in-use","This credential is already associated with a different user account."),Je(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Je(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Je(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Je(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Je(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Je(e,"email-already-in-use","The email address is already in use by another account."),Je(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Je(e,"expired-action-code","The action code has expired."),Je(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Je(e,"internal-error","An internal AuthError has occurred."),Je(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Je(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Je(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Je(e,"invalid-auth-event","An internal AuthError has occurred."),Je(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Je(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Je(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Je(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Je(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Je(e,"invalid-email","The email address is badly formatted."),Je(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Je(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Je(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Je(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Je(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Je(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Je(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Je(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Je(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Je(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Je(e,"wrong-password","The password is invalid or the user does not have a password."),Je(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Je(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Je(e,"invalid-provider-id","The specified provider ID is invalid."),Je(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Je(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Je(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Je(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Je(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Je(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Je(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Je(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Je(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Je(e,"missing-continue-uri","A continue URL must be provided in the request."),Je(e,"missing-iframe-start","An internal AuthError has occurred."),Je(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Je(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Je(e,"missing-multi-factor-info","No second factor identifier is provided."),Je(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Je(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Je(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Je(e,"app-deleted","This instance of FirebaseApp has been deleted."),Je(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Je(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Je(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Je(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Je(e,"no-auth-event","An internal AuthError has occurred."),Je(e,"no-such-provider","User was not linked to an account with the given provider."),Je(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Je(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Je(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Je(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Je(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Je(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Je(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Je(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Je(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Je(e,"rejected-credential","The request contains malformed or mismatching credentials."),Je(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Je(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Je(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Je(e,"timeout","The operation has timed out."),Je(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Je(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Je(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Je(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Je(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Je(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Je(e,"unverified-email","The operation requires a verified email."),Je(e,"user-cancelled","The user did not grant your application the permissions it requested."),Je(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Je(e,"user-disabled","The user account has been disabled by an administrator."),Je(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Je(e,"user-signed-out",""),Je(e,"weak-password","The password must be 6 characters long or more."),Je(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Je(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Wu=qu,Gu=new Ua("auth","Firebase",qu()),Hu=new ho("@firebase/auth");function Qu(e){if(Hu.logLevel<=ao.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Hu.error.apply(Hu,["Auth (".concat(Yo,"): ").concat(e)].concat(n))}}function $u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Zu.apply(void 0,[e].concat(n))}function Xu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Zu.apply(void 0,[e].concat(n))}function Yu(e,t,n){var r=Object.assign(Object.assign({},Wu()),Je({},t,n));return new Ua("auth","Firebase",r).create(t,{appName:e.name})}function Ju(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&$u(e,"argument-error"),Yu(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Zu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=m(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(m(o)))}return Gu.create.apply(Gu,[e].concat(n))}function es(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Zu.apply(void 0,[t].concat(r))}}function ts(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Qu(t),new Error(t)}function ns(e,t){e||ts(t)}var rs=new Map;function is(e){ns(e instanceof Function,"Expected a class definition");var t=rs.get(e);return t?(ns(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,rs.set(e,t),t)}function as(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function os(){return"http:"===us()||"https:"===us()}function us(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ss=function(){function e(t,n){fa(this,e),this.shortDelay=t,this.longDelay=n,ns(n>t,"Short delay should be less than long delay!"),this.isMobile=Na()||Da()}return da(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(os()||Oa()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function cs(e,t){ns(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ls=function(){function e(){fa(this,e)}return da(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),fs=(Je(Nu={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Je(Nu,"MISSING_CUSTOM_TOKEN","internal-error"),Je(Nu,"INVALID_IDENTIFIER","invalid-email"),Je(Nu,"MISSING_CONTINUE_URI","internal-error"),Je(Nu,"INVALID_PASSWORD","wrong-password"),Je(Nu,"MISSING_PASSWORD","internal-error"),Je(Nu,"EMAIL_EXISTS","email-already-in-use"),Je(Nu,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Je(Nu,"INVALID_IDP_RESPONSE","invalid-credential"),Je(Nu,"INVALID_PENDING_TOKEN","invalid-credential"),Je(Nu,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Je(Nu,"MISSING_REQ_TYPE","internal-error"),Je(Nu,"EMAIL_NOT_FOUND","user-not-found"),Je(Nu,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Je(Nu,"EXPIRED_OOB_CODE","expired-action-code"),Je(Nu,"INVALID_OOB_CODE","invalid-action-code"),Je(Nu,"MISSING_OOB_CODE","internal-error"),Je(Nu,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Je(Nu,"INVALID_ID_TOKEN","invalid-user-token"),Je(Nu,"TOKEN_EXPIRED","user-token-expired"),Je(Nu,"USER_NOT_FOUND","user-token-expired"),Je(Nu,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Je(Nu,"INVALID_CODE","invalid-verification-code"),Je(Nu,"INVALID_SESSION_INFO","invalid-verification-id"),Je(Nu,"INVALID_TEMPORARY_PROOF","invalid-credential"),Je(Nu,"MISSING_SESSION_INFO","missing-verification-id"),Je(Nu,"SESSION_EXPIRED","code-expired"),Je(Nu,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Je(Nu,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Je(Nu,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Je(Nu,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Je(Nu,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Je(Nu,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Je(Nu,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Je(Nu,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Je(Nu,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Je(Nu,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Je(Nu,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Nu),hs=new ss(3e4,6e4);function ds(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ps(e,t,n,r){return vs.apply(this,arguments)}function vs(){return vs=Za(Ya().mark((function e(t,n,r,i){var a,o=arguments;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ms(t,a,Za(Ya().mark((function e(){var a,o,u,s;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ka(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ls.fetch()(bs(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ms(e,t,n){return ys.apply(this,arguments)}function ys(){return ys=Za(Ya().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},fs),n),e.prev=2,a=new ws(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw xs(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw xs(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw xs(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw xs(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Yu(t,p,d);case 34:$u(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Fa)){e.next=41;break}throw e.t0;case 41:$u(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),ys.apply(this,arguments)}function gs(e,t,n,r){return ks.apply(this,arguments)}function ks(){return ks=Za(Ya().mark((function e(t,n,r,i){var a,o,u=arguments;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,ps(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&$u(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ks.apply(this,arguments)}function bs(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?cs(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ws=function(){function e(t){var n=this;fa(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Xu(n.auth,"network-request-failed"))}),hs.get())}))}return da(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function xs(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Xu(e,t,r);return i.customData._tokenResponse=n,i}function _s(e,t){return Ss.apply(this,arguments)}function Ss(){return Ss=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}function Is(e,t){return Es.apply(this,arguments)}function Es(){return Es=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}function Ts(e,t){return Cs.apply(this,arguments)}function Cs(){return Cs=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function As(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Rs(){return Rs=Za(Ya().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Xa(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,es((a=Ps(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:As(Ns(a.auth_time)),issuedAtTime:As(Ns(a.iat)),expirationTime:As(Ns(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}function Ns(e){return 1e3*Number(e)}function Ps(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Qu("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ea(r);return a?JSON.parse(a):(Qu("Failed to decode base64 JWT payload"),null)}catch(o){return Qu("Caught error parsing JWT payload as JSON",o),null}}function Os(e,t){return Ds.apply(this,arguments)}function Ds(){return Ds=Za(Ya().mark((function e(t,n){var r=arguments;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Fa&&Ls(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ds.apply(this,arguments)}function Ls(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ms=function(){function e(t){fa(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return da(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Za(Ya().mark((function t(){return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Fs=function(){function e(t,n){fa(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return da(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=As(this.lastLoginAt),this.creationTime=As(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Us(e){return Vs.apply(this,arguments)}function Vs(){return Vs=Za(Ya().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Os(t,Ts(r,{idToken:i}));case 6:es(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Bs(o.providerUserInfo):[],s=zs(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Fs(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Vs.apply(this,arguments)}function js(){return(js=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xa(t),e.next=3,Us(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zs(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(m(n),m(t))}function Bs(e){return e.map((function(e){var t=e.providerId,n=Ru(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function qs(e,t){return Ks.apply(this,arguments)}function Ks(){return Ks=Za(Ya().mark((function e(t,n){var r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ms(t,{},Za(Ya().mark((function e(){var r,i,a,o,u,s;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ka({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=bs(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ls.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ks.apply(this,arguments)}var Ws=function(){function e(){fa(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return da(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){es(e.idToken,"internal-error"),es("undefined"!==typeof e.idToken,"internal-error"),es("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ps(e);return es(t,"internal-error"),es("undefined"!==typeof t.exp,"internal-error"),es("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Za(Ya().mark((function e(t){var n,r=arguments;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],es(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Za(Ya().mark((function e(t,n){var r,i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qs(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ts("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(es("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(es("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(es("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Gs(e,t){es("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Hs=function(){function e(t){fa(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ru(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ms(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?m(a.providerData):[],this.metadata=new Fs(a.createdAt||void 0,a.lastLoginAt||void 0)}return da(e,[{key:"getIdToken",value:function(){var e=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(es(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Rs.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return js.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(es(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){es(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Za(Ya().mark((function e(t){var n,r,i=arguments;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Us(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Za(Ya().mark((function e(){var t;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Os(this,_s(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;es(k&&_,t,"internal-error");var S=Ws.fromJSON(this.name,_);es("string"===typeof k,t,"internal-error"),Gs(f,t.name),Gs(h,t.name),es("boolean"===typeof b,t,"internal-error"),es("boolean"===typeof w,t,"internal-error"),Gs(d,t.name),Gs(p,t.name),Gs(v,t.name),Gs(m,t.name),Gs(y,t.name),Gs(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Za(Ya().mark((function t(n,r){var i,a,o,u=arguments;return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Ws).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Us(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Qs=function(){function e(){fa(this,e),this.type="NONE",this.storage={}}return da(e,[{key:"_isAvailable",value:function(){var e=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Qs.type="NONE";var $s=Qs;function Xs(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ys=function(){function e(t,n,r){fa(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Xs(this.userKey,a.apiKey,o),this.fullPersistenceKey=Xs("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return da(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Za(Ya().mark((function e(){var t;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Hs._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Za(Ya().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(is($s),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||is($s),u=Xs(i,n.config.apiKey,n.name),s=null,c=pa(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Hs._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Js(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zs(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ic(t))return"Blackberry";if(ac(t))return"Webos";if(ec(t))return"Safari";if((t.includes("chrome/")||tc(t))&&!t.includes("edge/"))return"Chrome";if(rc(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Zs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/firefox\//i.test(e)}function ec(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/crios\//i.test(e)}function nc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/iemobile/i.test(e)}function rc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/android/i.test(e)}function ic(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/blackberry/i.test(e)}function ac(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/webos/i.test(e)}function oc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/iphone|ipad|ipod/i.test(e)}function uc(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return oc(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function sc(){return La()&&10===document.documentMode}function cc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return oc(e)||rc(e)||ac(e)||ic(e)||/windows phone/i.test(e)||nc(e)}function lc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Js(Ra());break;case"Worker":t="".concat(Js(Ra()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Yo,"/").concat(r)}var fc=function(){function e(t){fa(this,e),this.auth=t,this.queue=[]}return da(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Za(Ya().mark((function e(t){var n,r,i,a,o,u,s,c;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=pa(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=pa(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),hc=function(){function e(t,n,r){fa(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pc(this),this.idTokenSubscription=new pc(this),this.beforeStateQueue=new fc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gu,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return da(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=is(t)),this._initializationPromise=this.queue(Za(Ya().mark((function r(){var i,a;return Ya().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ys.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Za(Ya().mark((function e(){var t;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Za(Ya().mark((function e(t){var n,r,i,a,o,u,s;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return es(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Us(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Xa(t):null)&&es(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Za(Ya().mark((function e(t){var n,r=this,i=arguments;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&es(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Za(Ya().mark((function n(){return Ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(is(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ua("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Za(Ya().mark((function e(t,n){var r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return es(n=t&&is(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ys.create(this,[is(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Za(Ya().mark((function e(t){var n,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Za(Ya().mark((function e(t){var n=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return es(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return es(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lc(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Za(Ya().mark((function e(){var t,n,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Je({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function dc(e){return Xa(e)}var pc=function(){function e(t){var n=this;fa(this,e),this.auth=t,this.observer=null,this.addObserver=Ha((function(e){return n.observer=e}))}return da(e,[{key:"next",get:function(){return es(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function vc(e,t,n){var r=dc(e);es(r._canInitEmulator,r,"emulator-config-failed"),es(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=mc(t),o=function(e){var t=mc(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:yc(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:yc(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function mc(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yc(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var gc=function(){function e(t,n){fa(this,e),this.providerId=t,this.signInMethod=n}return da(e,[{key:"toJSON",value:function(){return ts("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ts("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ts("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ts("not implemented")}}]),e}();function kc(e,t){return bc.apply(this,arguments)}function bc(){return bc=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:resetPassword",ds(t,n)));case 1:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function wc(e,t){return xc.apply(this,arguments)}function xc(){return xc=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function _c(e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:update",ds(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ic(e,t){return Ec.apply(this,arguments)}function Ec(){return Ec=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:signInWithPassword",ds(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}function Tc(e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:sendOobCode",ds(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Ac(e,t){return Rc.apply(this,arguments)}function Rc(){return Rc=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tc(t,n));case 1:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}function Nc(e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tc(t,n));case 1:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Oc(e,t){return Dc.apply(this,arguments)}function Dc(){return Dc=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tc(t,n));case 1:case"end":return e.stop()}}),e)}))),Dc.apply(this,arguments)}function Lc(e,t){return Mc.apply(this,arguments)}function Mc(){return Mc=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tc(t,n));case 1:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function Fc(e,t){return Uc.apply(this,arguments)}function Uc(){return Uc=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:signInWithEmailLink",ds(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uc.apply(this,arguments)}function Vc(e,t){return jc.apply(this,arguments)}function jc(){return jc=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:signInWithEmailLink",ds(t,n)));case 1:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}var zc=function(e){va(n,e);var t=ba(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return fa(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return da(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ic(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Fc(t,{email:this._email,oobCode:this._password}));case 5:$u(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",wc(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Vc(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:$u(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(gc);function Bc(e,t){return qc.apply(this,arguments)}function qc(){return qc=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:signInWithIdp",ds(t,n)));case 1:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}var Kc=function(e){va(n,e);var t=ba(n);function n(){var e;return fa(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return da(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Bc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Bc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Bc(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ka(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$u("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ru(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(gc);function Wc(e,t){return Gc.apply(this,arguments)}function Gc(){return Gc=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:sendVerificationCode",ds(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}function Hc(){return Hc=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:signInWithPhoneNumber",ds(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}function Qc(){return Qc=Za(Ya().mark((function e(t,n){var r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gs(t,"POST","/v1/accounts:signInWithPhoneNumber",ds(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw xs(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}var $c=Je({},"USER_NOT_FOUND","user-not-found");function Xc(){return Xc=Za(Ya().mark((function e(t,n){var r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",gs(t,"POST","/v1/accounts:signInWithPhoneNumber",ds(t,r),$c));case 2:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}var Yc=function(e){va(n,e);var t=ba(n);function n(e){var r;return fa(this,n),(r=t.call(this,"phone","phone")).params=e,r}return da(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Hc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Qc.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Xc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(gc);var Jc=function(){function e(t){var n,r,i,a,o,u;fa(this,e);var s=Wa(Ga(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);es(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return da(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Wa(Ga(e)).link,n=t?Wa(Ga(t)).deep_link_id:null,r=Wa(Ga(e)).deep_link_id;return(r?Wa(Ga(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch($R){return null}}}]),e}();var Zc=function(){function e(){fa(this,e),this.providerId=e.PROVIDER_ID}return da(e,null,[{key:"credential",value:function(e,t){return zc._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Jc.parseLink(t);return es(n,"argument-error"),zc._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Zc.PROVIDER_ID="password",Zc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Zc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var el=function(){function e(t){fa(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return da(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),tl=function(e){va(n,e);var t=ba(n);function n(){var e;return fa(this,n),(e=t.apply(this,arguments)).scopes=[],e}return da(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return m(this.scopes)}}]),n}(el),nl=function(e){va(n,e);var t=ba(n);function n(){return fa(this,n),t.apply(this,arguments)}return da(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return es(e.idToken||e.accessToken,"argument-error"),Kc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return es("providerId"in t&&"signInMethod"in t,"argument-error"),Kc._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(tl),rl=function(e){va(n,e);var t=ba(n);function n(){return fa(this,n),t.call(this,"facebook.com")}return da(n,null,[{key:"credential",value:function(e){return Kc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch($R){return null}}}]),n}(tl);rl.FACEBOOK_SIGN_IN_METHOD="facebook.com",rl.PROVIDER_ID="facebook.com";var il=function(e){va(n,e);var t=ba(n);function n(){var e;return fa(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return da(n,null,[{key:"credential",value:function(e,t){return Kc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch($R){return null}}}]),n}(tl);il.GOOGLE_SIGN_IN_METHOD="google.com",il.PROVIDER_ID="google.com";var al=function(e){va(n,e);var t=ba(n);function n(){return fa(this,n),t.call(this,"github.com")}return da(n,null,[{key:"credential",value:function(e){return Kc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch($R){return null}}}]),n}(tl);al.GITHUB_SIGN_IN_METHOD="github.com",al.PROVIDER_ID="github.com";var ol=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return da(n,[{key:"_getIdTokenResponse",value:function(e){return Bc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Bc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Bc(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(gc),ul=function(e){va(n,e);var t=ba(n);function n(e){return fa(this,n),es(e.startsWith("saml."),"argument-error"),t.call(this,e)}return da(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=ol.fromJSON(e);return es(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return ol._create(r,n)}catch(i){return null}}}]),n}(el),sl=function(e){va(n,e);var t=ba(n);function n(){return fa(this,n),t.call(this,"twitter.com")}return da(n,null,[{key:"credential",value:function(e,t){return Kc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch($R){return null}}}]),n}(tl);function cl(e,t){return ll.apply(this,arguments)}function ll(){return ll=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:signUp",ds(t,n)));case 1:case"end":return e.stop()}}),e)}))),ll.apply(this,arguments)}sl.TWITTER_SIGN_IN_METHOD="twitter.com",sl.PROVIDER_ID="twitter.com";var fl=function(){function e(t){fa(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return da(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Za(Ya().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Hs._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=hl(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Za(Ya().mark((function t(n,r,i){var a;return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=hl(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function hl(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function dl(){return dl=Za(Ya().mark((function e(t){var n,r,i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dc(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new fl({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,cl(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,fl._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),dl.apply(this,arguments)}var pl=function(e){va(n,e);var t=ba(n);function n(e,r,i,a){var o,u;return fa(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(mi(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return da(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Fa);function vl(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw pl._fromErrorAndOperation(e,n,t,r);throw n}))}function ml(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function yl(e,t){return gl.apply(this,arguments)}function gl(){return gl=Za(Ya().mark((function e(t,n){var r,i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xa(t),e.next=3,wl(!0,r,n);case 3:return e.t0=Is,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ml(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),gl.apply(this,arguments)}function kl(e,t){return bl.apply(this,arguments)}function bl(){return bl=Za(Ya().mark((function e(t,n){var r,i,a=arguments;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Os,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",fl._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}function wl(e,t,n){return xl.apply(this,arguments)}function xl(){return(xl=Za(Ya().mark((function e(t,n,r){var i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Us(n);case 2:i=ml(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",es(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _l(e,t){return Sl.apply(this,arguments)}function Sl(){return Sl=Za(Ya().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Os(t,vl(i,a,n,t),r);case 6:return es((o=e.sent).idToken,i,"internal-error"),es(u=Ps(o.idToken),i,"internal-error"),s=u.sub,es(t.uid===s,i,"user-mismatch"),e.abrupt("return",fl._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&$u(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Sl.apply(this,arguments)}function Il(e,t){return El.apply(this,arguments)}function El(){return El=Za(Ya().mark((function e(t,n){var r,i,a,o,u=arguments;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,vl(t,i,n);case 4:return a=e.sent,e.next=7,fl._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),El.apply(this,arguments)}function Tl(e,t){return Cl.apply(this,arguments)}function Cl(){return Cl=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Il(dc(t),n));case 1:case"end":return e.stop()}}),e)}))),Cl.apply(this,arguments)}function Al(e,t){return Rl.apply(this,arguments)}function Rl(){return(Rl=Za(Ya().mark((function e(t,n){var r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xa(t),e.next=3,wl(!1,r,n.providerId);case 3:return e.abrupt("return",kl(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nl(e,t){return Pl.apply(this,arguments)}function Pl(){return(Pl=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_l(Xa(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ol(e,t){return Dl.apply(this,arguments)}function Dl(){return Dl=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(t,"POST","/v1/accounts:signInWithCustomToken",ds(t,n)));case 1:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Ll(){return Ll=Za(Ya().mark((function e(t,n){var r,i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dc(t),e.next=3,Ol(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,fl._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Ll.apply(this,arguments)}var Ml=function(){function e(t,n){fa(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return da(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Fl._fromServerResponse(e,t):$u(e,"internal-error")}}]),e}(),Fl=function(e){va(n,e);var t=ba(n);function n(e){var r;return fa(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return da(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ml);function Ul(e,t,n){var r;es((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),es("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(es(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(es(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Vl(){return Vl=Za(Ya().mark((function e(t,n,r){var i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xa(t),a={requestType:"PASSWORD_RESET",email:n},r&&Ul(i,a,r),e.next=5,Nc(i,a);case 5:case"end":return e.stop()}}),e)}))),Vl.apply(this,arguments)}function jl(){return jl=Za(Ya().mark((function e(t,n,r){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kc(Xa(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),jl.apply(this,arguments)}function zl(){return zl=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_c(Xa(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),zl.apply(this,arguments)}function Bl(e,t){return ql.apply(this,arguments)}function ql(){return ql=Za(Ya().mark((function e(t,n){var r,i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xa(t),e.next=3,kc(r,{oobCode:n});case 3:i=e.sent,es(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return es(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:es(i.mfaInfo,r,"internal-error");case 13:es(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Ml._fromServerResponse(dc(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),ql.apply(this,arguments)}function Kl(){return Kl=Za(Ya().mark((function e(t,n){var r,i;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bl(Xa(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}function Wl(e,t,n){return Gl.apply(this,arguments)}function Gl(){return Gl=Za(Ya().mark((function e(t,n,r){var i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dc(t),e.next=3,cl(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,fl._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Hl(){return Hl=Za(Ya().mark((function e(t,n,r){var i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xa(t),a={requestType:"EMAIL_SIGNIN",email:n},es(r.handleCodeInApp,i,"argument-error"),r&&Ul(i,a,r),e.next=6,Oc(i,a);case 6:case"end":return e.stop()}}),e)}))),Hl.apply(this,arguments)}function Ql(){return Ql=Za(Ya().mark((function e(t,n,r){var i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xa(t),es((a=Zc.credentialWithLink(n,r||as()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Tl(i,a));case 4:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function $l(e,t){return Xl.apply(this,arguments)}function Xl(){return Xl=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:createAuthUri",ds(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}function Yl(){return Yl=Za(Ya().mark((function e(t,n){var r,i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=os()?as():"http://localhost",i={identifier:n,continueUri:r},e.next=4,$l(Xa(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Yl.apply(this,arguments)}function Jl(){return(Jl=Za(Ya().mark((function e(t,n){var r,i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xa(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ul(r.auth,a,n),e.next=8,Ac(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zl(){return(Zl=Za(Ya().mark((function e(t,n,r){var i,a,o,u;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xa(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ul(i.auth,o,r),e.next=8,Lc(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ef(e,t){return tf.apply(this,arguments)}function tf(){return tf=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}function nf(){return(nf=Za(Ya().mark((function e(t,n){var r,i,a,o,u,s,c;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Xa(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Os(a,ef(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rf(e,t,n){return af.apply(this,arguments)}function af(){return af=Za(Ya().mark((function e(t,n,r){var i,a,o,u;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Os(t,wc(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),af.apply(this,arguments)}var of=da((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fa(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),uf=function(e){va(n,e);var t=ba(n);function n(e,r,i,a){var o;return fa(this,n),(o=t.call(this,e,r,i)).username=a,o}return da(n)}(of),sf=function(e){va(n,e);var t=ba(n);function n(e,r){return fa(this,n),t.call(this,e,"facebook.com",r)}return da(n)}(of),cf=function(e){va(n,e);var t=ba(n);function n(e,r){return fa(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return da(n)}(uf),lf=function(e){va(n,e);var t=ba(n);function n(e,r){return fa(this,n),t.call(this,e,"google.com",r)}return da(n)}(of),ff=function(e){va(n,e);var t=ba(n);function n(e,r,i){return fa(this,n),t.call(this,e,"twitter.com",r,i)}return da(n)}(uf);function hf(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ps(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new of(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new sf(a,i);case"github.com":return new cf(a,i);case"google.com":return new lf(a,i);case"twitter.com":return new ff(a,i,e.screenName||null);case"custom":case"anonymous":return new of(a,null);default:return new of(a,r,i)}}(n)}var df=function(){function e(t,n){fa(this,e),this.type=t,this.credential=n}return da(e,[{key:"toJSON",value:function(){return{multiFactorSession:Je({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),pf=function(){function e(t,n,r){fa(this,e),this.session=t,this.hints=n,this.signInResolver=r}return da(e,[{key:"resolveSignIn",value:function(){var e=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=dc(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Ml._fromServerResponse(r,e)}));es(i.mfaPendingCredential,r,"internal-error");var o=df._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Za(Ya().mark((function e(t){var a,u,s;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,fl._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return es(n.user,r,"internal-error"),e.abrupt("return",fl._forOperation(n.user,n.operationType,u));case 17:$u(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function vf(e,t){return ps(e,"POST","/v2/accounts/mfaEnrollment:start",ds(e,t))}function mf(e,t){return ps(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ds(e,t))}var yf=function(){function e(t){var n=this;fa(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Ml._fromServerResponse(t.auth,e)})))}))}return da(e,[{key:"getSession",value:function(){var e=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=df,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Za(Ya().mark((function e(t,n){var r,i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Os(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Za(Ya().mark((function e(t){var n,r,i;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Os(this.user,mf(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),gf=new WeakMap;var kf="__sak",bf=function(){function e(t,n){fa(this,e),this.storageRetriever=t,this.type=n}return da(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(kf,"1"),this.storage.removeItem(kf),Promise.resolve(!0)):Promise.resolve(!1)}catch($R){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var wf=function(e){va(n,e);var t=ba(n);function n(){var e;return fa(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ra();return ec(e)||oc(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=cc(),e._shouldAllowMigration=!0,e}return da(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);sc()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Za(Ya().mark((function e(t,r){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au(ma(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Za(Ya().mark((function e(t){var r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au(ma(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au(ma(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(bf);wf.type="LOCAL";var xf=wf,_f=function(e){va(n,e);var t=ba(n);function n(){return fa(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return da(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(bf);_f.type="SESSION";var Sf=_f;function If(e){return Promise.all(e.map(function(){var e=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ef=function(){function e(t){fa(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return da(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Za(Ya().mark((function e(t){var n,r,i,a,o,u,s,c;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,If(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Tf(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ef.receivers=[];var Cf=function(){function e(t){fa(this,e),this.target=t,this.handlers=new Set}return da(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Za(Ya().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Tf("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Af(){return window}function Rf(){return"undefined"!==typeof Af().WorkerGlobalScope&&"function"===typeof Af().importScripts}function Nf(){return Pf.apply(this,arguments)}function Pf(){return(Pf=Za(Ya().mark((function e(){var t;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Of(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Df="firebaseLocalStorageDb",Lf="firebaseLocalStorage",Mf="fbase_key",Ff=function(){function e(t){fa(this,e),this.request=t}return da(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Uf(e,t){return e.transaction([Lf],t?"readwrite":"readonly").objectStore(Lf)}function Vf(){var e=indexedDB.deleteDatabase(Df);return new Ff(e).toPromise()}function jf(){var e=indexedDB.open(Df,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Lf,{keyPath:Mf})}catch(r){n(r)}})),e.addEventListener("success",Za(Ya().mark((function n(){var r;return Ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Lf)){n.next=12;break}return r.close(),n.next=5,Vf();case 5:return n.t0=t,n.next=8,jf();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function zf(e,t,n){return Bf.apply(this,arguments)}function Bf(){return Bf=Za(Ya().mark((function e(t,n,r){var i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Uf(t,!0).put((Je(i={},Mf,n),Je(i,"value",r),i)),e.abrupt("return",new Ff(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Bf.apply(this,arguments)}function qf(e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=Za(Ya().mark((function e(t,n){var r,i;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uf(t,!1).get(n),e.next=3,new Ff(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Kf.apply(this,arguments)}function Wf(e,t){var n=Uf(e,!0).delete(t);return new Ff(n).toPromise()}var Gf=function(){function e(){fa(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return da(e,[{key:"_openDb",value:function(){var e=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,jf();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Za(Ya().mark((function e(t){var n,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rf()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Za(Ya().mark((function e(){var t=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ef._getInstance(Rf()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Za(Ya().mark((function e(n,r){var i;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Za(Ya().mark((function e(){var t,n,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Cf(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Of()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Za(Ya().mark((function e(){var t;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,jf();case 5:return t=e.sent,e.next=8,zf(t,kf,"1");case 8:return e.next=10,Wf(t,kf);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Za(Ya().mark((function e(t,n){var r=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return zf(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return qf(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Za(Ya().mark((function e(t){var n=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Wf(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Za(Ya().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Uf(e,!1).getAll();return new Ff(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=pa(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Za(Ya().mark((function t(){return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Gf.type="LOCAL";var Hf=Gf;function Qf(e,t){return ps(e,"POST","/v2/accounts/mfaSignIn:start",ds(e,t))}function $f(e){return Xf.apply(this,arguments)}function Xf(){return Xf=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ps(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Yf(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Xu("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Jf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Zf=1e12,eh=function(){function e(t){fa(this,e),this.auth=t,this.counter=Zf,this._widgets=new Map}return da(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new th(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Zf;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Zf;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Za(Ya().mark((function e(t){var n,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Zf,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),th=function(){function e(t,n,r){var i=this;fa(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;es(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return da(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var nh=Jf("rcb"),rh=new ss(3e4,6e4),ih="https://www.google.com/recaptcha/api.js?",ah=function(){function e(){fa(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Af().grecaptcha}return da(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return es(oh(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Af().grecaptcha):new Promise((function(r,i){var a=Af().setTimeout((function(){i(Xu(e,"network-request-failed"))}),rh.get());Af()[nh]=function(){Af().clearTimeout(a),delete Af()[nh];var o=Af().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Xu(e,"internal-error"))},Yf("".concat(ih,"?").concat(Ka({onload:nh,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Xu(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Af().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function oh(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var uh=function(){function e(){fa(this,e)}return da(e,[{key:"load",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new eh(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),sh="recaptcha",ch={theme:"light",type:"image"},lh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ch),r=arguments.length>2?arguments[2]:void 0;fa(this,e),this.parameters=n,this.type=sh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dc(r),this.isInvisible="invisible"===this.parameters.size,es("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;es(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new uh:new ah,this.validateStartingState()}return da(e,[{key:"verify",value:function(){var e=Za(Ya().mark((function e(){var t,n,r,i=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){es(!this.parameters.sitekey,this.auth,"argument-error"),es(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),es("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Af()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){es(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Za(Ya().mark((function e(){var t,n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Za(Ya().mark((function e(){var t;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return es(os()&&!Rf(),this.auth,"internal-error"),e.next=3,fh();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,$f(this.auth);case 8:es(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return es(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function fh(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var hh=function(){function e(t,n){fa(this,e),this.verificationId=t,this.onConfirmation=n}return da(e,[{key:"confirm",value:function(e){var t=Yc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function dh(){return dh=Za(Ya().mark((function e(t,n,r){var i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dc(t),e.next=3,yh(i,n,Xa(r));case 3:return a=e.sent,e.abrupt("return",new hh(a,(function(e){return Tl(i,e)})));case 5:case"end":return e.stop()}}),e)}))),dh.apply(this,arguments)}function ph(e,t,n){return vh.apply(this,arguments)}function vh(){return(vh=Za(Ya().mark((function e(t,n,r){var i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xa(t),e.next=3,wl(!1,i,"phone");case 3:return e.next=5,yh(i.auth,n,Xa(r));case 5:return a=e.sent,e.abrupt("return",new hh(a,(function(e){return Al(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mh(){return(mh=Za(Ya().mark((function e(t,n,r){var i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xa(t),e.next=3,yh(i.auth,n,Xa(r));case 3:return a=e.sent,e.abrupt("return",new hh(a,(function(e){return Nl(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yh(e,t,n){return gh.apply(this,arguments)}function gh(){return gh=Za(Ya().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,es("string"===typeof a,t,"argument-error"),es(r.type===sh,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return es("enroll"===u.type,t,"internal-error"),e.next=13,vf(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return es("signin"===u.type,t,"internal-error"),es(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Qf(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Wc(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),gh.apply(this,arguments)}function kh(){return(kh=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kl(Xa(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bh=function(){function e(t){fa(this,e),this.providerId=e.PROVIDER_ID,this.auth=dc(t)}return da(e,[{key:"verifyPhoneNumber",value:function(e,t){return yh(this.auth,e,Xa(t))}}],[{key:"credential",value:function(e,t){return Yc._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Yc._fromTokenResponse(n,r):null}}]),e}();function wh(e,t){return t?is(t):(es(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}bh.PROVIDER_ID="phone",bh.PHONE_SIGN_IN_METHOD="phone";var xh=function(e){va(n,e);var t=ba(n);function n(e){var r;return fa(this,n),(r=t.call(this,"custom","custom")).params=e,r}return da(n,[{key:"_getIdTokenResponse",value:function(e){return Bc(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Bc(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Bc(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(gc);function _h(e){return Il(e.auth,new xh(e),e.bypassAuthState)}function Sh(e){var t=e.auth,n=e.user;return es(n,t,"internal-error"),_l(n,new xh(e),e.bypassAuthState)}function Ih(e){return Eh.apply(this,arguments)}function Eh(){return Eh=Za(Ya().mark((function e(t){var n,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,es(r=t.user,n,"internal-error"),e.abrupt("return",kl(r,new xh(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Eh.apply(this,arguments)}var Th=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];fa(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return da(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Za(Ya().mark((function t(n,r){return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Za(Ya().mark((function e(t){var n,r,i,a,o,u,s;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _h;case"linkViaPopup":case"linkViaRedirect":return Ih;case"reauthViaPopup":case"reauthViaRedirect":return Sh;default:$u(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ch=new ss(2e3,1e4);function Ah(e,t,n){return Rh.apply(this,arguments)}function Rh(){return Rh=Za(Ya().mark((function e(t,n,r){var i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dc(t),Ju(t,n,el),a=wh(i,r),o=new Dh(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Rh.apply(this,arguments)}function Nh(){return(Nh=Za(Ya().mark((function e(t,n,r){var i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ju((i=Xa(t)).auth,n,el),a=wh(i.auth,r),o=new Dh(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ph(e,t,n){return Oh.apply(this,arguments)}function Oh(){return(Oh=Za(Ya().mark((function e(t,n,r){var i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ju((i=Xa(t)).auth,n,el),a=wh(i.auth,r),o=new Dh(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dh=function(e){va(n,e);var t=ba(n);function n(e,r,i,a,o){var u;return fa(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=mi(u),u}return da(n,[{key:"executeNotNull",value:function(){var e=Za(Ya().mark((function e(){var t;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return es(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Za(Ya().mark((function e(){var t,n=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ns(1===this.filter.length,"Popup operations only handle one event"),t=Tf(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Xu(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Xu(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Xu(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ch.get())}()}}]),n}(Th);Dh.currentPopupAction=null;var Lh=new Map,Mh=function(e){va(n,e);var t=ba(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return fa(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return da(n,[{key:"execute",value:function(){var e=Za(Ya().mark((function e(){var t,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Lh.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Fh(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Au(ma(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Lh.set(this.auth._key(),t);case 21:return this.bypassAuthState||Lh.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Za(Ya().mark((function e(t){var r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Au(ma(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Au(ma(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Th);function Fh(e,t){return Uh.apply(this,arguments)}function Uh(){return Uh=Za(Ya().mark((function e(t,n){var r,i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qh(n),i=Bh(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Uh.apply(this,arguments)}function Vh(e,t){return jh.apply(this,arguments)}function jh(){return jh=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bh(t)._set(qh(n),"true"));case 1:case"end":return e.stop()}}),e)}))),jh.apply(this,arguments)}function zh(e,t){Lh.set(e._key(),t)}function Bh(e){return is(e._redirectPersistence)}function qh(e){return Xs("pendingRedirect",e.config.apiKey,e.name)}function Kh(e,t,n){return function(e,t,n){return Wh.apply(this,arguments)}(e,t,n)}function Wh(){return Wh=Za(Ya().mark((function e(t,n,r){var i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dc(t),Ju(t,n,el),a=wh(i,r),e.next=5,Vh(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}function Gh(e,t,n){return function(e,t,n){return Hh.apply(this,arguments)}(e,t,n)}function Hh(){return(Hh=Za(Ya().mark((function e(t,n,r){var i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ju((i=Xa(t)).auth,n,el),a=wh(i.auth,r),e.next=5,Vh(a,i.auth);case 5:return e.next=7,ed(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qh(e,t,n){return function(e,t,n){return $h.apply(this,arguments)}(e,t,n)}function $h(){return($h=Za(Ya().mark((function e(t,n,r){var i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ju((i=Xa(t)).auth,n,el),a=wh(i.auth,r),e.next=5,wl(!1,i,n.providerId);case 5:return e.next=7,Vh(a,i.auth);case 7:return e.next=9,ed(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xh(e,t){return Yh.apply(this,arguments)}function Yh(){return Yh=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dc(t)._initializationPromise;case 2:return e.abrupt("return",Jh(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Yh.apply(this,arguments)}function Jh(e,t){return Zh.apply(this,arguments)}function Zh(){return Zh=Za(Ya().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=dc(t),a=wh(i,n),o=new Mh(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Zh.apply(this,arguments)}function ed(e){return td.apply(this,arguments)}function td(){return(td=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tf("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nd=function(){function e(t){fa(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return da(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return id(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!id(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Xu(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rd(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(rd(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function rd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function id(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ad(e){return od.apply(this,arguments)}function od(){return od=Za(Ya().mark((function e(t){var n,r=arguments;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ps(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),od.apply(this,arguments)}var ud=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sd=/^https?/;function cd(){return cd=Za(Ya().mark((function e(t){var n,r,i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ad(t);case 4:n=e.sent,r=n.authorizedDomains,i=pa(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ld(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:$u(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),cd.apply(this,arguments)}function ld(e){var t=as(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!sd.test(r))return!1;if(ud.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var fd=new ss(3e4,6e4);function hd(){var e=Af().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=m(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var dd=null;function pd(e){return dd=dd||function(e){return new Promise((function(t,n){var r,i,a;function o(){hd(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){hd(),n(Xu(e,"network-request-failed"))},timeout:fd.get()})}if(null===(i=null===(r=Af().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Af().gapi)||void 0===a?void 0:a.load)){var u=Jf("iframefcb");return Af()[u]=function(){gapi.load?o():n(Xu(e,"network-request-failed"))},Yf("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw dd=null,e}))}(e),dd}var vd=new ss(5e3,15e3),md={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gd(e){var t=e.config;es(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?cs(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Yo},i=yd.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ka(r).slice(1))}function kd(e){return bd.apply(this,arguments)}function bd(){return bd=Za(Ya().mark((function e(t){var n,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pd(t);case 2:return n=e.sent,es(r=Af().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:gd(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:md,dontclear:!0},(function(e){return new Promise(function(){var n=Za(Ya().mark((function n(r,i){var a,o,u;return Ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Af().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Xu(t,"network-request-failed"),o=Af().setTimeout((function(){i(a)}),vd.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),bd.apply(this,arguments)}var wd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xd="_blank",_d="http://localhost",Sd=function(){function e(t){fa(this,e),this.window=t,this.associatedEvent=null}return da(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Id(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},wd),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Ra().toLowerCase();n&&(u=tc(l)?xd:n),Zs(l)&&(t=t||_d,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(uc(l)&&"_self"!==u)return Ed(t||"",u),new Sd(null);var h=window.open(t||"",u,f);es(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Sd(h)}function Ed(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Td="__/auth/handler",Cd="emulator/auth/handler";function Ad(e,t,n,r,i,a){es(e.config.authDomain,e,"auth-domain-config-required"),es(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Yo,eventId:i};if(t instanceof el){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof tl){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Td);return cs(t,Cd)}(e),"?").concat(Ka(p).slice(1))}var Rd="webStorageSupport",Nd=function(){function e(){fa(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sf,this._completeRedirectFn=Jh,this._overrideRedirectResult=zh}return da(e,[{key:"_openPopup",value:function(){var e=Za(Ya().mark((function e(t,n,r,i){var a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ns(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Ad(t,n,r,as(),i),e.abrupt("return",Id(t,o,Tf()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Za(Ya().mark((function e(t,n,r,i){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Ad(t,n,r,as(),i),Af().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ns(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Za(Ya().mark((function e(t){var n,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kd(t);case 2:return n=e.sent,r=new nd(t),n.register("authEvent",(function(e){return es(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Rd,{type:Rd},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),$u(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return cd.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return cc()||ec()||oc()}}]),e}(),Pd=Nd,Od=function(){function e(t){fa(this,e),this.factorId=t}return da(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ts("unexpected MultiFactorSessionType")}}}]),e}(),Dd=function(e){va(n,e);var t=ba(n);function n(e){var r;return fa(this,n),(r=t.call(this,"phone")).credential=e,r}return da(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ps(e,"POST","/v2/accounts/mfaEnrollment:finalize",ds(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ps(e,"POST","/v2/accounts/mfaSignIn:finalize",ds(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Od),Ld=function(){function e(){fa(this,e)}return da(e,null,[{key:"assertion",value:function(e){return Dd._fromCredential(e)}}]),e}();Ld.FACTOR_ID="phone";var Md,Fd="@firebase/auth",Ud="0.20.3",Vd=function(){function e(t){fa(this,e),this.auth=t,this.internalListeners=new Map}return da(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){es(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function jd(){return window}Md="Browser",Ko(new eo("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){es(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),es(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Md,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lc(Md)},i=new hc(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(is);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ko(new eo("auth-internal",(function(e){return function(e){return new Vd(e)}(dc(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ru(Fd,Ud,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Md)),ru(Fd,Ud,"esm2017");function zd(e,t,n){return Bd.apply(this,arguments)}function Bd(){return Bd=Za(Ya().mark((function e(t,n,r){var i,a,o,u,s;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=jd(),o=a.BuildInfo,ns(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Qd(n.sessionId);case 4:return u=e.sent,s={},oc()?s.ibi=o.packageName:rc()?s.apn=o.packageName:$u(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Ad(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Bd.apply(this,arguments)}function qd(){return qd=Za(Ya().mark((function e(t){var n,r,i;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jd(),r=n.BuildInfo,i={},oc()?i.iosBundleId=r.packageName:rc()?i.androidPackageName=r.packageName:$u(t,"operation-not-supported-in-this-environment"),e.next=5,ad(t,i);case 5:case"end":return e.stop()}}),e)}))),qd.apply(this,arguments)}function Kd(e){var t=jd().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Wd(e,t,n){return Gd.apply(this,arguments)}function Gd(){return Gd=Za(Ya().mark((function e(t,n,r){var i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jd(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Xu(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),rc()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Gd.apply(this,arguments)}function Hd(e){var t,n,r,i,a,o,u,s,c,l,f=jd();es("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),es("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),es("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),es("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),es("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Qd(e){return $d.apply(this,arguments)}function $d(){return($d=Za(Ya().mark((function e(t){var n,r,i;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xd(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xd(e){if(ns(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Yd=function(e){va(n,e);var t=ba(n);function n(){var e;return fa(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return da(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Au(ma(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(nd);function Jd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:rp(),postBody:null,tenantId:e.tenantId,error:Xu(e,"no-auth-event")}}function Zd(e,t){return ip()._set(ap(e),t)}function ep(e){return tp.apply(this,arguments)}function tp(){return tp=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ip()._get(ap(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,ip()._remove(ap(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),tp.apply(this,arguments)}function np(e,t){var n,r,i=function(e){var t=op(e),n=t.link?decodeURIComponent(t.link):void 0,r=op(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return op(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=op(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Xu(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function rp(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function ip(){return is(xf)}function ap(e){return Xs("authEvent",e.config.apiKey,e.name)}function op(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||v(t)||u(t)||s();r[0];return Wa(r.slice(1).join("?"))}var up=function(){function e(){fa(this,e),this._redirectPersistence=Sf,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Jh,this._overrideRedirectResult=zh}return da(e,[{key:"_initialize",value:function(){var e=Za(Ya().mark((function e(t){var n,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Yd(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){$u(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Za(Ya().mark((function e(t,n,r,i){var a,o,u,s;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hd(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Lh.clear(),e.next=10,this._originValidation(t);case 10:return o=Jd(t,r,i),e.next=13,Zd(t,o);case 13:return e.next=15,zd(t,o,n);case 15:return u=e.sent,e.next=18,Kd(u);case 18:return s=e.sent,e.abrupt("return",Wd(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return qd.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=jd(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Za(Ya().mark((function n(){return Ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ep(e);case 2:t.onEvent(cp());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Za(Ya().mark((function n(r){var i,a;return Ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,ep(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=np(i,r.url)),t.onEvent(a||cp());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");jd().handleOpenURL=function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),sp=up;function cp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xu("no-auth-event")}}function lp(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function fp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return!("file:"!==lp()&&"ionic:"!==lp()&&"capacitor:"!==lp()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function hp(){return La()&&11===(null===document||void 0===document?void 0:document.documentMode)}function dp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return/Edge\/\d+/.test(e)}function pp(){try{var e=self.localStorage,t=Tf();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra();return hp()||dp(e)}()||Ma()}catch(n){return vp()&&Ma()}return!1}function vp(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function mp(){return("http:"===lp()||"https:"===lp()||Oa()||fp())&&!(Da()||Pa())&&pp()&&!vp()}function yp(){return fp()&&"undefined"!==typeof document}function gp(){return kp.apply(this,arguments)}function kp(){return(kp=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yp()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bp={LOCAL:"local",NONE:"none",SESSION:"session"},wp=es,xp="persistence";function _p(e,t){wp(Object.values(bp).includes(t),e,"invalid-persistence-type"),Da()?wp(t!==bp.SESSION,e,"unsupported-persistence-type"):Pa()?wp(t===bp.NONE,e,"unsupported-persistence-type"):vp()?wp(t===bp.NONE||t===bp.LOCAL&&Ma(),e,"unsupported-persistence-type"):wp(t===bp.NONE||pp(),e,"unsupported-persistence-type")}function Sp(e){return Ip.apply(this,arguments)}function Ip(){return Ip=Za(Ya().mark((function e(t){var n,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Ep(),r=Xs(xp,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Ip.apply(this,arguments)}function Ep(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Tp=es,Cp=function(){function e(){fa(this,e),this.browserResolver=is(Pd),this.cordovaResolver=is(sp),this.underlyingResolver=null,this._redirectPersistence=Sf,this._completeRedirectFn=Jh,this._overrideRedirectResult=zh}return da(e,[{key:"_initialize",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Za(Ya().mark((function e(t,n,r,i){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Za(Ya().mark((function e(t,n,r,i){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return yp()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Tp(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Za(Ya().mark((function e(){var t;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,gp();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ap(e){return e.unwrap()}function Rp(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Lp(e,function(e,t){var n,r=Xa(e),i=t;return es(t.customData.operationType,r,"argument-error"),es(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),pf._fromError(r,i)}(e,t));else if(r){var i=Np(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Np(e){var t=(e instanceof Fa?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Fa)&&"temporaryProof"in t&&"phoneNumber"in t)return bh.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Lu)return null;switch(r){case Du:n=il;break;case Pu:n=rl;break;case Ou:n=al;break;case Mu:n=sl;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?ol._create(r,u):Kc._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new nl(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Fa?n.credentialFromError(e):n.credentialFromResult(e)}function Pp(e,t){return t.catch((function(t){throw t instanceof Fa&&Rp(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Np(t)),additionalUserInfo:hf(e),user:Mp.getOrCreate(r)}}))}function Op(e,t){return Dp.apply(this,arguments)}function Dp(){return Dp=Za(Ya().mark((function e(t,n){var r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Pp(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Dp.apply(this,arguments)}var Lp=function(){function e(t,n){fa(this,e),this.resolver=n,this.auth=t.wrapped()}return da(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Pp(Ap(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Mp=function(){function e(t){fa(this,e),this._delegate=t,this.multiFactor=function(e){var t=Xa(e);return gf.has(t)||gf.set(t,yf._fromUser(t)),gf.get(t)}(t)}return da(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pp(this.auth,Al(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Op(this.auth,ph(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pp(this.auth,Ph(this._delegate,t,Cp)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sp(dc(this.auth));case 2:return e.abrupt("return",Qh(this._delegate,t,Cp));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pp(this.auth,Nl(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Op(this.auth,function(e,t,n){return mh.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Pp(this.auth,function(e,t,n){return Nh.apply(this,arguments)}(this._delegate,e,Cp))}},{key:"reauthenticateWithRedirect",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sp(dc(this.auth));case 2:return e.abrupt("return",Gh(this._delegate,t,Cp));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Jl.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yl(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return rf(Xa(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return rf(Xa(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return kh.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return nf.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Zl.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Mp.USER_MAP=new WeakMap;var Fp=es,Up=function(){function e(t,n){if(fa(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Fp(r,"invalid-api-key",{appName:t.name}),Fp(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Cp:void 0;this._delegate=n.initialize({options:{persistence:jp(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ku),this.linkUnderlyingAuth()}return da(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Mp.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){vc(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return zl.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Bl(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return jl.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pp(this._delegate,Wl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Yl.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Jc.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Za(Ya().mark((function e(){var t;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fp(mp(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Xh(this._delegate,Cp);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Pp(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){dc(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Vp(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Vp(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Hl.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Vl.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Za(Ya().mark((function e(t){var n,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_p(this._delegate,t),e.t0=t,e.next=e.t0===bp.SESSION?4:e.t0===bp.LOCAL?6:e.t0===bp.NONE?11:13;break;case 4:return n=Sf,e.abrupt("break",14);case 6:return e.next=8,is(Hf)._isAvailable();case 8:return r=e.sent,n=r?Hf:xf,e.abrupt("break",14);case 11:return n=$s,e.abrupt("break",14);case 13:return e.abrupt("return",$u("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Pp(this._delegate,function(e){return dl.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Pp(this._delegate,Tl(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Pp(this._delegate,function(e,t){return Ll.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Pp(this._delegate,function(e,t,n){return Tl(Xa(e),Zc.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Pp(this._delegate,function(e,t,n){return Ql.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Op(this._delegate,function(e,t,n){return dh.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fp(mp(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Pp(this._delegate,Ah(this._delegate,t,Cp)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fp(mp(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Sp(this._delegate);case 3:return e.abrupt("return",Kh(this._delegate,t,Cp));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Kl.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Vp(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Mp.getOrCreate(e))},error:t,complete:n}}function jp(e,t){var n=function(e,t){var n=Ep();if(!n)return[];var r=Xs(xp,e,t);switch(n.getItem(r)){case bp.NONE:return[$s];case bp.LOCAL:return[Hf,Sf];case bp.SESSION:return[Sf];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Hf)||n.push(Hf),"undefined"!==typeof window)for(var r=0,i=[xf,Sf];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes($s)||n.push($s),n}Up.Persistence=bp;var zp=function(){function e(){fa(this,e),this.providerId="phone",this._delegate=new bh(Ap(Tu.auth()))}return da(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return bh.credential(e,t)}}]),e}();zp.PHONE_SIGN_IN_METHOD=bh.PHONE_SIGN_IN_METHOD,zp.PROVIDER_ID=bh.PROVIDER_ID;var Bp,qp=es,Kp=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tu.app();fa(this,e),qp(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new lh(t,n,i.auth()),this.type=this._delegate.type}return da(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Bp=Tu).INTERNAL.registerComponent(new eo("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Up(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fu,PASSWORD_RESET:Uu,RECOVER_EMAIL:Vu,REVERT_SECOND_FACTOR_ADDITION:ju,VERIFY_AND_CHANGE_EMAIL:zu,VERIFY_EMAIL:Bu}},EmailAuthProvider:Zc,FacebookAuthProvider:rl,GithubAuthProvider:al,GoogleAuthProvider:il,OAuthProvider:nl,SAMLAuthProvider:ul,PhoneAuthProvider:zp,PhoneMultiFactorGenerator:Ld,RecaptchaVerifier:Kp,TwitterAuthProvider:sl,Auth:Up,AuthCredential:gc,Error:Fa}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Bp.registerVersion("@firebase/auth-compat","0.2.16");var Wp="firebasestorage.googleapis.com",Gp=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this,Hp(e),"Firebase Storage: ".concat(r," (").concat(Hp(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(mi(i),n.prototype),i}return da(n,[{key:"_codeEquals",value:function(e){return Hp(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Fa);function Hp(e){return"storage/"+e}function Qp(){return new Gp("unknown","An unknown error occurred, please check the error payload for server response.")}function $p(){return new Gp("canceled","User canceled the upload/download.")}function Xp(){return new Gp("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Yp(e){return new Gp("invalid-argument",e)}function Jp(){return new Gp("app-deleted","The Firebase app was deleted.")}function Zp(e){return new Gp("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ev(e,t){return new Gp("invalid-format","String does not match format '"+e+"': "+t)}function tv(e){throw new Gp("internal-error","Internal error: "+e)}var nv,rv=function(){function e(t,n){fa(this,e),this.bucket=t,this.path_=n}return da(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new Gp("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Wp?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Gp("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),iv=function(){function e(t){fa(this,e),this.promise_=Promise.reject(t)}return da(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function av(e){return"string"===typeof e||e instanceof String}function ov(e){return uv()&&e instanceof Blob}function uv(){return"undefined"!==typeof Blob}function sv(e,t,n,r){if(r<t)throw Yp("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Yp("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function cv(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function lv(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(nv||(nv={}));var fv=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;fa(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return da(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=Qp();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?Jp():$p());else i(new Gp("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new hv(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new hv(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===nv.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new hv(o,r))}else{var u=r.getErrorCode()===nv.ABORT;t(!1,new hv(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),hv=da((function e(t,n,r){fa(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function dv(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function pv(){for(var e=dv(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(uv())return new Blob(n);throw new Gp("unsupported-environment","This browser doesn't seem to support creating Blobs")}var vv={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},mv=da((function e(t,n){fa(this,e),this.data=t,this.contentType=n||null}));function yv(e,t){switch(e){case vv.RAW:return new mv(gv(t));case vv.BASE64:case vv.BASE64URL:return new mv(kv(e,t));case vv.DATA_URL:return new mv(function(e){var t=new bv(e);return t.base64?kv(vv.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw ev(vv.DATA_URL,"Malformed data URL.")}return gv(t)}(t.rest)}(t),new bv(t).contentType)}throw Qp()}function gv(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function kv(e,t){switch(e){case vv.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw ev(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case vv.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw ev(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw ev(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var bv=da((function e(t){fa(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw ev(vv.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var wv=function(){function e(t,n){fa(this,e);var r=0,i="";ov(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return da(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(ov(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(uv()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(pv.apply(null,i))}var a=n.map((function(e){return av(e)?yv(vv.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function xv(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function _v(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Sv(e,t){return t}var Iv=da((function e(t,n,r,i){fa(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Sv})),Ev=null;function Tv(){if(Ev)return Ev;var e=[];e.push(new Iv("bucket")),e.push(new Iv("generation")),e.push(new Iv("metageneration")),e.push(new Iv("name","fullPath",!0));var t=new Iv("name");t.xform=function(e,t){return function(e){return!av(e)||e.length<2?e:_v(e)}(t)},e.push(t);var n=new Iv("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Iv("timeCreated")),e.push(new Iv("updated")),e.push(new Iv("md5Hash",null,!0)),e.push(new Iv("cacheControl",null,!0)),e.push(new Iv("contentDisposition",null,!0)),e.push(new Iv("contentEncoding",null,!0)),e.push(new Iv("contentLanguage",null,!0)),e.push(new Iv("contentType",null,!0)),e.push(new Iv("metadata","customMetadata",!0)),Ev=e}function Cv(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new rv(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Av(e,t,n){var r=xv(t);return null===r?null:Cv(e,r,n)}function Rv(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function Nv(e,t,n){var r=xv(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=pa(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new rv(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=pa(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new rv(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var Pv=da((function e(t,n,r,i){fa(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Ov(e){if(!e)throw Qp()}function Dv(e,t){return function(n,r){var i=Av(e,r,t);return Ov(null!==i),i}}function Lv(e,t){return function(n,r){var i=Av(e,r,t);return Ov(null!==i),function(e,t,n,r){var i=xv(t);if(null===i)return null;if(!av(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent,u=a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return cv("/b/"+o(i)+"/o/"+o(a),n,r)+lv({alt:"media",token:t})}));return u[0]}(i,r,e.host,e._protocol)}}function Mv(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Gp("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Gp("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Gp("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Gp("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Fv(e){var t=Mv(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Gp("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Uv(e,t,n){var r=cv(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Pv(r,"GET",Dv(e,n),i);return a.errorHandler=Fv(t),a}function Vv(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=cv(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new Pv(o,"GET",function(e,t){return function(n,r){var i=Nv(e,t,r);return Ov(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=Mv(t),s}function jv(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function zv(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=jv(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Rv(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=wv.getBlob(c,r,l);if(null===f)throw Xp();var h={name:s.fullPath},d=cv(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Pv(d,"POST",Dv(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=Mv(t),v}var Bv=da((function e(t,n,r,i){fa(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function qv(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Ov(!1)}return Ov(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Kv=262144;function Wv(e,t,n,r,i,a,o,u){var s=new Bv(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new Gp("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw Xp();var v=t.maxUploadRetryTime,m=new Pv(n,"POST",(function(e,n){var i,o=qv(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?Dv(t,a)(e,n):null,new Bv(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=Mv(e),m}var Gv={STATE_CHANGED:"state_changed"},Hv={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Qv(e){switch(e){case"running":case"pausing":case"canceling":return Hv.RUNNING;case"paused":return Hv.PAUSED;case"success":return Hv.SUCCESS;case"canceled":return Hv.CANCELED;default:return Hv.ERROR}}var $v=da((function e(t,n,r){fa(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function Xv(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var Yv=function(){function e(){var t=this;fa(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nv.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=nv.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=nv.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return da(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw tv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw tv("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw tv("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw tv("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw tv("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Jv=function(e){va(n,e);var t=ba(n);function n(){return fa(this,n),t.apply(this,arguments)}return da(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Yv);function Zv(){return new Jv}var em=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;fa(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Tv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return da(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=c(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=jv(t,r,i),u={name:o.fullPath},s=cv(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=Rv(o,n),f=e.maxUploadRetryTime,h=new Pv(s,"POST",(function(e){var t;qv(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Ov(!1)}return Ov(av(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=Mv(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Zv,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new Pv(n,"POST",(function(e){var t=qv(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){Ov(!1)}n||Ov(!1);var i=Number(n);return Ov(!isNaN(i)),new Bv(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Mv(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,Zv,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=Kv*this._chunkMultiplier,n=new Bv(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=Wv(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,Zv,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){Kv*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=Uv(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,Zv,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=zv(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Zv,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=$p(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=Qv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new $v(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(Qv(this._state)){case Hv.SUCCESS:Xv(this._resolve.bind(null,this.snapshot))();break;case Hv.CANCELED:case Hv.ERROR:Xv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(Qv(this._state)){case Hv.RUNNING:case Hv.PAUSED:e.next&&Xv(e.next.bind(e,this.snapshot))();break;case Hv.SUCCESS:e.complete&&Xv(e.complete.bind(e))();break;default:e.error&&Xv(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),tm=function(){function e(t,n){fa(this,e),this._service=t,this._location=n instanceof rv?n:rv.makeFromUrl(n,t.host)}return da(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new rv(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return _v(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new rv(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw Zp(e)}}]),e}();function nm(e,t,n){return rm.apply(this,arguments)}function rm(){return(rm=Za(Ya().mark((function e(t,n,r){var i,a,o,u;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,im(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,m(u.prefixes)),(a=n.items).push.apply(a,m(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,nm(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function im(e,t){null!=t&&"number"===typeof t.maxResults&&sv("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=Vv(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Zv)}function am(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=cv(t.fullServerUrl(),e.host,e._protocol),a=Rv(n,r),o=e.maxOperationRetryTime,u=new Pv(i,"PATCH",Dv(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=Fv(t),u}(e.storage,e._location,t,Tv());return e.storage.makeRequestWithTokens(n,Zv)}function om(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=cv(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Pv(r,"GET",Lv(e,n),i);return a.errorHandler=Fv(t),a}(e.storage,e._location,Tv());return e.storage.makeRequestWithTokens(t,Zv).then((function(e){if(null===e)throw new Gp("no-download-url","The given file does not have any download URLs.");return e}))}function um(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=cv(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Pv(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Fv(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Zv)}function sm(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new rv(e._location.bucket,n);return new tm(e.storage,r)}function cm(e,t){if(e instanceof dm){var n=e;if(null==n._bucket)throw new Gp("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new tm(n,n._bucket);return null!=t?cm(r,t):r}return void 0!==t?sm(e,t):e}function lm(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof dm)return new tm(e,t);throw Yp("To use ref(service, url), the first argument must be a Storage instance.")}return cm(e,t)}function fm(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:rv.makeFromBucketSpec(n,e)}function hm(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Aa(i,e.app.options.projectId))}var dm=function(){function e(t,n,r,i,a){fa(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Wp,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?rv.makeFromBucketSpec(i,this._host):fm(this._host,this.app.options)}return da(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=rv.makeFromBucketSpec(this._url,e):this._bucket=fm(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){sv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){sv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Za(Ya().mark((function e(){var t,n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Za(Ya().mark((function e(){var t,n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new tm(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new iv(Jp());var a=function(e,t,n,r,i,a){var o=lv(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new fv(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Za(Ya().mark((function e(t,n){var r,i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),pm="@firebase/storage",vm="0.9.7",mm="storage";function ym(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new em(e,new wv(t),n)}(e=Xa(e),t,n)}function gm(e){return function(e){e._throwIfRoot("getMetadata");var t=Uv(e.storage,e._location,Tv());return e.storage.makeRequestWithTokens(t,Zv)}(e=Xa(e))}function km(e){return function(e){var t={prefixes:[],items:[]};return nm(e,t).then((function(){return t}))}(e=Xa(e))}function bm(e,t){return lm(e=Xa(e),t)}function wm(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};hm(e,t,n,r)}function xm(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new dm(r,i,a,n,Yo)}Ko(new eo(mm,xm,"PUBLIC").setMultipleInstances(!0)),ru(pm,vm,""),ru(pm,vm,"esm2017");var _m=function(){function e(t,n,r){fa(this,e),this._delegate=t,this.task=n,this.ref=r}return da(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),Sm=function(){function e(t,n){fa(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return da(e,[{key:"snapshot",get:function(){return new _m(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new _m(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new _m(e,i,i._ref))}:{next:t.next?function(e){return t.next(new _m(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),Im=function(){function e(t,n){fa(this,e),this._delegate=t,this._service=n}return da(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Em(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new Em(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),Em=function(){function e(t,n){fa(this,e),this._delegate=t,this.storage=n}return da(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return sm(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new Sm(ym(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vv.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=yv(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Sm(new em(this._delegate,new wv(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return km(this._delegate).then((function(t){return new Im(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return im(e=Xa(e),t)}(this._delegate,e||void 0).then((function(e){return new Im(e,t.storage)}))}},{key:"getMetadata",value:function(){return gm(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return am(e=Xa(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return om(Xa(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),um(Xa(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw Zp(e)}}]),e}(),Tm=function(){function e(t,n){fa(this,e),this.app=t,this._delegate=n}return da(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(Cm(e))throw Yp("ref() expected a child path but got a URL, use refFromURL instead.");return new Em(bm(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!Cm(e))throw Yp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{rv.makeFromUrl(e,this._delegate.host)}catch(t){throw Yp("refFromUrl() expected a valid full URL but got an invalid one.")}return new Em(bm(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};wm(this._delegate,e,t,n)}}]),e}();function Cm(e){return/^[A-Za-z]+:\/\//.test(e)}function Am(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Tm(r,i)}!function(e){var t={TaskState:Hv,TaskEvent:Gv,StringFormat:vv,Storage:Tm,Reference:Em};e.INTERNAL.registerComponent(new eo("storage-compat",Am,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.15")}(Tu);var Rm,Nm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Pm={},Om=Om||{},Dm=Nm||self;function Lm(){}function Mm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Fm(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Um="closure_uid_"+(1e9*Math.random()>>>0),Vm=0;function jm(e,t,n){return e.call.apply(e.bind,arguments)}function zm(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Bm(e,t,n){return(Bm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jm:zm).apply(null,arguments)}function qm(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Km(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Wm(){this.s=this.s,this.o=this.o}var Gm={};Wm.prototype.s=!1,Wm.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Um)&&e[Um]||(e[Um]=++Vm)}(this);delete Gm[e]}},Wm.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Hm=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Qm=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function $m(e){return Array.prototype.concat.apply([],arguments)}function Xm(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ym(e){return/^[\s\xa0]*$/.test(e)}var Jm,Zm=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ey(e,t){return-1!=e.indexOf(t)}function ty(e,t){return e<t?-1:e>t?1:0}e:{var ny=Dm.navigator;if(ny){var ry=ny.userAgent;if(ry){Jm=ry;break e}}Jm=""}function iy(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ay(e){var t={};for(var n in e)t[n]=e[n];return t}var oy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uy(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<oy.length;a++)n=oy[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function sy(e){return sy[" "](e),e}sy[" "]=Lm;var cy,ly=ey(Jm,"Opera"),fy=ey(Jm,"Trident")||ey(Jm,"MSIE"),hy=ey(Jm,"Edge"),dy=hy||fy,py=ey(Jm,"Gecko")&&!(ey(Jm.toLowerCase(),"webkit")&&!ey(Jm,"Edge"))&&!(ey(Jm,"Trident")||ey(Jm,"MSIE"))&&!ey(Jm,"Edge"),vy=ey(Jm.toLowerCase(),"webkit")&&!ey(Jm,"Edge");function my(){var e=Dm.document;return e?e.documentMode:void 0}e:{var yy="",gy=function(){var e=Jm;return py?/rv:([^\);]+)(\)|;)/.exec(e):hy?/Edge\/([\d\.]+)/.exec(e):fy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):vy?/WebKit\/(\S+)/.exec(e):ly?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(gy&&(yy=gy?gy[1]:""),fy){var ky=my();if(null!=ky&&ky>parseFloat(yy)){cy=String(ky);break e}}cy=yy}var by,wy={};function xy(){return function(e){var t=wy;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Zm(String(cy)).split("."),n=Zm("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ty(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ty(0==a[2].length,0==o[2].length)||ty(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Dm.document&&fy){var _y=my();by=_y||(parseInt(cy,10)||void 0)}else by=void 0;var Sy=by,Iy=function(){if(!Dm.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Dm.addEventListener("test",Lm,t),Dm.removeEventListener("test",Lm,t)}catch(n){}return e}();function Ey(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ty(e,t){if(Ey.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(py){e:{try{sy(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Cy[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ty.Z.h.call(this)}}Ey.prototype.h=function(){this.defaultPrevented=!0},Km(Ty,Ey);var Cy={2:"touch",3:"pen",4:"mouse"};Ty.prototype.h=function(){Ty.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ay="closure_listenable_"+(1e6*Math.random()|0),Ry=0;function Ny(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ry,this.ca=this.fa=!1}function Py(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Oy(e){this.src=e,this.g={},this.h=0}function Dy(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Hm(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Py(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ly(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Oy.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ly(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ny(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var My="closure_lm_"+(1e6*Math.random()|0),Fy={};function Uy(e,t,n,r,i){if(r&&r.once)return jy(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Uy(e,t[a],n,r,i);return null}return n=Hy(n),e&&e[Ay]?e.N(t,n,Fm(r)?!!r.capture:!!r,i):Vy(e,t,n,!1,r,i)}function Vy(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Fm(i)?!!i.capture:!!i,u=Wy(e);if(u||(e[My]=u=new Oy(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ky;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Iy||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(qy(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function jy(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)jy(e,t[a],n,r,i);return null}return n=Hy(n),e&&e[Ay]?e.O(t,n,Fm(r)?!!r.capture:!!r,i):Vy(e,t,n,!0,r,i)}function zy(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)zy(e,t[a],n,r,i);else r=Fm(r)?!!r.capture:!!r,n=Hy(n),e&&e[Ay]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ly(a=e.g[t],n,r,i))&&(Py(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Wy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ly(t,n,r,i)),(n=-1<e?t[e]:null)&&By(n))}function By(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ay])Dy(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(qy(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Wy(t))?(Dy(n,e),0==n.h&&(n.src=null,t[My]=null)):Py(e)}}}function qy(e){return e in Fy?Fy[e]:Fy[e]="on"+e}function Ky(e,t){if(e.ca)e=!0;else{t=new Ty(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&By(e),e=n.call(r,t)}return e}function Wy(e){return(e=e[My])instanceof Oy?e:null}var Gy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hy(e){return"function"===typeof e?e:(e[Gy]||(e[Gy]=function(t){return e.handleEvent(t)}),e[Gy])}function Qy(){Wm.call(this),this.i=new Oy(this),this.P=this,this.I=null}function $y(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ey(t,e);else if(t instanceof Ey)t.target=t.target||e;else{var i=t;uy(t=new Ey(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Xy(o,r,!0,t)&&i}if(i=Xy(o=t.g=e,r,!0,t)&&i,i=Xy(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Xy(o=t.g=n[a],r,!1,t)&&i}function Xy(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Dy(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Km(Qy,Wm),Qy.prototype[Ay]=!0,Qy.prototype.removeEventListener=function(e,t,n,r){zy(this,e,t,n,r)},Qy.prototype.M=function(){if(Qy.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Py(n[r]);delete t.g[e],t.h--}}this.I=null},Qy.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Qy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Yy=Dm.JSON.stringify;function Jy(){var e=og,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Zy,eg=function(){function e(){fa(this,e),this.h=this.g=null}return da(e,[{key:"add",value:function(e,t){var n=tg.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),tg=new(function(){function e(t,n){fa(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return da(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ng}),(function(e){return e.reset()})),ng=function(){function e(){fa(this,e),this.next=this.g=this.h=null}return da(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function rg(e){Dm.setTimeout((function(){throw e}),0)}function ig(e,t){Zy||function(){var e=Dm.Promise.resolve(void 0);Zy=function(){e.then(ug)}}(),ag||(Zy(),ag=!0),og.add(e,t)}var ag=!1,og=new eg;function ug(){for(var e;e=Jy();){try{e.h.call(e.g)}catch(n){rg(n)}var t=tg;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ag=!1}function sg(e,t){Qy.call(this),this.h=e||1,this.g=t||Dm,this.j=Bm(this.kb,this),this.l=Date.now()}function cg(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function lg(e,t,n){if("function"===typeof e)n&&(e=Bm(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Bm(e.handleEvent,e)}return 2147483647<Number(t)?-1:Dm.setTimeout(e,t||0)}function fg(e){e.g=lg((function(){e.g=null,e.i&&(e.i=!1,fg(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Km(sg,Qy),(Rm=sg.prototype).da=!1,Rm.S=null,Rm.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),$y(this,"tick"),this.da&&(cg(this),this.start()))}},Rm.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Rm.M=function(){sg.Z.M.call(this),cg(this),delete this.g};var hg=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return da(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:fg(this)}},{key:"M",value:function(){Au(ma(n.prototype),"M",this).call(this),this.g&&(Dm.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Wm);function dg(e){Wm.call(this),this.h=e,this.g={}}Km(dg,Wm);var pg=[];function vg(e,t,n,r){Array.isArray(n)||(n&&(pg[0]=n.toString()),n=pg);for(var i=0;i<n.length;i++){var a=Uy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function mg(e){iy(e.g,(function(e,t){this.g.hasOwnProperty(t)&&By(e)}),e),e.g={}}function yg(){this.g=!0}function gg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Yy(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}dg.prototype.M=function(){dg.Z.M.call(this),mg(this)},dg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yg.prototype.Aa=function(){this.g=!1},yg.prototype.info=function(){};var kg={},bg=null;function wg(){return bg=bg||new Qy}function xg(e){Ey.call(this,kg.Ma,e)}function _g(e){var t=wg();$y(t,new xg(t,e))}function Sg(e,t){Ey.call(this,kg.STAT_EVENT,e),this.stat=t}function Ig(e){var t=wg();$y(t,new Sg(t,e))}function Eg(e,t){Ey.call(this,kg.Na,e),this.size=t}function Tg(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Dm.setTimeout((function(){e()}),t)}kg.Ma="serverreachability",Km(xg,Ey),kg.STAT_EVENT="statevent",Km(Sg,Ey),kg.Na="timingevent",Km(Eg,Ey);var Cg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ag={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Rg(){}function Ng(e){return e.h||(e.h=e.i())}function Pg(){}Rg.prototype.h=null;var Og,Dg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Lg(){Ey.call(this,"d")}function Mg(){Ey.call(this,"c")}function Fg(){}function Ug(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new dg(this),this.P=jg,e=dy?125:void 0,this.W=new sg(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Vg}function Vg(){this.i=null,this.g="",this.h=!1}Km(Lg,Ey),Km(Mg,Ey),Km(Fg,Rg),Fg.prototype.g=function(){return new XMLHttpRequest},Fg.prototype.i=function(){return{}},Og=new Fg;var jg=45e3,zg={},Bg={};function qg(e,t,n){e.K=1,e.v=hk(ok(t)),e.s=n,e.U=!0,Kg(e,null)}function Kg(e,t){e.F=Date.now(),Qg(e),e.A=ok(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ik(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Vg,e.g=Tb(e.l,n?t:null,!e.s),0<e.O&&(e.L=new hg(Bm(e.Ia,e,e.g),e.O)),vg(e.V,e.g,"readystatechange",e.gb),t=e.H?ay(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_g(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Wg(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Gg(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Hg(e,n))==Bg){4==t&&(e.o=4,Ig(14),i=!1),gg(e.j,e.m,null,"[Incomplete Response]");break}if(r==zg){e.o=4,Ig(15),gg(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gg(e.j,e.m,r,null),Zg(e,r)}Wg(e)&&r!=Bg&&r!=zg&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ig(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),kb(t),t.L=!0,Ig(11))):(gg(e.j,e.m,n,"[Invalid Chunked Response]"),Jg(e),Yg(e))}function Hg(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Bg:(n=Number(t.substring(n,r)),isNaN(n)?zg:(r+=1)+n>t.length?Bg:(t=t.substr(r,n),e.C=r+n,t))}function Qg(e){e.Y=Date.now()+e.P,$g(e,e.P)}function $g(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Tg(Bm(e.eb,e),t)}function Xg(e){e.B&&(Dm.clearTimeout(e.B),e.B=null)}function Yg(e){0==e.l.G||e.I||xb(e.l,e)}function Jg(e){Xg(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,cg(e.W),mg(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Zg(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ok(n.i,e)))if(n.I=e.N,!e.J&&Ok(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;wb(n),lb(n)}gb(n),Ig(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Tg(Bm(n.ab,n),6e3));if(1>=Pk(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Sb(n,11)}else if((e.J||n.g==e)&&wb(n),!Ym(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(ey(l,"spdy")||ey(l,"quic")||ey(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Dk(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,fk(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Eb(r,r.H?r.la:null,r.W),d.J){Lk(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Xg(p),Qg(p)),r.g=d}else yb(r);0<n.l.length&&db(n)}else"stop"!=a[0]&&"close"!=a[0]||Sb(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Sb(n,7):cb(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}_g(4)}catch(a){}}function ek(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Mm(e)||"string"===typeof e)Qm(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Mm(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Mm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function tk(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof tk)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function nk(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];rk(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)rk(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function rk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Rm=Ug.prototype).setTimeout=function(e){this.P=e},Rm.gb=function(e){e=e.target;var t=this.L;t&&3==ib(e)?t.l():this.Ia(e)},Rm.Ia=function(e){try{if(e==this.g)e:{var t=ib(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||dy||this.g&&(this.h.h||this.g.ga()||ab(this.g)))){this.I||4!=t||7==n||_g(8==n||0>=r?3:2),Xg(this);var i=this.g.ba();this.N=i;t:if(Wg(this)){var a=ab(this.g);e="";var o=a.length,u=4==ib(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Jg(this),Yg(this);var s="";break t}this.h.i=new Dm.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ym(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Ig(12),Jg(this),Yg(this);break e}gg(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zg(this,i)}this.U?(Gg(this,t,s),dy&&this.i&&3==t&&(vg(this.V,this.W,"tick",this.fb),this.W.start())):(gg(this.j,this.m,s,null),Zg(this,s)),4==t&&Jg(this),this.i&&!this.I&&(4==t?xb(this.l,this):(this.i=!1,Qg(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Ig(12)):(this.o=0,Ig(13)),Jg(this),Yg(this)}}}catch(t){}},Rm.fb=function(){if(this.g){var e=ib(this.g),t=this.g.ga();this.C<t.length&&(Xg(this),Gg(this,e,t),this.i&&4!=e&&Qg(this))}},Rm.cancel=function(){this.I=!0,Jg(this)},Rm.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(_g(3),Ig(17)),Jg(this),this.o=2,Yg(this)):$g(this,this.Y-e)},(Rm=tk.prototype).R=function(){nk(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Rm.T=function(){return nk(this),this.g.concat()},Rm.get=function(e,t){return rk(this.h,e)?this.h[e]:t},Rm.set=function(e,t){rk(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Rm.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var ik=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ak(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ak){this.g=void 0!==t?t:e.g,uk(this,e.j),this.s=e.s,sk(this,e.i),ck(this,e.m),this.l=e.l,t=e.h;var n=new wk;n.i=t.i,t.g&&(n.g=new tk(t.g),n.h=t.h),lk(this,n),this.o=e.o}else e&&(n=String(e).match(ik))?(this.g=!!t,uk(this,n[1]||"",!0),this.s=dk(n[2]||""),sk(this,n[3]||"",!0),ck(this,n[4]),this.l=dk(n[5]||"",!0),lk(this,n[6]||"",!0),this.o=dk(n[7]||"")):(this.g=!!t,this.h=new wk(null,this.g))}function ok(e){return new ak(e)}function uk(e,t,n){e.j=n?dk(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function sk(e,t,n){e.i=n?dk(t,!0):t}function ck(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function lk(e,t,n){t instanceof wk?(e.h=t,function(e,t){t&&!e.j&&(xk(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_k(this,t),Ik(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=pk(t,kk)),e.h=new wk(t,e.g))}function fk(e,t,n){e.h.set(t,n)}function hk(e){return fk(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dk(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pk(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,vk),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function vk(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ak.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pk(t,mk,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(pk(t,mk,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(pk(n,"/"==n.charAt(0)?gk:yk,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",pk(n,bk)),e.join("")};var mk=/[#\/\?@]/g,yk=/[#\?:]/g,gk=/[#\?]/g,kk=/[#\?@]/g,bk=/#/g;function wk(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xk(e){e.g||(e.g=new tk,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _k(e,t){xk(e),t=Ek(e,t),rk(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,rk((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&nk(e)))}function Sk(e,t){return xk(e),t=Ek(e,t),rk(e.g.h,t)}function Ik(e,t,n){_k(e,t),0<n.length&&(e.i=null,e.g.set(Ek(e,t),Xm(n)),e.h+=n.length)}function Ek(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Rm=wk.prototype).add=function(e,t){xk(this),this.i=null,e=Ek(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Rm.forEach=function(e,t){xk(this),this.g.forEach((function(n,r){Qm(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Rm.T=function(){xk(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Rm.R=function(e){xk(this);var t=[];if("string"===typeof e)Sk(this,e)&&(t=$m(t,this.g.get(Ek(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=$m(t,e[n])}return t},Rm.set=function(e,t){return xk(this),this.i=null,Sk(this,e=Ek(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Rm.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Rm.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Tk=da((function e(t,n){fa(this,e),this.h=t,this.g=n}));function Ck(e){this.l=e||Rk,Dm.PerformanceNavigationTiming?e=0<(e=Dm.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Dm.g&&Dm.g.Ea&&Dm.g.Ea()&&Dm.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ak,Rk=10;function Nk(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Pk(e){return e.h?1:e.g?e.g.size:0}function Ok(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Dk(e,t){e.g?e.g.add(t):e.h=t}function Lk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Mk(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=pa(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Xm(e.i)}function Fk(){}function Uk(){this.g=new Fk}function Vk(e,t,n){var r=n||"";try{ek(e,(function(e,n){var i=e;Fm(e)&&(i=Yy(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function jk(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function zk(e){this.l=e.$b||null,this.j=e.ib||!1}function Bk(e,t){Qy.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=qk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ck.prototype.cancel=function(){if(this.i=Mk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=pa(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Fk.prototype.stringify=function(e){return Dm.JSON.stringify(e,void 0)},Fk.prototype.parse=function(e){return Dm.JSON.parse(e,void 0)},Km(zk,Rg),zk.prototype.g=function(){return new Bk(this.l,this.j)},zk.prototype.i=(Ak={},function(){return Ak}),Km(Bk,Qy);var qk=0;function Kk(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Wk(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Gk(e)}function Gk(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Rm=Bk.prototype).open=function(e,t){if(this.readyState!=qk)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Gk(this)},Rm.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Dm).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Rm.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wk(this)),this.readyState=qk},Rm.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Gk(this)),this.g&&(this.readyState=3,Gk(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Dm.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Kk(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Rm.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wk(this):Gk(this),3==this.readyState&&Kk(this)}},Rm.Ua=function(e){this.g&&(this.response=this.responseText=e,Wk(this))},Rm.Ta=function(e){this.g&&(this.response=e,Wk(this))},Rm.ha=function(){this.g&&Wk(this)},Rm.setRequestHeader=function(e,t){this.v.append(e,t)},Rm.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Rm.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bk.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Hk=Dm.JSON.parse;function Qk(e){Qy.call(this),this.headers=new tk,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$k,this.K=this.L=!1}Km(Qk,Qy);var $k="",Xk=/^https?$/i,Yk=["POST","PUT"];function Jk(e){return"content-type"==e.toLowerCase()}function Zk(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,eb(e),nb(e)}function eb(e){e.D||(e.D=!0,$y(e,"complete"),$y(e,"error"))}function tb(e){if(e.h&&"undefined"!=typeof Om&&(!e.C[1]||4!=ib(e)||2!=e.ba()))if(e.v&&4==ib(e))lg(e.Fa,0,e);else if($y(e,"readystatechange"),4==ib(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(ik)[1]||null;if(!a&&Dm.self&&Dm.self.location){var o=Dm.self.location.protocol;a=o.substr(0,o.length-1)}i=!Xk.test(a?a.toLowerCase():"")}t=i}if(t)$y(e,"complete"),$y(e,"success");else{e.m=6;try{var u=2<ib(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",eb(e)}}finally{nb(e)}}}function nb(e,t){if(e.g){rb(e);var n=e.g,r=e.C[0]?Lm:null;e.g=null,e.C=null,t||$y(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function rb(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Dm.clearTimeout(e.A),e.A=null)}function ib(e){return e.g?e.g.readyState:0}function ab(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case $k:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function ob(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return iy(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):fk(e,t,n))}function ub(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sb(e){this.za=0,this.l=[],this.h=new yg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ub("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ub("baseRetryDelayMs",5e3,e),this.$a=ub("retryDelaySeedMs",1e4,e),this.Ya=ub("forwardChannelMaxRetries",2,e),this.ra=ub("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ck(e&&e.concurrentRequestLimit),this.Ca=new Uk,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function cb(e){if(fb(e),3==e.G){var t=e.V++,n=ok(e.F);fk(n,"SID",e.J),fk(n,"RID",t),fk(n,"TYPE","terminate"),vb(e,n),(t=new Ug(e,e.h,t,void 0)).K=2,t.v=hk(ok(n)),n=!1,Dm.navigator&&Dm.navigator.sendBeacon&&(n=Dm.navigator.sendBeacon(t.v.toString(),"")),!n&&Dm.Image&&((new Image).src=t.v,n=!0),n||(t.g=Tb(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Qg(t)}Ib(e)}function lb(e){e.g&&(kb(e),e.g.cancel(),e.g=null)}function fb(e){lb(e),e.u&&(Dm.clearTimeout(e.u),e.u=null),wb(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Dm.clearTimeout(e.m),e.m=null)}function hb(e,t){e.l.push(new Tk(e.Za++,t)),3==e.G&&db(e)}function db(e){Nk(e.i)||e.m||(e.m=!0,ig(e.Ha,e),e.C=0)}function pb(e,t){var n;n=t?t.m:e.V++;var r=ok(e.F);fk(r,"SID",e.J),fk(r,"RID",n),fk(r,"AID",e.U),vb(e,r),e.o&&e.s&&ob(r,e.o,e.s),n=new Ug(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=mb(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Dk(e.i,n),qg(n,r,t)}function vb(e,t){e.j&&ek({},(function(e,n){fk(t,n,e)}))}function mb(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Bm(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Vk(l,o,"req"+c+"_")}catch(tw){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function yb(e){e.g||e.u||(e.Y=1,ig(e.Ga,e),e.A=0)}function gb(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Tg(Bm(e.Ga,e),_b(e,e.A)),e.A++,!0)}function kb(e){null!=e.B&&(Dm.clearTimeout(e.B),e.B=null)}function bb(e){e.g=new Ug(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ok(e.oa);fk(t,"RID","rpc"),fk(t,"SID",e.J),fk(t,"CI",e.N?"0":"1"),fk(t,"AID",e.U),vb(e,t),fk(t,"TYPE","xmlhttp"),e.o&&e.s&&ob(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=hk(ok(t)),n.s=null,n.U=!0,Kg(n,e)}function wb(e){null!=e.v&&(Dm.clearTimeout(e.v),e.v=null)}function xb(e,t){var n=null;if(e.g==t){wb(e),kb(e),e.g=null;var r=2}else{if(!Ok(e.i,t))return;n=t.D,Lk(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;$y(r=wg(),new Eg(r,n,t,i)),db(e)}else yb(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Pk(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Tg(Bm(e.Ha,e,t),_b(e,e.C)),e.C++,!0))}(e,t)||2==r&&gb(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Sb(e,5);break;case 4:Sb(e,10);break;case 3:Sb(e,6);break;default:Sb(e,2)}}function _b(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Sb(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Bm(e.jb,e);n||(n=new ak("//www.google.com/images/cleardot.gif"),Dm.location&&"http"==Dm.location.protocol||uk(n,"https"),hk(n)),function(e,t){var n=new yg;if(Dm.Image){var r=new Image;r.onload=qm(jk,n,r,"TestLoadImage: loaded",!0,t),r.onerror=qm(jk,n,r,"TestLoadImage: error",!1,t),r.onabort=qm(jk,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=qm(jk,n,r,"TestLoadImage: timeout",!1,t),Dm.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ig(2);e.G=0,e.j&&e.j.va(t),Ib(e),fb(e)}function Ib(e){e.G=0,e.I=-1,e.j&&(0==Mk(e.i).length&&0==e.l.length||(e.i.i.length=0,Xm(e.l),e.l.length=0),e.j.ua())}function Eb(e,t,n){var r=function(e){return e instanceof ak?ok(e):new ak(e,void 0)}(n);if(""!=r.i)t&&sk(r,t+"."+r.i),ck(r,r.m);else{var i=Dm.location;r=function(e,t,n,r){var i=new ak(null,void 0);return e&&uk(i,e),t&&sk(i,t),n&&ck(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&iy(e.aa,(function(e,t){fk(r,t,e)})),t=e.D,n=e.sa,t&&n&&fk(r,t,n),fk(r,"VER",e.ma),vb(e,r),r}function Tb(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Qk(new zk({ib:!0})):new Qk(e.qa)).L=e.H,t}function Cb(){}function Ab(){if(fy&&!(10<=Number(Sy)))throw Error("Environmental error: no available transport.")}function Rb(e,t){Qy.call(this),this.g=new sb(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ym(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ym(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ob(this)}function Nb(e){Lg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Pb(){Mg.call(this),this.status=1}function Ob(e){this.g=e}(Rm=Qk.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Og.g(),this.C=this.u?Ng(this.u):Ng(Og),this.g.onreadystatechange=Bm(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Zk(this,a)}e=n||"";var i=new tk(this.headers);r&&ek(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Jk,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Dm.FormData&&e instanceof Dm.FormData,!(0<=Hm(Yk,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{rb(this),0<this.B&&((this.K=function(e){return fy&&xy()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bm(this.pa,this)):this.A=lg(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Zk(this,a)}},Rm.pa=function(){"undefined"!=typeof Om&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$y(this,"timeout"),this.abort(8))},Rm.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,$y(this,"complete"),$y(this,"abort"),nb(this))},Rm.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nb(this,!0)),Qk.Z.M.call(this)},Rm.Fa=function(){this.s||(this.F||this.v||this.l?tb(this):this.cb())},Rm.cb=function(){tb(this)},Rm.ba=function(){try{return 2<ib(this)?this.g.status:-1}catch(Ak){return-1}},Rm.ga=function(){try{return this.g?this.g.responseText:""}catch(Ak){return""}},Rm.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Hk(t)}},Rm.Da=function(){return this.m},Rm.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Rm=sb.prototype).ma=8,Rm.G=1,Rm.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Rm.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ug(this,this.h,e,void 0),n=this.s;if(this.P&&(n?uy(n=ay(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=mb(this,t,r),fk(i=ok(this.F),"RID",e),fk(i,"CVER",22),this.D&&fk(i,"X-HTTP-Session-Id",this.D),vb(this,i),this.o&&n&&ob(i,this.o,n),Dk(this.i,t),this.Ra&&fk(i,"TYPE","init"),this.ja?(fk(i,"$req",r),fk(i,"SID","null"),t.$=!0,qg(t,i,null)):qg(t,i,r),this.G=2}}else 3==this.G&&(e?pb(this,e):0==this.l.length||Nk(this.i)||pb(this))},Rm.Ga=function(){if(this.u=null,bb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Tg(Bm(this.bb,this),e)}},Rm.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ig(10),lb(this),bb(this))},Rm.ab=function(){null!=this.v&&(this.v=null,lb(this),gb(this),Ig(19))},Rm.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ig(2)):(this.h.info("Failed to ping google.com"),Ig(1))},(Rm=Cb.prototype).xa=function(){},Rm.wa=function(){},Rm.va=function(){},Rm.ua=function(){},Rm.Oa=function(){},Ab.prototype.g=function(e,t){return new Rb(e,t)},Km(Rb,Qy),Rb.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ig(Bm(e.hb,e,t))),Ig(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Eb(e,null,e.W),db(e)},Rb.prototype.close=function(){cb(this.g)},Rb.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,hb(this.g,t)}else this.v?((t={}).__data__=Yy(e),hb(this.g,t)):hb(this.g,e)},Rb.prototype.M=function(){this.g.j=null,delete this.j,cb(this.g),delete this.g,Rb.Z.M.call(this)},Km(Nb,Lg),Km(Pb,Mg),Km(Ob,Cb),Ob.prototype.xa=function(){$y(this.g,"a")},Ob.prototype.wa=function(e){$y(this.g,new Nb(e))},Ob.prototype.va=function(e){$y(this.g,new Pb(e))},Ob.prototype.ua=function(){$y(this.g,"b")},Ab.prototype.createWebChannel=Ab.prototype.g,Rb.prototype.send=Rb.prototype.u,Rb.prototype.open=Rb.prototype.m,Rb.prototype.close=Rb.prototype.close,Cg.NO_ERROR=0,Cg.TIMEOUT=8,Cg.HTTP_ERROR=6,Ag.COMPLETE="complete",Pg.EventType=Dg,Dg.OPEN="a",Dg.CLOSE="b",Dg.ERROR="c",Dg.MESSAGE="d",Qy.prototype.listen=Qy.prototype.N,Qk.prototype.listenOnce=Qk.prototype.O,Qk.prototype.getLastError=Qk.prototype.La,Qk.prototype.getLastErrorCode=Qk.prototype.Da,Qk.prototype.getStatus=Qk.prototype.ba,Qk.prototype.getResponseJson=Qk.prototype.Qa,Qk.prototype.getResponseText=Qk.prototype.ga,Qk.prototype.send=Qk.prototype.ea;var Db=Pm.createWebChannelTransport=function(){return new Ab},Lb=Pm.getStatEventTarget=function(){return wg()},Mb=Pm.ErrorCode=Cg,Fb=Pm.EventType=Ag,Ub=Pm.Event=kg,Vb=Pm.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jb=Pm.FetchXmlHttpFactory=zk,zb=Pm.WebChannel=Pg,Bb=Pm.XhrIo=Qk,qb="@firebase/firestore",Kb=function(){function e(t){fa(this,e),this.uid=t}return da(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Kb.UNAUTHENTICATED=new Kb(null),Kb.GOOGLE_CREDENTIALS=new Kb("google-credentials-uid"),Kb.FIRST_PARTY=new Kb("first-party-uid"),Kb.MOCK_USER=new Kb("mock-user");var Wb="9.8.3",Gb=new ho("@firebase/firestore");function Hb(){return Gb.logLevel}function Qb(e){if(Gb.logLevel<=ao.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yb);Gb.debug.apply(Gb,["Firestore (".concat(Wb,"): ").concat(e)].concat(m(i)))}}function $b(e){if(Gb.logLevel<=ao.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yb);Gb.error.apply(Gb,["Firestore (".concat(Wb,"): ").concat(e)].concat(m(i)))}}function Xb(e){if(Gb.logLevel<=ao.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Yb);Gb.warn.apply(Gb,["Firestore (".concat(Wb,"): ").concat(e)].concat(m(i)))}}function Yb(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Jb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Wb,") INTERNAL ASSERTION FAILED: ")+e;throw $b(t),new Error(t)}function Zb(e,t){e||Jb()}function ew(e,t){return e}var tw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},nw=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return da(n)}(Fa),rw=da((function e(){var t=this;fa(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),iw=da((function e(t,n){fa(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),aw=function(){function e(){fa(this,e)}return da(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Kb.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ow=function(){function e(t){fa(this,e),this.token=t,this.changeListener=null}return da(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),uw=function(){function e(t){fa(this,e),this.t=t,this.currentUser=Kb.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return da(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new rw;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new rw,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Qb("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Qb("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new rw)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Qb("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Zb("string"==typeof n.accessToken),new iw(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Zb(null===e||"string"==typeof e),new Kb(e)}}]),e}(),sw=da((function e(t,n,r){fa(this,e),this.type="FirstParty",this.user=Kb.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),cw=function(){function e(t,n,r){fa(this,e),this.h=t,this.l=n,this.m=r}return da(e,[{key:"getToken",value:function(){return Promise.resolve(new sw(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Kb.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),lw=da((function e(t){fa(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),fw=function(){function e(t){fa(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return da(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Qb("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Qb("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Qb("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Qb("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Zb("string"==typeof t.token),e.p=t.token,new lw(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function hw(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var dw=function(){function e(){fa(this,e)}return da(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=hw(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function pw(e,t){return e<t?-1:e>t?1:0}function vw(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function mw(e){return e+"\0"}var yw=function(){function e(t,n){if(fa(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new nw(tw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new nw(tw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new nw(tw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nw(tw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return da(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?pw(this.nanoseconds,e.nanoseconds):pw(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),gw=function(){function e(t){fa(this,e),this.timestamp=t}return da(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new yw(0,0))}},{key:"max",value:function(){return new e(new yw(253402300799,999999999))}}]),e}(),kw=function(){function e(t,n,r){fa(this,e),void 0===n?n=0:n>t.length&&Jb(),void 0===r?r=t.length-n:r>t.length-n&&Jb(),this.segments=t,this.offset=n,this.len=r}return da(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),bw=function(e){va(n,e);var t=ba(n);function n(){return fa(this,n),t.apply(this,arguments)}return da(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new nw(tw.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,m(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(kw),ww=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xw=function(e){va(n,e);var t=ba(n);function n(){return fa(this,n),t.apply(this,arguments)}return da(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ww.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new nw(tw.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new nw(tw.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new nw(tw.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new nw(tw.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(kw),_w=function(){function e(t){fa(this,e),this.path=t}return da(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===bw.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(bw.fromString(t))}},{key:"fromName",value:function(t){return new e(bw.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(bw.emptyPath())}},{key:"comparator",value:function(e,t){return bw.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new bw(t.slice()))}}]),e}(),Sw=da((function e(t,n,r,i){fa(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Iw(e){return e.fields.find((function(e){return 2===e.kind}))}function Ew(e){return e.fields.filter((function(e){return 2!==e.kind}))}Sw.UNKNOWN_ID=-1;var Tw=da((function e(t,n){fa(this,e),this.fieldPath=t,this.kind=n})),Cw=function(){function e(t,n){fa(this,e),this.sequenceNumber=t,this.offset=n}return da(e,null,[{key:"empty",value:function(){return new e(0,Nw.min())}}]),e}();function Aw(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=gw.fromTimestamp(1e9===r?new yw(n+1,0):new yw(n,r));return new Nw(i,_w.empty(),t)}function Rw(e){return new Nw(e.readTime,e.key,-1)}var Nw=function(){function e(t,n,r){fa(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return da(e,null,[{key:"min",value:function(){return new e(gw.min(),_w.empty(),-1)}},{key:"max",value:function(){return new e(gw.max(),_w.empty(),-1)}}]),e}();function Pw(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=_w.comparator(e.documentKey,t.documentKey))?n:pw(e.largestBatchId,t.largestBatchId)}var Ow="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dw=function(){function e(){fa(this,e),this.onCommittedListeners=[]}return da(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Lw(e){return Mw.apply(this,arguments)}function Mw(){return Mw=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===tw.FAILED_PRECONDITION&&t.message===Ow){e.next=2;break}throw t;case 2:Qb("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Mw.apply(this,arguments)}var Fw=function(){function e(t){var n=this;fa(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return da(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Jb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=pa(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Uw=function(){function e(t,n){var r=this;fa(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new rw,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new zw(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=Gw(e.target.error);r.T.reject(new zw(t,n))}}return da(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(Qb("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new qw(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new zw(n,t)}}}]),e}(),Vw=function(){function e(t,n,r){fa(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(Ra())&&$b("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return da(e,[{key:"k",value:function(){var e=Za(Ya().mark((function e(t){var n=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Qb("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new zw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new nw(tw.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new nw(tw.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new zw(t,n))},i.onupgradeneeded=function(e){Qb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){Qb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Za(Ya().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ya().mark((function e(){var n,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.k(t);case 2:return c.db=e.sent,n=Uw.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),Fw.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Qb("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Qb("SimpleDb","Removing database:",e),Kw(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!Ma())return!1;if(e.S())return!0;var t=Ra(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),jw=function(){function e(t){fa(this,e),this.$=t,this.B=!1,this.L=null}return da(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return Kw(this.$.delete())}}]),e}(),zw=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this,tw.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return da(n)}(nw);function Bw(e){return"IndexedDbTransactionError"===e.name}var qw=function(){function e(t){fa(this,e),this.store=t}return da(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Qb("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Qb("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Kw(n)}},{key:"add",value:function(e){return Qb("SimpleDb","ADD",this.store.name,e,e),Kw(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Kw(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Qb("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Qb("SimpleDb","DELETE",this.store.name,e),Kw(this.store.delete(e))}},{key:"count",value:function(){return Qb("SimpleDb","COUNT",this.store.name),Kw(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Fw((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Fw((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){Qb("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new Fw((function(n,r){t.onerror=function(e){var t=Gw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Fw((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new jw(i),o=t(i.primaryKey,i.value,a);if(o instanceof Fw){var u=o.catch((function(e){return a.done(),Fw.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Fw.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Kw(e){return new Fw((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Gw(e.target.error);n(t)}}))}var Ww=!1;function Gw(e){var t=Vw.v(Ra());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new nw("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ww||(Ww=!0,setTimeout((function(){throw r}),0)),r}}return e}var Hw=function(){function e(t,n){fa(this,e),this.asyncQueue=t,this.X=n,this.task=null}return da(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;Qb("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Qb,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Bw(e.t4)){e.next=17;break}Qb("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Lw(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Qw=function(){function e(t,n){fa(this,e),this.localStore=t,this.persistence=n}return da(e,[{key:"tt",value:function(){var e=Za(Ya().mark((function e(){var t,n=this,r=arguments;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Fw.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Qb("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return Qb("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Rw(t);Pw(r,n)>0&&(n=r)})),new Nw(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),$w=function(){function e(t,n){var r=this;fa(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return da(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Xw(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yw(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Jw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}$w.ot=-1;var Zw=function(){function e(t,n){fa(this,e),this.comparator=t,this.root=n||tx.EMPTY}return da(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,tx.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tx.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ex(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ex(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ex(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ex(this.root,e,this.comparator,!0)}}]),e}(),ex=function(){function e(t,n,r,i){fa(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return da(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),tx=function(){function e(t,n,r,i,a){fa(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return da(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Jb();if(this.right.isRed())throw Jb();var e=this.left.check();if(e!==this.right.check())throw Jb();return e+(this.isRed()?0:1)}}]),e}();tx.EMPTY=null,tx.RED=!0,tx.BLACK=!1,tx.EMPTY=new(function(){function e(){fa(this,e),this.size=0}return da(e,[{key:"key",get:function(){throw Jb()}},{key:"value",get:function(){throw Jb()}},{key:"color",get:function(){throw Jb()}},{key:"left",get:function(){throw Jb()}},{key:"right",get:function(){throw Jb()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new tx(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var nx=function(){function e(t){fa(this,e),this.comparator=t,this.data=new Zw(this.comparator)}return da(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new rx(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new rx(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),rx=function(){function e(t){fa(this,e),this.iter=t}return da(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function ix(e){return e.hasNext()?e.getNext():void 0}var ax=function(){function e(t){fa(this,e),this.fields=t,t.sort(xw.comparator)}return da(e,[{key:"unionWith",value:function(t){var n,r=new nx(xw.comparator),i=pa(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=pa(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=pa(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return vw(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var ox=function(e){function t(e){fa(this,t),this.binaryString=e}return da(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return pw(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ox.EMPTY_BYTE_STRING=new ox("");var ux=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sx(e){if(Zb(!!e),"string"==typeof e){var t=0,n=ux.exec(e);if(Zb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:cx(e.seconds),nanos:cx(e.nanos)}}function cx(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function lx(e){return"string"==typeof e?ox.fromBase64String(e):ox.fromUint8Array(e)}function fx(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hx(e){var t=e.mapValue.fields.__previous_value__;return fx(t)?hx(t):t}function dx(e){var t=sx(e.mapValue.fields.__local_write_time__.timestampValue);return new yw(t.seconds,t.nanos)}var px=da((function e(t,n,r,i,a,o,u,s){fa(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),vx=function(){function e(t,n){fa(this,e),this.projectId=t,this.database=n||"(default)"}return da(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function mx(e){return null==e}function yx(e){return 0===e&&1/e==-1/0}function gx(e){return"number"==typeof e&&Number.isInteger(e)&&!yx(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var kx={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bx={nullValue:"NULL_VALUE"};function wx(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fx(e)?4:Lx(e)?9007199254740991:10:Jb()}function xx(e,t){if(e===t)return!0;var n=wx(e);if(n!==wx(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return dx(e).isEqual(dx(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=sx(e.timestampValue),r=sx(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return lx(e.bytesValue).isEqual(lx(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return cx(e.geoPointValue.latitude)===cx(t.geoPointValue.latitude)&&cx(e.geoPointValue.longitude)===cx(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return cx(e.integerValue)===cx(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=cx(e.doubleValue),r=cx(t.doubleValue);return n===r?yx(n)===yx(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vw(e.arrayValue.values||[],t.arrayValue.values||[],xx);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Xw(n)!==Xw(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xx(n[i],r[i])))return!1;return!0}(e,t);default:return Jb()}}function _x(e,t){return void 0!==(e.values||[]).find((function(e){return xx(e,t)}))}function Sx(e,t){if(e===t)return 0;var n=wx(e),r=wx(t);if(n!==r)return pw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pw(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=cx(e.integerValue||e.doubleValue),r=cx(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ix(e.timestampValue,t.timestampValue);case 4:return Ix(dx(e),dx(t));case 5:return pw(e.stringValue,t.stringValue);case 6:return function(e,t){var n=lx(e),r=lx(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=pw(n[i],r[i]);if(0!==a)return a}return pw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=pw(cx(e.latitude),cx(t.latitude));return 0!==n?n:pw(cx(e.longitude),cx(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Sx(n[i],r[i]);if(a)return a}return pw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===kx.mapValue&&t===kx.mapValue)return 0;if(e===kx.mapValue)return 1;if(t===kx.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=pw(r[o],a[o]);if(0!==u)return u;var s=Sx(n[r[o]],i[a[o]]);if(0!==s)return s}return pw(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Jb()}}function Ix(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return pw(e,t);var n=sx(e),r=sx(t),i=pw(n.seconds,r.seconds);return 0!==i?i:pw(n.nanos,r.nanos)}function Ex(e){return Tx(e)}function Tx(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=sx(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?lx(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_w.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=pa(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Tx(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=pa(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Tx(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Jb();var t,n}function Cx(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ax(e){return!!e&&"integerValue"in e}function Rx(e){return!!e&&"arrayValue"in e}function Nx(e){return!!e&&"nullValue"in e}function Px(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ox(e){return!!e&&"mapValue"in e}function Dx(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Yw(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Dx(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Dx(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Lx(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Mx(e){return"nullValue"in e?bx:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Cx(vx.empty(),_w.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Jb()}function Fx(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Cx(vx.empty(),_w.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?kx:Jb()}function Ux(e,t){var n=Sx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Vx(e,t){var n=Sx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var jx=function(){function e(t){fa(this,e),this.value=t}return da(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ox(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dx(t)}},{key:"setAll",value:function(e){var t=this,n=xw.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Dx(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ox(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return xx(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ox(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Yw(t,(function(t,n){return e[t]=n}));var r,i=pa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Dx(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function zx(e){var t=[];return Yw(e.fields,(function(e,n){var r=new xw([e]);if(Ox(n)){var i=zx(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=pa(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ax(t)}var Bx=function(){function e(t,n,r,i,a,o){fa(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return da(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=jx.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=jx.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=gw.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,gw.min(),gw.min(),jx.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,gw.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,gw.min(),jx.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,gw.min(),jx.empty(),2)}}]),e}(),qx=da((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;fa(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function Kx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new qx(e,t,n,r,i,a,o)}function Wx(e){var t=ew(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ex(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),mx(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ex(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ex(e)})).join(",")),t.ut=n}return t.ut}function Gx(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!s_(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!xx(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!l_(e.startAt,t.startAt)&&l_(e.endAt,t.endAt)}function Hx(e){return _w.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Qx(e,t){return e.filters.filter((function(e){return e instanceof Yx&&e.field.isEqual(t)}))}function $x(e,t,n){var r,i=bx,a=!0,o=pa(Qx(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=bx,c=!0;switch(u.op){case"<":case"<=":s=Mx(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=bx}Ux({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ux({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Xx(e,t,n){var r,i=kx,a=!0,o=pa(Qx(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=kx,c=!0;switch(u.op){case">=":case">":s=Fx(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=kx}Vx({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Vx({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Yx=function(e){va(n,e);var t=ba(n);function n(e,r,i){var a;return fa(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return da(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Sx(t,this.value)):null!==t&&wx(this.value)===wx(t)&&this.at(Sx(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jb()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Jx(e,t,r):"array-contains"===t?new n_(e,r):"in"===t?new r_(e,r):"not-in"===t?new i_(e,r):"array-contains-any"===t?new a_(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Zx(e,n):new e_(e,n)}}]),n}(function(){return da((function e(){fa(this,e)}))}()),Jx=function(e){va(n,e);var t=ba(n);function n(e,r,i){var a;return fa(this,n),(a=t.call(this,e,r,i)).key=_w.fromName(i.referenceValue),a}return da(n,[{key:"matches",value:function(e){var t=_w.comparator(e.key,this.key);return this.at(t)}}]),n}(Yx),Zx=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this,e,"in",r)).keys=t_("in",r),i}return da(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Yx),e_=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this,e,"not-in",r)).keys=t_("not-in",r),i}return da(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Yx);function t_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return _w.fromName(e.referenceValue)}))}var n_=function(e){va(n,e);var t=ba(n);function n(e,r){return fa(this,n),t.call(this,e,"array-contains",r)}return da(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Rx(t)&&_x(t.arrayValue,this.value)}}]),n}(Yx),r_=function(e){va(n,e);var t=ba(n);function n(e,r){return fa(this,n),t.call(this,e,"in",r)}return da(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&_x(this.value.arrayValue,t)}}]),n}(Yx),i_=function(e){va(n,e);var t=ba(n);function n(e,r){return fa(this,n),t.call(this,e,"not-in",r)}return da(n,[{key:"matches",value:function(e){if(_x(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!_x(this.value.arrayValue,t)}}]),n}(Yx),a_=function(e){va(n,e);var t=ba(n);function n(e,r){return fa(this,n),t.call(this,e,"array-contains-any",r)}return da(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Rx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return _x(t.value.arrayValue,e)}))}}]),n}(Yx),o_=da((function e(t,n){fa(this,e),this.position=t,this.inclusive=n})),u_=da((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";fa(this,e),this.field=t,this.dir=n}));function s_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function c_(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?_w.comparator(_w.fromName(o.referenceValue),n.key):Sx(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function l_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!xx(e.position[n],t.position[n]))return!1;return!0}var f_=da((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;fa(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function h_(e,t,n,r,i,a,o,u){return new f_(e,t,n,r,i,a,o,u)}function d_(e){return new f_(e)}function p_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function v_(e){var t,n=pa(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function m_(e){return null!==e.collectionGroup}function y_(e){var t=ew(e);if(null===t.lt){t.lt=[];var n=v_(t),r=p_(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new u_(n)),t.lt.push(new u_(xw.keyField(),"asc"));else{var i,a=!1,o=pa(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new u_(xw.keyField(),s))}}}return t.lt}function g_(e){var t=ew(e);if(!t.ft)if("F"===t.limitType)t.ft=Kx(t.path,t.collectionGroup,y_(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=pa(y_(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new u_(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new o_(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new o_(t.startAt.position,t.startAt.inclusive):null;t.ft=Kx(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function k_(e,t,n){return new f_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function b_(e,t){return Gx(g_(e),g_(t))&&e.limitType===t.limitType}function w_(e){return"".concat(Wx(g_(e)),"|lt:").concat(e.limitType)}function x_(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ex(t.value));var t})).join(", "),"]")),mx(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ex(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ex(e)})).join(",")),"Target(".concat(t,")")}(g_(e)),"; limitType=").concat(e.limitType,")")}function __(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_w.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=pa(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=pa(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=c_(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,y_(e),t))&&!(e.endAt&&!function(e,t,n){var r=c_(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,y_(e),t))}(e,t)}function S_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function I_(e){return function(t,n){var r,i=!1,a=pa(y_(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=E_(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function E_(e,t,n){var r=e.field.isKeyField()?_w.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Sx(r,i):Jb()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Jb()}}function T_(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yx(t)?"-0":t}}function C_(e){return{integerValue:""+e}}function A_(e,t){return gx(t)?C_(t):T_(e,t)}var R_=da((function e(){fa(this,e),this._=void 0}));function N_(e,t,n){return e instanceof D_?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof L_?M_(e,t):e instanceof F_?U_(e,t):function(e,t){var n=O_(e,t),r=j_(n)+j_(e._t);return Ax(n)&&Ax(e._t)?C_(r):T_(e.wt,r)}(e,t)}function P_(e,t,n){return e instanceof L_?M_(e,t):e instanceof F_?U_(e,t):n}function O_(e,t){return e instanceof V_?Ax(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var D_=function(e){va(n,e);var t=ba(n);function n(){return fa(this,n),t.apply(this,arguments)}return da(n)}(R_),L_=function(e){va(n,e);var t=ba(n);function n(e){var r;return fa(this,n),(r=t.call(this)).elements=e,r}return da(n)}(R_);function M_(e,t){var n,r=z_(t),i=pa(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return xx(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var F_=function(e){va(n,e);var t=ba(n);function n(e){var r;return fa(this,n),(r=t.call(this)).elements=e,r}return da(n)}(R_);function U_(e,t){var n,r=z_(t),i=pa(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!xx(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var V_=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this)).wt=e,i._t=r,i}return da(n)}(R_);function j_(e){return cx(e.integerValue||e.doubleValue)}function z_(e){return Rx(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var B_=da((function e(t,n){fa(this,e),this.field=t,this.transform=n}));var q_=da((function e(t,n){fa(this,e),this.version=t,this.transformResults=n})),K_=function(){function e(t,n){fa(this,e),this.updateTime=t,this.exists=n}return da(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function W_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var G_=da((function e(){fa(this,e)}));function H_(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new aS(e.key,K_.none()):new J_(e.key,e.data,K_.none());var n,r=e.data,i=jx.empty(),a=new nx(xw.comparator),o=pa(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Z_(e.key,i,new ax(a.toArray()),K_.none())}function Q_(e,t,n){e instanceof J_?function(e,t,n){var r=e.value.clone(),i=tS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Z_?function(e,t,n){if(W_(e.precondition,t)){var r=tS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(eS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function $_(e,t,n,r){return e instanceof J_?function(e,t,n,r){if(!W_(e.precondition,t))return n;var i=e.value.clone(),a=nS(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Z_?function(e,t,n,r){if(!W_(e.precondition,t))return n;var i=nS(e.fieldTransforms,r,t),a=t.data;return a.setAll(eS(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return W_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function X_(e,t){var n,r=null,i=pa(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=O_(a.transform,o||null);null!=u&&(null===r&&(r=jx.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Y_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vw(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof L_&&t instanceof L_||e instanceof F_&&t instanceof F_?vw(e.elements,t.elements,xx):e instanceof V_&&t instanceof V_?xx(e._t,t._t):e instanceof D_&&t instanceof D_}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var J_=function(e){va(n,e);var t=ba(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return fa(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return da(n,[{key:"getFieldMask",value:function(){return null}}]),n}(G_),Z_=function(e){va(n,e);var t=ba(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return fa(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return da(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(G_);function eS(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function tS(e,t,n){var r=new Map;Zb(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,P_(o,u,n[i]))}return r}function nS(e,t,n){var r,i=new Map,a=pa(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,N_(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var rS,iS,aS=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return da(n,[{key:"getFieldMask",value:function(){return null}}]),n}(G_),oS=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return da(n,[{key:"getFieldMask",value:function(){return null}}]),n}(G_),uS=da((function e(t){fa(this,e),this.count=t}));function sS(e){switch(e){default:return Jb();case tw.CANCELLED:case tw.UNKNOWN:case tw.DEADLINE_EXCEEDED:case tw.RESOURCE_EXHAUSTED:case tw.INTERNAL:case tw.UNAVAILABLE:case tw.UNAUTHENTICATED:return!1;case tw.INVALID_ARGUMENT:case tw.NOT_FOUND:case tw.ALREADY_EXISTS:case tw.PERMISSION_DENIED:case tw.FAILED_PRECONDITION:case tw.ABORTED:case tw.OUT_OF_RANGE:case tw.UNIMPLEMENTED:case tw.DATA_LOSS:return!0}}function cS(e){if(void 0===e)return $b("GRPC error has no .code"),tw.UNKNOWN;switch(e){case rS.OK:return tw.OK;case rS.CANCELLED:return tw.CANCELLED;case rS.UNKNOWN:return tw.UNKNOWN;case rS.DEADLINE_EXCEEDED:return tw.DEADLINE_EXCEEDED;case rS.RESOURCE_EXHAUSTED:return tw.RESOURCE_EXHAUSTED;case rS.INTERNAL:return tw.INTERNAL;case rS.UNAVAILABLE:return tw.UNAVAILABLE;case rS.UNAUTHENTICATED:return tw.UNAUTHENTICATED;case rS.INVALID_ARGUMENT:return tw.INVALID_ARGUMENT;case rS.NOT_FOUND:return tw.NOT_FOUND;case rS.ALREADY_EXISTS:return tw.ALREADY_EXISTS;case rS.PERMISSION_DENIED:return tw.PERMISSION_DENIED;case rS.FAILED_PRECONDITION:return tw.FAILED_PRECONDITION;case rS.ABORTED:return tw.ABORTED;case rS.OUT_OF_RANGE:return tw.OUT_OF_RANGE;case rS.UNIMPLEMENTED:return tw.UNIMPLEMENTED;case rS.DATA_LOSS:return tw.DATA_LOSS;default:return Jb()}}(iS=rS||(rS={}))[iS.OK=0]="OK",iS[iS.CANCELLED=1]="CANCELLED",iS[iS.UNKNOWN=2]="UNKNOWN",iS[iS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",iS[iS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",iS[iS.NOT_FOUND=5]="NOT_FOUND",iS[iS.ALREADY_EXISTS=6]="ALREADY_EXISTS",iS[iS.PERMISSION_DENIED=7]="PERMISSION_DENIED",iS[iS.UNAUTHENTICATED=16]="UNAUTHENTICATED",iS[iS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",iS[iS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",iS[iS.ABORTED=10]="ABORTED",iS[iS.OUT_OF_RANGE=11]="OUT_OF_RANGE",iS[iS.UNIMPLEMENTED=12]="UNIMPLEMENTED",iS[iS.INTERNAL=13]="INTERNAL",iS[iS.UNAVAILABLE=14]="UNAVAILABLE",iS[iS.DATA_LOSS=15]="DATA_LOSS";var lS=function(){function e(t,n){fa(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return da(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=pa(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Yw(this.inner,(function(t,n){var r,i=pa(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Jw(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),fS=new Zw(_w.comparator);function hS(){return fS}var dS=new Zw(_w.comparator);function pS(){for(var e=dS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function vS(e){var t=dS;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function mS(){return gS()}function yS(){return gS()}function gS(){return new lS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var kS=new Zw(_w.comparator),bS=new nx(_w.comparator);function wS(){for(var e=bS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var xS=new nx(pw);function _S(){return xS}var SS=function(){function e(t,n,r,i,a){fa(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return da(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,IS.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(gw.min(),r,_S(),hS(),wS())}}]),e}(),IS=function(){function e(t,n,r,i,a){fa(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return da(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ox.EMPTY_BYTE_STRING,n,wS(),wS(),wS())}}]),e}(),ES=da((function e(t,n,r,i){fa(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),TS=da((function e(t,n){fa(this,e),this.targetId=t,this.It=n})),CS=da((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ox.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;fa(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),AS=function(){function e(){fa(this,e),this.Tt=0,this.Et=PS(),this.At=ox.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return da(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=wS(),t=wS(),n=wS();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Jb()}})),new IS(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=PS()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),RS=function(){function e(t){fa(this,e),this.Mt=t,this.Ft=new Map,this.$t=hS(),this.Bt=NS(),this.Lt=new nx(pw)}return da(e,[{key:"Ut",value:function(e){var t,n=pa(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=pa(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:Jb()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(Hx(i))if(0===n){var a=new _w(i.path);this.Kt(t,a,Bx.newNoDocument(a,gw.min()))}else Zb(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&Hx(a.target)){var o=new _w(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,Bx.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=wS();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new SS(e,n,this.Lt,this.$t,r);return this.$t=hS(),this.Bt=NS(),this.Lt=new nx(pw),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new AS,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new nx(pw),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||Qb("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new AS),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function NS(){return new Zw(_w.comparator)}function PS(){return new Zw(_w.comparator)}var OS={asc:"ASCENDING",desc:"DESCENDING"},DS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LS=da((function e(t,n){fa(this,e),this.databaseId=t,this.dt=n}));function MS(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function FS(e,t){return e.dt?t.toBase64():t.toUint8Array()}function US(e,t){return MS(e,t.toTimestamp())}function VS(e){return Zb(!!e),gw.fromTimestamp(function(e){var t=sx(e);return new yw(t.seconds,t.nanos)}(e))}function jS(e,t){return function(e){return new bw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function zS(e){var t=bw.fromString(e);return Zb(lI(t)),t}function BS(e,t){return jS(e.databaseId,t.path)}function qS(e,t){var n=zS(t);if(n.get(1)!==e.databaseId.projectId)throw new nw(tw.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new nw(tw.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _w(HS(n))}function KS(e,t){return jS(e.databaseId,t)}function WS(e){var t=zS(e);return 4===t.length?bw.emptyPath():HS(t)}function GS(e){return new bw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function HS(e){return Zb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function QS(e,t,n){return{name:BS(e,t),fields:n.value.mapValue.fields}}function $S(e,t,n){var r=qS(e,t.name),i=VS(t.updateTime),a=new jx({mapValue:{fields:t.fields}}),o=Bx.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function XS(e,t){return"found"in t?function(e,t){Zb(!!t.found),t.found.name,t.found.updateTime;var n=qS(e,t.found.name),r=VS(t.found.updateTime),i=new jx({mapValue:{fields:t.found.fields}});return Bx.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Zb(!!t.missing),Zb(!!t.readTime);var n=qS(e,t.missing),r=VS(t.readTime);return Bx.newNoDocument(n,r)}(e,t):Jb()}function YS(e,t){var n;if(t instanceof J_)n={update:QS(e,t.key,t.value)};else if(t instanceof aS)n={delete:BS(e,t.key)};else if(t instanceof Z_)n={update:QS(e,t.key,t.data),updateMask:cI(t.fieldMask)};else{if(!(t instanceof oS))return Jb();n={verify:BS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof D_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof L_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof F_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof V_)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Jb()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:US(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Jb()}(e,t.precondition)),n}function JS(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?K_.updateTime(VS(e.updateTime)):void 0!==e.exists?K_.exists(e.exists):K_.none()}(t.currentDocument):K_.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Zb("REQUEST_TIME"===t.setToServerValue),n=new D_;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new L_(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new F_(i)}else"increment"in t?n=new V_(e,t.increment):Jb();var a=xw.fromServerFormat(t.fieldPath);return new B_(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=qS(e,t.update.name),a=new jx({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ax(t.map((function(e){return xw.fromServerFormat(e)})))}(t.updateMask);return new Z_(i,a,o,n,r)}return new J_(i,a,n,r)}if(t.delete){var u=qS(e,t.delete);return new aS(u,n)}if(t.verify){var s=qS(e,t.verify);return new oS(s,n)}return Jb()}function ZS(e,t){return{documents:[KS(e,t.path)]}}function eI(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=KS(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=KS(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Px(e.value))return{unaryFilter:{field:aI(e.field),op:"IS_NAN"}};if(Nx(e.value))return{unaryFilter:{field:aI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Px(e.value))return{unaryFilter:{field:aI(e.field),op:"IS_NOT_NAN"}};if(Nx(e.value))return{unaryFilter:{field:aI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aI(e.field),op:iI(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:aI(e.field),direction:rI(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||mx(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function tI(e){var t=WS(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Zb(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=nI(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new u_(oI(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return mx(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new o_(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new o_(n,t)}(n.endAt)),h_(t,i,u,o,s,"F",c,l)}function nI(e){return e?void 0!==e.unaryFilter?[sI(e)]:void 0!==e.fieldFilter?[uI(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return nI(e)})).reduce((function(e,t){return e.concat(t)})):Jb():[]}function rI(e){return OS[e]}function iI(e){return DS[e]}function aI(e){return{fieldPath:e.canonicalString()}}function oI(e){return xw.fromServerFormat(e.fieldPath)}function uI(e){return Yx.create(oI(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jb()}}(e.fieldFilter.op),e.fieldFilter.value)}function sI(e){switch(e.unaryFilter.op){case"IS_NAN":var t=oI(e.unaryFilter.field);return Yx.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=oI(e.unaryFilter.field);return Yx.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=oI(e.unaryFilter.field);return Yx.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=oI(e.unaryFilter.field);return Yx.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Jb()}}function cI(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function lI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function fI(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=dI(t)),t=hI(e.get(n),t);return dI(t)}function hI(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function dI(e){return e+"\x01\x01"}function pI(e){var t=e.length;if(Zb(t>=2),2===t)return Zb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),bw.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Jb(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Jb()}a=o+2}return new bw(r)}var vI=["userId","batchId"];function mI(e,t){return[e,fI(t)]}function yI(e,t,n){return[e,fI(t),n]}var gI={},kI=["prefixPath","collectionGroup","readTime","documentId"],bI=["prefixPath","collectionGroup","documentId"],wI=["collectionGroup","readTime","prefixPath","documentId"],xI=["canonicalId","targetId"],_I=["targetId","path"],SI=["path","targetId"],II=["collectionId","parent"],EI=["indexId","uid"],TI=["uid","sequenceNumber"],CI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],AI=["indexId","uid","orderedDocumentKey"],RI=["userId","collectionPath","documentId"],NI=["userId","collectionPath","largestBatchId"],PI=["userId","collectionGroup","largestBatchId"],OI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),DI=[].concat(m(OI),["documentOverlays"]),LI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],MI=LI,FI=[].concat(MI,["indexConfiguration","indexState","indexEntries"]),UI=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return da(n)}(Dw);function VI(e,t){var n=ew(e);return Vw.N(n.ee,t)}var jI=function(){function e(t,n,r,i){fa(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return da(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Q_(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=pa(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=$_(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=pa(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=$_(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=yS();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=H_(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(gw.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),wS())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&vw(this.mutations,e.mutations,(function(e,t){return Y_(e,t)}))&&vw(this.baseMutations,e.baseMutations,(function(e,t){return Y_(e,t)}))}}]),e}(),zI=function(){function e(t,n,r,i){fa(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return da(e,null,[{key:"from",value:function(t,n,r){Zb(t.mutations.length===r.length);for(var i=kS,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),BI=function(){function e(t,n){fa(this,e),this.largestBatchId=t,this.mutation=n}return da(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),qI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gw.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:gw.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ox.EMPTY_BYTE_STRING;fa(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return da(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),KI=da((function e(t){fa(this,e),this.ne=t}));function WI(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:GI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:BS(e,t.key),fields:t.data.value.mapValue.fields,updateTime:MS(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:HI(t.version)};else{if(!t.isUnknownDocument())return Jb();r.unknownDocument={path:n.path.toArray(),version:HI(t.version)}}return r}function GI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function HI(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function QI(e){var t=new yw(e.seconds,e.nanoseconds);return gw.fromTimestamp(t)}function $I(e,t){for(var n=(t.baseMutations||[]).map((function(t){return JS(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return JS(e.ne,t)})),u=yw.fromMillis(t.localWriteTimeMs);return new jI(t.batchId,u,n,o)}function XI(e){var t,n,r=QI(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?QI(e.lastLimboFreeSnapshotVersion):gw.min();return void 0!==e.query.documents?(Zb(1===(n=e.query).documents.length),t=g_(d_(WS(n.documents[0])))):t=function(e){return g_(tI(e))}(e.query),new qI(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ox.fromBase64String(e.resumeToken))}function YI(e,t){var n,r=HI(t.snapshotVersion),i=HI(t.lastLimboFreeSnapshotVersion);n=Hx(t.target)?ZS(e.ne,t.target):eI(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Wx(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function JI(e){var t=tI({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?k_(t,t.limit,"L"):t}function ZI(e,t){return new BI(t.largestBatchId,JS(e.ne,t.overlayMutation))}function eE(e,t){var n=t.path.lastSegment();return[e,fI(t.path.popLast()),n]}function tE(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:HI(r.readTime),documentKey:fI(r.documentKey.path),largestBatchId:r.largestBatchId}}var nE=function(){function e(){fa(this,e)}return da(e,[{key:"getBundleMetadata",value:function(e,t){return rE(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:QI(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return rE(e).put({bundleId:(n=t).id,createTime:HI(VS(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return iE(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:JI(t.bundledQuery),readTime:QI(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return iE(e).put(function(e){return{name:e.name,readTime:HI(VS(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function rE(e){return VI(e,"bundles")}function iE(e){return VI(e,"namedQueries")}var aE=function(){function e(t,n){fa(this,e),this.wt=t,this.userId=n}return da(e,[{key:"getOverlay",value:function(e,t){var n=this;return oE(e).get(eE(this.userId,t)).next((function(e){return e?ZI(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=mS();return Fw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new BI(t,a);i.push(r.ie(e,o))})),Fw.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(fI(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(oE(e).W("collectionPathOverlayIndex",i))})),Fw.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=mS(),a=fI(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return oE(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=pa(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=ZI(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=mS(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return oE(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=ZI(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return oE(e).put(function(e,t,n){var r=c(eE(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:YS(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function oE(e){return VI(e,"documentOverlays")}var uE=function(){function e(){fa(this,e)}return da(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(cx(e.integerValue));else if("doubleValue"in e){var n=cx(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),yx(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(lx(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Lx(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Jb()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=pa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),_w.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function sE(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function cE(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=sE(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}uE.ye=new uE;var lE=function(){function e(){fa(this,e),this.buffer=new Uint8Array(1024),this.position=0}return da(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=pa(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=pa(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=cE(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=cE(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),fE=function(){function e(t){fa(this,e),this.Me=t}return da(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),hE=function(){function e(t){fa(this,e),this.Me=t}return da(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),dE=function(){function e(){fa(this,e),this.Me=new lE,this.Fe=new fE(this.Me),this.$e=new hE(this.Me)}return da(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),pE=function(){function e(t,n,r,i){fa(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return da(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function vE(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=mE(e.arrayValue,t.arrayValue))?n:0!==(n=mE(e.directionalValue,t.directionalValue))?n:_w.comparator(e.documentKey,t.documentKey)}function mE(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var yE=function(){function e(t){fa(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=pa(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return da(e,[{key:"Ge",value:function(e){var t=Iw(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=Ew(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=pa(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),gE=function(){function e(){fa(this,e),this.ze=new kE}return da(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),Fw.resolve()}},{key:"getCollectionParents",value:function(e,t){return Fw.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Fw.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Fw.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Fw.resolve(null)}},{key:"getIndexType",value:function(e,t){return Fw.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Fw.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Fw.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Fw.resolve(Nw.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Fw.resolve(Nw.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Fw.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Fw.resolve()}}]),e}(),kE=function(){function e(){fa(this,e),this.index={}}return da(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new nx(bw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new nx(bw.comparator)).toArray()}}]),e}(),bE=new Uint8Array(0),wE=function(){function e(t,n){fa(this,e),this.user=t,this.databaseId=n,this.He=new kE,this.Je=new lS((function(e){return Wx(e)}),(function(e,t){return Gx(e,t)})),this.uid=t.uid||""}return da(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:fI(i)};return xE(e).put(a)}return Fw.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[mw(t),""],!1,!0);return xE(e).K(r).next((function(e){var r,i=pa(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(pI(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=SE(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=IE(e);return a.next((function(e){o.put(tE(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=SE(e),r=IE(e),i=_E(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=_E(e),i=!0,a=new Map;return Fw.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=wS(),o=[];return Fw.forEach(a,(function(i,a){var u;Qb("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Wx(t)));var s=function(e,t){var n=Iw(t);if(void 0===n)return null;var r,i=pa(Qx(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=pa(Ew(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=pa(Qx(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=pa(Ew(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?$x(e,o.fieldPath,e.startAt):Xx(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new o_(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=pa(Ew(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Xx(e,o.fieldPath,e.endAt):$x(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new o_(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Fw.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=_w.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Fw.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):bE,h=u.sn(e,f,n[s%c],r),d=u.rn(e,f,i[s%c],a),p=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,m(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new pE(e,_w.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new pE(e,_w.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new yE(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=pa(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Fw.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new nx(xw.comparator),r=!1,i=pa(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=pa(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new dE,i=pa(Ew(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);uE.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new dE;return uE.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new dE;return uE.ye.re(Cx(this.databaseId,t),n.Be(function(e){var t=Ew(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new dE);var i,a=0,o=pa(Ew(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=pa(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&Rx(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);uE.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=m(e),a=[],o=pa(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=pa(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new dE;f.seed(l.Oe()),uE.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Yx&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=SE(e),i=IE(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return Fw.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Cw(t.sequenceNumber,new Nw(QI(t.readTime),new _w(pI(t.documentKey)),t.largestBatchId)):Cw.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Tw(xw.fromServerFormat(n),r)}));return new Sw(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:pw(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=SE(e),a=IE(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Fw.forEach(t,(function(t){return a.put(tE(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Fw.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Fw.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Fw.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?Fw.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return _E(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return _E(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=_E(e),i=new nx(vE);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new pE(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new nx(vE),r=this.on(t,e);if(null==r)return n;var i=Iw(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Rx(a)){var o,u=pa(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new pE(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new pE(t.indexId,e.key,bE,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;Qb("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=ix(a),s=ix(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=ix(o)):l?(i(u),u=ix(a)):(u=ix(a),s=ix(o))}}(r,i,vE,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),Fw.waitFor(o)}},{key:"ln",value:function(e){var t=1;return IE(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return vE(e,t)})).filter((function(e,t,n){return!t||0!==vE(e,n[t-1])}));var r=[];r.push(e);var i,a=pa(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=vE(o,e),s=vE(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,bE,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,bE,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(EE)}},{key:"getMinOffset",value:function(e,t){var n=this;return Fw.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||Jb()}))})).next(EE)}}]),e}();function xE(e){return VI(e,"collectionParents")}function _E(e){return VI(e,"indexEntries")}function SE(e){return VI(e,"indexConfiguration")}function IE(e){return VI(e,"indexState")}function EE(e){Zb(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Pw(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Nw(t.readTime,t.documentKey,n)}var TE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CE=function(){function e(t,n,r){fa(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return da(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function AE(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Zb(1===u)})));var c,l=[],f=pa(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=yI(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Fw.waitFor(a).next((function(){return l}))}function RE(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Jb();t=e.noDocument}return JSON.stringify(t).length}CE.DEFAULT_COLLECTION_PERCENTILE=10,CE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,CE.DEFAULT=new CE(41943040,CE.DEFAULT_COLLECTION_PERCENTILE,CE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),CE.DISABLED=new CE(-1,0,0);var NE=function(){function e(t,n,r,i){fa(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return da(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return OE(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=DE(e),o=OE(e);return o.add({}).next((function(u){Zb("number"==typeof u);var s,c=new jI(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return YS(e.ne,t)})),i=n.mutations.map((function(t){return YS(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new nx((function(e,t){return pw(e.canonicalString(),t.canonicalString())})),d=pa(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=yI(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,gI))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),Fw.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return OE(e).get(t).next((function(e){return e?(Zb(e.userId===n.userId),$I(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?Fw.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return OE(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Zb(t.batchId>=r),a=$I(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return OE(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return OE(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return $I(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=mI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return DE(e).J({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=pI(l);if(s===n.userId&&t.path.isEqual(h))return OE(e).get(f).next((function(e){if(!e)throw Jb();Zb(e.userId===n.userId),a.push($I(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new nx(pw),i=[];return t.forEach((function(t){var a=mI(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=DE(e).J({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=pI(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Fw.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=mI(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new nx(pw);return DE(e).J({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=pI(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.pn(e,u)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(OE(e).get(t).next((function(e){if(null===e)throw Jb();Zb(e.userId===n.userId),r.push($I(n.wt,e))})))})),Fw.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return AE(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),Fw.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Fw.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return DE(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=pI(e[1]);i.push(a)}else r.done()})).next((function(){Zb(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return PE(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return LE(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return Zb(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function PE(e,t,n){var r=mI(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return DE(e).J({range:a,H:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function OE(e){return VI(e,"mutations")}function DE(e){return VI(e,"documentMutations")}function LE(e){return VI(e,"mutationQueues")}var ME=function(){function e(t){fa(this,e),this.En=t}return da(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),FE=function(){function e(t,n){fa(this,e),this.referenceDelegate=t,this.wt=n}return da(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new ME(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return gw.fromTimestamp(new yw(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return UE(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return Zb(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return UE(e).J((function(o,u){var s=XI(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Fw.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return UE(e).J((function(e,n){var r=XI(n);t(r)}))}},{key:"bn",value:function(e){return VE(e).get("targetGlobalKey").next((function(e){return Zb(null!==e),e}))}},{key:"Pn",value:function(e,t){return VE(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return UE(e).put(YI(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Wx(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return UE(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=XI(n);Gx(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=jE(e);return t.forEach((function(t){var o=fI(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Fw.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=jE(e);return Fw.forEach(t,(function(t){var a=fI(t.path);return Fw.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=jE(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=jE(e),i=wS();return r.J({range:n,H:!0},(function(e,t,n){var r=pI(e[1]),a=new _w(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=fI(t.path),r=IDBKeyRange.bound([n],[mw(n)],!1,!0),i=0;return jE(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return UE(e).get(t).next((function(e){return e?XI(e):null}))}}]),e}();function UE(e){return VI(e,"targets")}function VE(e){return VI(e,"targetGlobal")}function jE(e){return VI(e,"targetDocuments")}function zE(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=pw(r,o);return 0===s?pw(i,u):s}var BE=function(){function e(t){fa(this,e),this.Sn=t,this.buffer=new nx(zE),this.Dn=0}return da(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();zE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),qE=function(){function e(t,n,r){fa(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return da(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;Qb("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Bw(e.t0)){e.next=12;break}Qb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Lw(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),KE=function(){function e(t,n){fa(this,e),this.On=t,this.params=n}return da(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Fw.resolve($w.ot);var r=new BE(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Qb("LruGarbageCollector","Garbage collection skipped; disabled"),Fw.resolve(TE)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Qb("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),TE):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Qb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Hb()<=ao.DEBUG&&Qb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Fw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),WE=function(){function e(t,n){fa(this,e),this.db=t,this.garbageCollector=function(e,t){return new KE(e,t)}(this,n)}return da(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return GE(e,n)}},{key:"removeReference",value:function(e,t,n){return GE(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return GE(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return LE(e).Y((function(r){return PE(e,r,t).next((function(e){return e&&(n=!0),Fw.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,gw.min()),jE(e).delete([0,fI(o.path)])}))}));i.push(s)}})).next((function(){return Fw.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return GE(e,t)}},{key:"Ln",value:function(e,t){var n,r=jE(e),i=$w.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==$w.ot&&t(new _w(pI(n)),i),i=s,n=u):i=$w.ot})).next((function(){i!==$w.ot&&t(new _w(pI(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function GE(e,t){return jE(e).put(function(e,t){return{targetId:0,path:fI(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var HE=function(){function e(){fa(this,e),this.changes=new lS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return da(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Bx.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Fw.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),QE=function(){function e(t){fa(this,e),this.wt=t}return da(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return JE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return JE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],GI(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Bx.newInvalidDocument(t);return JE(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ZE(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:Bx.newInvalidDocument(t)};return JE(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ZE(t))},(function(e,i){r={document:n.Kn(t,i),size:RE(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=hS();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=hS(),i=new Zw(_w.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,RE(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return Fw.resolve();var r=new nx(tT);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(ZE(r.first()),ZE(r.last())),a=r.getIterator(),o=a.getNext();return JE(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=_w.fromSegments([].concat(m(t.prefixPath),[t.collectionGroup,t.documentId]));o&&tT(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(ZE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),GI(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return JE(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=hS(),i=pa(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(_w.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=hS(),o=eT(t,n),u=eT(t,Nw.max());return JE(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(_w.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new XE(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return YE(e).get("remoteDocumentGlobalKey").next((function(e){return Zb(!!e),e}))}},{key:"qn",value:function(e,t){return YE(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=$S(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=_w.fromSegments(t.noDocument.path),i=QI(t.noDocument.readTime);n=Bx.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Jb();var a=_w.fromSegments(t.unknownDocument.path),o=QI(t.unknownDocument.version);n=Bx.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new yw(e[0],e[1]);return gw.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(gw.min()))return n}return Bx.newInvalidDocument(e)}}]),e}();function $E(e){return new QE(e)}var XE=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new lS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return da(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new nx((function(e,t){return pw(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=WI(t.zn.wt,o);i=i.add(a.path.popLast());var c=RE(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=WI(t.zn.wt,o.convertToNoDocument(gw.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),Fw.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(HE);function YE(e){return VI(e,"remoteDocumentGlobal")}function JE(e){return VI(e,"remoteDocumentsV14")}function ZE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function eT(e,t){var n=t.documentKey.path.toArray();return[e,GI(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function tT(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=pw(n[a],r[a]))return i;return(i=pw(n.length,r.length))||((i=pw(n[n.length-2],r[r.length-2]))||pw(n[n.length-1],r[r.length-1]))}var nT=da((function e(t,n){fa(this,e),this.overlayedDocument=t,this.mutatedFields=n})),rT=function(){function e(t,n,r,i){fa(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return da(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&$_(r.mutation,e,ax.empty(),yw.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,wS()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wS(),i=mS();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=pS();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=mS();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,wS())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=hS(),a=gS(),o=gS();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Z_)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),$_(o.mutation,t,o.mutation.getFieldMask(),yw.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new nT(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=gS(),i=new Zw((function(e,t){return e-t})),a=wS();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=pa(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ax.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||wS()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=yS();c.forEach((function(e){if(!a.has(e)){var n=H_(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Fw.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return _w.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):m_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Fw.resolve(mS()),u=-1,s=a;return o.next((function(t){return Fw.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Fw.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,wS())})).next((function(e){return{batchId:u,changes:vS(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new _w(t)).next((function(e){var t=pS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=pS();return this.indexManager.getCollectionParents(e,i).next((function(o){return Fw.forEach(o,(function(o){var u=function(e,t){return new f_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Bx.newInvalidDocument(n)))}));var n=pS();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&$_(a.mutation,i,ax.empty(),yw.now()),__(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Fw.resolve(Bx.newInvalidDocument(t))}}]),e}(),iT=function(){function e(t){fa(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return da(e,[{key:"getBundleMetadata",value:function(e,t){return Fw.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:VS(n.createTime)}),Fw.resolve()}},{key:"getNamedQuery",value:function(e,t){return Fw.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:JI(e.bundledQuery),readTime:VS(e.readTime)}}(t)),Fw.resolve()}}]),e}(),aT=function(){function e(){fa(this,e),this.overlays=new Zw(_w.comparator),this.Xn=new Map}return da(e,[{key:"getOverlay",value:function(e,t){return Fw.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=mS();return Fw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),Fw.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),Fw.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=mS(),i=t.length+1,a=new _w(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Fw.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Zw((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=mS(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=mS(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Fw.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new BI(t,n));var a=this.Xn.get(t);void 0===a&&(a=wS(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),oT=function(){function e(){fa(this,e),this.Zn=new nx(uT.ts),this.es=new nx(uT.ns)}return da(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new uT(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new uT(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new _w(new bw([])),r=new uT(n,e),i=new uT(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new _w(new bw([])),n=new uT(t,e),r=new uT(t,e+1),i=wS();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new uT(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),uT=function(){function e(t,n){fa(this,e),this.key=t,this.ls=n}return da(e,null,[{key:"ts",value:function(e,t){return _w.comparator(e.key,t.key)||pw(e.ls,t.ls)}},{key:"ns",value:function(e,t){return pw(e.ls,t.ls)||_w.comparator(e.key,t.key)}}]),e}(),sT=function(){function e(t,n){fa(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new nx(uT.ts)}return da(e,[{key:"checkEmpty",value:function(e){return Fw.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new jI(i,t,n,r);this.mutationQueue.push(a);var o,u=pa(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new uT(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Fw.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Fw.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return Fw.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Fw.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Fw.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new uT(t,0),i=new uT(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),Fw.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new nx(pw);return t.forEach((function(e){var t=new uT(e,0),i=new uT(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Fw.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;_w.isDocumentKey(i)||(i=i.child(""));var a=new uT(new _w(i),0),o=new nx(pw);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),Fw.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Zb(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return Fw.forEach(t.mutations,(function(i){var a=new uT(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new uT(t,0),r=this.ds.firstAfterOrEqual(n);return Fw.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Fw.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),cT=function(){function e(t){fa(this,e),this.ps=t,this.docs=new Zw(_w.comparator),this.size=0}return da(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Fw.resolve(n?n.document.mutableCopy():Bx.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=hS();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Bx.newInvalidDocument(e))})),Fw.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=hS(),i=new _w(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Pw(Rw(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Fw.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Jb()}},{key:"Is",value:function(e,t){return Fw.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new lT(this)}},{key:"getSize",value:function(e){return Fw.resolve(this.size)}}]),e}(),lT=function(e){va(n,e);var t=ba(n);function n(e){var r;return fa(this,n),(r=t.call(this)).zn=e,r}return da(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),Fw.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(HE),fT=function(){function e(t){fa(this,e),this.persistence=t,this.Ts=new lS((function(e){return Wx(e)}),Gx),this.lastRemoteSnapshotVersion=gw.min(),this.highestTargetId=0,this.Es=0,this.As=new oT,this.targetCount=0,this.Rs=ME.An()}return da(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),Fw.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Fw.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Fw.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Fw.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),Fw.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new ME(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,Fw.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),Fw.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Fw.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Fw.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Fw.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return Fw.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Fw.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Fw.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),Fw.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Fw.resolve(n)}},{key:"containsKey",value:function(e,t){return Fw.resolve(this.As.containsKey(t))}}]),e}(),hT=function(){function e(t,n){var r=this;fa(this,e),this.bs={},this.overlays={},this.Ps=new $w(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new fT(this),this.indexManager=new gE,this.remoteDocumentCache=new cT((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new KI(n),this.Ds=new iT(this.wt)}return da(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new aT,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new sT(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Qb("MemoryPersistence","Starting transaction:",e);var i=new dT(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return Fw.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),dT=function(e){va(n,e);var t=ba(n);function n(e){var r;return fa(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return da(n)}(Dw),pT=function(){function e(t){fa(this,e),this.persistence=t,this.ks=new oT,this.Os=null}return da(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw Jb()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),Fw.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),Fw.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),Fw.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fw.forEach(this.Fs,(function(r){var i=_w.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,gw.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Fw.or([function(){return Fw.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),vT=function(){function e(t){fa(this,e),this.wt=t}return da(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new Uw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vI,{unique:!0}),e.createObjectStore("documentMutations")}(e),mT(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Fw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),mT(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gw.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vI,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Fw.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:RI});t.createIndex("collectionPathOverlayIndex",NI,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",PI,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:kI});t.createIndex("documentKeyIndex",bI),t.createIndex("collectionGroupIndex",wI)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:EI}).createIndex("sequenceNumberIndex",TI,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:CI}).createIndex("documentKeyIndex",AI,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=RE(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return Fw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return Fw.forEach(r,(function(r){Zb(r.userId===n.userId);var i=$I(t.wt,r);return AE(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new bw(n),o=function(e){return[0,fI(e)]}(a);r.push(t.get(o).next((function(n){return n?Fw.resolve():function(n){return t.put({targetId:0,path:fI(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Fw.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:II});var n=t.store("collectionParents"),r=new kE,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:fI(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new bw(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],pI(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=XI(r),a=YI(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new _w(bw.fromString(i.document.name).popFirst(5)):i.noDocument?_w.fromSegments(i.noDocument.path):i.unknownDocument?_w.fromSegments(i.unknownDocument.path):Jb()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Fw.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=$E(this.wt),a=new hT(pT.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:wS();$I(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Fw.forEach(r,(function(e,r){var o=new Kb(r),u=aE.se(n.wt,o),s=a.getIndexManager(o),c=NE.se(o,n.wt,s,a.referenceDelegate);return new rT(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new UI(t,$w.ot),e).next()}))}))}}]),e}();function mT(e){e.createObjectStore("targetDocuments",{keyPath:_I}).createIndex("documentTargetsIndex",SI,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xI,{unique:!0}),e.createObjectStore("targetGlobal")}var yT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gT=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(fa(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new nw(tw.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new WE(this,i),this.ei=n+"main",this.wt=new KI(s),this.ni=new Vw(this.ei,this.Hs,new vT(this.wt)),this.Vs=new FE(this.referenceDelegate,this.wt),this.remoteDocumentCache=$E(this.wt),this.Ds=new nE,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&$b("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return da(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new nw(tw.FAILED_PRECONDITION,yT);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new $w(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=Za(Ya().mark((function n(r){return Ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=Za(Ya().mark((function t(n){return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return bT(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(Bw(t))return Qb("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Qb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return kT(e).get("owner").next((function(e){return Fw.resolve(t.di(e))}))}},{key:"_i",value:function(e){return bT(e).delete(this.clientId)}},{key:"wi",value:function(){var e=Za(Ya().mark((function e(){var t,n,r,i,a=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=VI(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Fw.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=pa(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?Fw.resolve(!0):kT(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new nw(tw.FAILED_PRECONDITION,yT);return!1}}return!(!t.networkEnabled||!t.inForeground)||bT(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Qb("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Za(Ya().mark((function e(){var t=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new UI(e,$w.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return bT(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return NE.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new wE(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return aE.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Qb("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?FI:14===i?MI:13===i?LI:12===i?DI:11===i?OI:void Jb();return this.ni.runTransaction(e,o,u,(function(i){return a=new UI(i,r.Ps?r.Ps.next():$w.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw $b("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new nw(tw.FAILED_PRECONDITION,Ow);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return kT(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new nw(tw.FAILED_PRECONDITION,yT)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kT(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=kT(e);return n.get("owner").next((function(e){return t.di(e)?(Qb("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Fw.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||($b("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!Pa()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Qb("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return $b("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(Km){$b("Failed to set zombie client id.",Km)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(Km){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return Vw.V()}}]),e}();function kT(e){return VI(e,"owner")}function bT(e){return VI(e,"clientMetadata")}function wT(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var xT=function(){function e(t,n,r,i){fa(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return da(e,null,[{key:"Vi",value:function(t,n){var r,i=wS(),a=wS(),o=pa(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),_T=function(){function e(){fa(this,e),this.Si=!1}return da(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return Fw.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(gw.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(Hb()<=ao.DEBUG&&Qb("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),x_(t)),i.Mi(e,o,t,Aw(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new nx(I_(e));return t.forEach((function(t,r){__(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return Hb()<=ao.DEBUG&&Qb("QueryEngine","Using full collection scan to execute query:",x_(t)),this.Di.getDocumentsMatchingQuery(e,t,Nw.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),ST=function(){function e(t,n,r,i){fa(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Zw(pw),this.Bi=new lS((function(e){return Wx(e)}),Gx),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return da(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rT(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function IT(e,t,n,r){return new ST(e,t,n,r)}function ET(e,t){return TT.apply(this,arguments)}function TT(){return TT=Za(Ya().mark((function e(t,n){var r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ew(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=wS(),s=pa(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=pa(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=pa(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=pa(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),TT.apply(this,arguments)}function CT(e,t){var n=ew(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Fw.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Zb(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=wS(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function AT(e){var t=ew(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function RT(e,t){var n=ew(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(ox.EMPTY_BYTE_STRING,gw.min()).withLastLimboFreeSnapshotVersion(gw.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=hS(),s=wS();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(NT(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(gw.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Fw.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function NT(e,t,n){var r=wS(),i=wS();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=hS();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(gw.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Qb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function PT(e,t){var n=ew(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function OT(e,t){var n=ew(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,Fw.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new qI(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function DT(e,t,n){return LT.apply(this,arguments)}function LT(){return LT=Za(Ya().mark((function e(t,n,r){var i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ew(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Bw(e.t1)){e.next=12;break}throw e.t1;case 12:Qb("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),LT.apply(this,arguments)}function MT(e,t,n){var r=ew(e),i=gw.min(),a=wS();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ew(e),i=r.Bi.get(n);return void 0!==i?Fw.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,g_(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:gw.min(),n?a:wS())})).next((function(e){return VT(r,S_(t),e),{documents:e,ji:a}}))}))}function FT(e,t){var n=ew(e),r=ew(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function UT(e,t){var n=ew(e),r=n.Li.get(t)||gw.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,Aw(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return VT(n,t,e),e}))}function VT(e,t,n){var r=gw.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function jT(e,t,n,r){return zT.apply(this,arguments)}function zT(){return zT=Za(Ya().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=ew(t),o=wS(),u=hS(),s=pa(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,OT(a,function(e){return g_(d_(bw.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return NT(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),zT.apply(this,arguments)}function BT(e,t){return qT.apply(this,arguments)}function qT(){return qT=Za(Ya().mark((function e(t,n){var r,i,a,o=arguments;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:wS(),e.next=3,OT(t,g_(JI(n.bundledQuery)));case 3:return i=e.sent,a=ew(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=VS(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(ox.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),qT.apply(this,arguments)}function KT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function WT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function GT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var HT=function(){function e(t,n,r,i){fa(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return da(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new nw(a.error.code,a.error.message))),o?new e(t,n,a.state,i):($b("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),QT=function(){function e(t,n,r){fa(this,e),this.targetId=t,this.state=n,this.error=r}return da(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new nw(i.error.code,i.error.message))),a?new e(t,i.state,r):($b("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),$T=function(){function e(t,n){fa(this,e),this.clientId=t,this.activeTargetIds=n}return da(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=_S(),o=0;i&&o<r.activeTargetIds.length;++o)i=gx(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):($b("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),XT=function(){function e(t,n){fa(this,e),this.clientId=t,this.onlineState=n}return da(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):($b("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),YT=function(){function e(){fa(this,e),this.activeTargetIds=_S()}return da(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),JT=function(){function e(t,n,r,i,a){fa(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Zw(pw),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=KT(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new YT),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return da(e,[{key:"start",value:function(){var e=Za(Ya().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=pa(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(KT(this.persistenceKey,i)))&&(o=$T.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=pa(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(GT(this.persistenceKey,e));if(n){var r=QT.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(GT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Qb("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Qb("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Qb("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Qb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void $b("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(Za(Ya().mark((function e(){var r,i,a,o,u,s,c;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=$w.ot;if(null!=e)try{var n=JSON.parse(e);Zb("number"==typeof n),t=n}catch(e){$b("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==$w.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new HT(this.currentUser,e,t,n),i=WT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=WT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=GT(this.persistenceKey,e),i=new QT(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return $T.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return HT.Ji(new Kb(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return QT.Ji(r,t)}},{key:"wr",value:function(e){return XT.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Qb("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=_S();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ZT=function(){function e(){fa(this,e),this.Fr=new YT,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return da(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new YT,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),eC=function(){function e(){fa(this,e)}return da(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),tC=function(){function e(){var t=this;fa(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return da(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Qb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=pa(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){Qb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=pa(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),nC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},rC=function(){function e(t){fa(this,e),this.jr=t.jr,this.Wr=t.Wr}return da(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),iC=function(e){va(n,e);var t=ba(n);function n(e){var r;return fa(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return da(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Bb;o.listenOnce(Fb.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Mb.NO_ERROR:var t=o.getResponseJson();Qb("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Mb.TIMEOUT:Qb("Connection",'RPC "'+e+'" timed out'),a(new nw(tw.DEADLINE_EXCEEDED,"Request time out"));break;case Mb.HTTP_ERROR:var n=o.getStatus();if(Qb("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(tw).indexOf(t)>=0?t:tw.UNKNOWN}(r.status);a(new nw(u,r.message))}else a(new nw(tw.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new nw(tw.UNAVAILABLE,"Connection failed."));break;default:Jb()}}finally{Qb("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Db(),a=Lb(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new jb({})),this.uo(o.initMessageHeaders,t,n),Na()||Da()||Ra().indexOf("Electron/")>=0||La()||Ra().indexOf("MSAppHost/")>=0||Oa()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Qb("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new rC({jr:function(e){l?Qb("Connection","Not sending because WebChannel is closed:",e):(c||(Qb("Connection","Opening WebChannel transport."),s.open(),c=!0),Qb("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,zb.EventType.OPEN,(function(){l||Qb("Connection","WebChannel transport opened.")})),h(s,zb.EventType.CLOSE,(function(){l||(l=!0,Qb("Connection","WebChannel transport closed"),f.eo())})),h(s,zb.EventType.ERROR,(function(e){l||(l=!0,Xb("Connection","WebChannel transport errored:",e),f.eo(new nw(tw.UNAVAILABLE,"The operation could not be completed")))})),h(s,zb.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Zb(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Qb("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=rS[e];if(void 0!==t)return cS(t)}(a),u=i.message;void 0===o&&(o=tw.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new nw(o,u)),s.close()}else Qb("Connection","WebChannel received:",n),f.no(n)}})),h(a,Ub.STAT_EVENT,(function(e){e.stat===Vb.PROXY?Qb("Connection","Detected buffering proxy"):e.stat===Vb.NOPROXY&&Qb("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){fa(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return da(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Qb("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return Qb("RestConnection","Received: ",e),e}),(function(t){throw Xb("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wb,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=nC[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function aC(){return"undefined"!=typeof window?window:null}function oC(){return"undefined"!=typeof document?document:null}function uC(e){return new LS(e,!0)}var sC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;fa(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return da(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Qb("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),cC=function(){function e(t,n,r,i,a,o,u,s){fa(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new sC(t,n)}return da(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===tw.RESOURCE_EXHAUSTED?($b(n.toString()),$b("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===tw.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new nw(tw.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Za(Ya().mark((function t(){return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Qb("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(Qb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),lC=function(e){va(n,e);var t=ba(n);function n(e,r,i,a,o,u){var s;return fa(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return da(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Jb()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(Zb(void 0===t||"string"==typeof t),ox.fromBase64String(t||"")):(Zb(void 0===t||t instanceof Uint8Array),ox.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?tw.UNKNOWN:cS(e.code);return new nw(t,e.message||"")}(o);n=new CS(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=qS(e,s.document.name),l=VS(s.document.updateTime),f=new jx({mapValue:{fields:s.document.fields}}),h=Bx.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new ES(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=qS(e,v.document),y=v.readTime?VS(v.readTime):gw.min(),g=Bx.newNoDocument(m,y),k=v.removedTargetIds||[];n=new ES([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=qS(e,b.document),x=b.removedTargetIds||[];n=new ES([],x,w,null)}else{if(!("filter"in t))return Jb();t.filter;var _=t.filter;_.targetId;var S=_.count||0,I=new uS(S),E=_.targetId;n=new TS(E,I)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return gw.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?gw.min():t.readTime?VS(t.readTime):gw.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=GS(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=Hx(r)?{documents:ZS(e,r)}:{query:eI(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=FS(e,t.resumeToken):t.snapshotVersion.compareTo(gw.min())>0&&(n.readTime=MS(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jb()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=GS(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(cC),fC=function(e){va(n,e);var t=ba(n);function n(e,r,i,a,o,u){var s;return fa(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return da(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Au(ma(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Zb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Zb(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?VS(e.updateTime):VS(t);return n.isEqual(gw.min())&&(n=VS(t)),new q_(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=VS(e.commitTime);return this.listener.Jo(n,t)}return Zb(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=GS(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return YS(t.wt,e)}))};this.Mo(n)}}]),n}(cC),hC=function(e){va(n,e);var t=ba(n);function n(e,r,i,a){var o;return fa(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return da(n,[{key:"tu",value:function(){if(this.Zo)throw new nw(tw.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===tw.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new nw(tw.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===tw.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new nw(tw.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return da((function e(){fa(this,e)}))}()),dC=function(){function e(t,n){fa(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return da(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?($b(t),this.su=!1):Qb("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),pC=da((function e(t,n,r,i,a){var o=this;fa(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=IC(o),!e.t0){e.next=5;break}return Qb("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ew(t)).lu.add(4),e.next=4,yC(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,vC(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new dC(r,i)}));function vC(e){return mC.apply(this,arguments)}function mC(){return mC=Za(Ya().mark((function e(t){var n,r,i;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!IC(t)){e.next=18;break}n=pa(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),mC.apply(this,arguments)}function yC(e){return gC.apply(this,arguments)}function gC(){return gC=Za(Ya().mark((function e(t){var n,r,i;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=pa(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),gC.apply(this,arguments)}function kC(e,t){var n=ew(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),SC(n)?_C(n):eA(n).Co()&&wC(n,t))}function bC(e,t){var n=ew(e),r=eA(n);n.hu.delete(t),r.Co()&&xC(n,t),0===n.hu.size&&(r.Co()?r.ko():IC(n)&&n._u.set("Unknown"))}function wC(e,t){e.wu.Nt(t.targetId),eA(e).Qo(t)}function xC(e,t){e.wu.Nt(t),eA(e).jo(t)}function _C(e){e.wu=new RS({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),eA(e).start(),e._u.iu()}function SC(e){return IC(e)&&!eA(e).Do()&&e.hu.size>0}function IC(e){return 0===ew(e).lu.size}function EC(e){e.wu=void 0}function TC(e){return CC.apply(this,arguments)}function CC(){return CC=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){wC(t,e)}));case 1:case"end":return e.stop()}}),e)}))),CC.apply(this,arguments)}function AC(e,t){return RC.apply(this,arguments)}function RC(){return RC=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:EC(t),SC(t)?(t._u.uu(n),_C(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),RC.apply(this,arguments)}function NC(e,t,n){return PC.apply(this,arguments)}function PC(){return PC=Za(Ya().mark((function e(t,n,r){var i;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof CS&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Za(Ya().mark((function e(t,n){var r,i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=pa(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Qb("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,OC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof ES?t.wu.Ut(n):n instanceof TS?t.wu.zt(n):t.wu.Gt(n),r.isEqual(gw.min())){e.next=29;break}return e.prev=14,e.next=17,AT(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(ox.EMPTY_BYTE_STRING,n.snapshotVersion)),xC(e,t);var r=new qI(n.target,t,1,n.sequenceNumber);wC(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Qb("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,OC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),PC.apply(this,arguments)}function OC(e,t,n){return DC.apply(this,arguments)}function DC(){return DC=Za(Ya().mark((function e(t,n,r){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bw(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,yC(t);case 5:t._u.set("Offline"),r||(r=function(){return AT(t.localStore)}),t.asyncQueue.enqueueRetryable(Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qb("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,vC(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),DC.apply(this,arguments)}function LC(e,t){return t().catch((function(n){return OC(e,n,t)}))}function MC(e){return FC.apply(this,arguments)}function FC(){return FC=Za(Ya().mark((function e(t){var n,r,i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ew(t),r=tA(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!UC(n)){e.next=19;break}return e.prev=3,e.next=6,PT(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,VC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,OC(n,e.t0);case 17:e.next=2;break;case 19:jC(n)&&zC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),FC.apply(this,arguments)}function UC(e){return IC(e)&&e.au.length<10}function VC(e,t){e.au.push(t);var n=tA(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function jC(e){return IC(e)&&!tA(e).Do()&&e.au.length>0}function zC(e){tA(e).start()}function BC(e){return qC.apply(this,arguments)}function qC(){return qC=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tA(t).Xo();case 1:case"end":return e.stop()}}),e)}))),qC.apply(this,arguments)}function KC(e){return WC.apply(this,arguments)}function WC(){return WC=Za(Ya().mark((function e(t){var n,r,i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=tA(t),r=pa(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),WC.apply(this,arguments)}function GC(e,t,n){return HC.apply(this,arguments)}function HC(){return HC=Za(Ya().mark((function e(t,n,r){var i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=zI.from(i,n,r),e.next=3,LC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,MC(t);case 5:case"end":return e.stop()}}),e)}))),HC.apply(this,arguments)}function QC(e,t){return $C.apply(this,arguments)}function $C(){return $C=Za(Ya().mark((function e(t,n){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&tA(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Za(Ya().mark((function e(t,n){var r,i;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sS(i=n.code)||i===tw.ABORTED){e.next=7;break}return r=t.au.shift(),tA(t).No(),e.next=5,LC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,MC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:jC(t)&&zC(t);case 5:case"end":return e.stop()}}),e)}))),$C.apply(this,arguments)}function XC(e,t){return YC.apply(this,arguments)}function YC(){return YC=Za(Ya().mark((function e(t,n){var r,i;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ew(t)).asyncQueue.verifyOperationInProgress(),Qb("RemoteStore","RemoteStore received new credentials"),i=IC(r),r.lu.add(3),e.next=6,yC(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,vC(r);case 12:case"end":return e.stop()}}),e)}))),YC.apply(this,arguments)}function JC(e,t){return ZC.apply(this,arguments)}function ZC(){return ZC=Za(Ya().mark((function e(t,n){var r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ew(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,vC(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,yC(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),ZC.apply(this,arguments)}function eA(e){return e.mu||(e.mu=function(e,t,n){var r=ew(e);return r.tu(),new lC(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:TC.bind(null,e),Jr:AC.bind(null,e),Go:NC.bind(null,e)}),e.fu.push(function(){var t=Za(Ya().mark((function t(n){return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),SC(e)?_C(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:EC(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function tA(e){return e.gu||(e.gu=function(e,t,n){var r=ew(e);return r.tu(),new fC(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:BC.bind(null,e),Jr:QC.bind(null,e),Yo:KC.bind(null,e),Jo:GC.bind(null,e)}),e.fu.push(function(){var t=Za(Ya().mark((function t(n){return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,MC(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(Qb("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var nA=function(){function e(t,n,r,i,a){fa(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new rw,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return da(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nw(tw.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function rA(e,t){if($b("AsyncQueue","".concat(t,": ").concat(e)),Bw(e))return new nw(tw.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var iA=function(){function e(t){fa(this,e),this.comparator=t?function(e,n){return t(e,n)||_w.comparator(e.key,n.key)}:function(e,t){return _w.comparator(e.key,t.key)},this.keyedMap=pS(),this.sortedSet=new Zw(this.comparator)}return da(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),aA=function(){function e(){fa(this,e),this.yu=new Zw(_w.comparator)}return da(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Jb():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),oA=function(){function e(t,n,r,i,a,o,u,s){fa(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return da(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&b_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,iA.emptySet(n),a,r,i,!0,!1)}}]),e}(),uA=da((function e(){fa(this,e),this.Iu=void 0,this.listeners=[]})),sA=da((function e(){fa(this,e),this.queries=new lS((function(e){return w_(e)}),b_),this.onlineState="Unknown",this.Tu=new Set}));function cA(e,t){return lA.apply(this,arguments)}function lA(){return lA=Za(Ya().mark((function e(t,n){var r,i,a,o,u;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ew(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new uA),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=rA(e.t0,"Initialization of query '".concat(x_(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&vA(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),lA.apply(this,arguments)}function fA(e,t){return hA.apply(this,arguments)}function hA(){return hA=Za(Ya().mark((function e(t,n){var r,i,a,o,u;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ew(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),hA.apply(this,arguments)}function dA(e,t){var n,r=ew(e),i=!1,a=pa(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=pa(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&vA(r)}function pA(e,t,n){var r=ew(e),i=r.queries.get(t);if(i){var a,o=pa(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function vA(e){e.Tu.forEach((function(e){e.next()}))}var mA=function(){function e(t,n,r){fa(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return da(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=pa(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new oA(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=oA.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),yA=function(){function e(t,n){fa(this,e),this.payload=t,this.byteLength=n}return da(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),gA=function(){function e(t){fa(this,e),this.wt=t}return da(e,[{key:"Wi",value:function(e){return qS(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?$S(this.wt,e.document,!1):Bx.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return VS(e)}}]),e}(),kA=function(){function e(t,n,r){fa(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=bA(t)}return da(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=bw.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new gA(this.wt),i=pa(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=pa(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||wS()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Za(Ya().mark((function e(){var t,n,r,i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jT(this.localStore,new gA(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=pa(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,BT(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function bA(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var wA=da((function e(t){fa(this,e),this.key=t})),xA=da((function e(t){fa(this,e),this.key=t})),_A=function(){function e(t,n){fa(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=wS(),this.mutatedKeys=wS(),this.Lu=I_(t),this.Uu=new iA(this.Lu)}return da(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new aA,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=__(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jb()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new oA(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new aA,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=wS(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new xA(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new wA(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=wS();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return oA.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),SA=da((function e(t,n,r){fa(this,e),this.query=t,this.targetId=n,this.view=r})),IA=da((function e(t){fa(this,e),this.key=t,this.Xu=!1})),EA=function(){function e(t,n,r,i,a,o){fa(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new lS((function(e){return w_(e)}),b_),this.ec=new Map,this.nc=new Set,this.sc=new Zw(_w.comparator),this.ic=new Map,this.rc=new oT,this.oc={},this.uc=new Map,this.cc=ME.Rn(),this.onlineState="Unknown",this.ac=void 0}return da(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function TA(e,t){return CA.apply(this,arguments)}function CA(){return CA=Za(Ya().mark((function e(t,n){var r,i,a,o,u,s;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bR(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,OT(r.localStore,g_(n));case 8:return u=e.sent,r.isPrimaryClient&&kC(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,AA(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),CA.apply(this,arguments)}function AA(e,t,n,r){return RA.apply(this,arguments)}function RA(){return RA=Za(Ya().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Za(Ya().mark((function e(t,n,r,i){var a,o,u;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,MT(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(XA(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,MT(t.localStore,n,!0);case 3:return a=e.sent,o=new _A(n,a.ji),u=o.Ku(a.documents),s=IS.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),XA(t,r,c.zu),l=new SA(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),RA.apply(this,arguments)}function NA(e,t){return PA.apply(this,arguments)}function PA(){return PA=Za(Ya().mark((function e(t,n){var r,i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ew(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!b_(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,DT(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),bC(r.remoteStore,i.targetId),QA(r,i.targetId)})).catch(Lw);case 9:e.next=14;break;case 11:return QA(r,i.targetId),e.next=14,DT(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),PA.apply(this,arguments)}function OA(e,t,n){return DA.apply(this,arguments)}function DA(){return DA=Za(Ya().mark((function e(t,n,r){var i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wR(t),e.prev=1,e.next=4,function(e,t){var n,r,i=ew(e),a=yw.now(),o=t.reduce((function(e,t){return e.add(t.key)}),wS());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=hS(),s=wS();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=pa(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=X_(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Z_(c.key,l,zx(l.value.mapValue),K_.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:vS(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Zw(pw)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,ZA(i,a.changes);case 9:return e.next=11,MC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=rA(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),DA.apply(this,arguments)}function LA(e,t){return MA.apply(this,arguments)}function MA(){return MA=Za(Ya().mark((function e(t,n){var r,i;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ew(t),e.prev=1,e.next=4,RT(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(Zb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Zb(n.Xu):e.removedDocuments.size>0&&(Zb(n.Xu),n.Xu=!1))})),e.next=8,ZA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Lw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),MA.apply(this,arguments)}function FA(e,t,n){var r=ew(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ew(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=pa(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&vA(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function UA(e,t,n){return VA.apply(this,arguments)}function VA(){return VA=Za(Ya().mark((function e(t,n,r){var i,a,o,u,s,c;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ew(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Zw(_w.comparator)).insert(o,Bx.newNoDocument(o,gw.min())),s=wS().add(o),c=new SS(gw.min(),new Map,new nx(pw),u,s),e.next=9,LA(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),JA(i),e.next=16;break;case 14:return e.next=16,DT(i.localStore,n,!1).then((function(){return QA(i,n,r)})).catch(Lw);case 16:case"end":return e.stop()}}),e)}))),VA.apply(this,arguments)}function jA(e,t){return zA.apply(this,arguments)}function zA(){return zA=Za(Ya().mark((function e(t,n){var r,i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ew(t),i=n.batch.batchId,e.prev=1,e.next=4,CT(r.localStore,n);case 4:return a=e.sent,HA(r,i,null),GA(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ZA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Lw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),zA.apply(this,arguments)}function BA(e,t,n){return qA.apply(this,arguments)}function qA(){return qA=Za(Ya().mark((function e(t,n,r){var i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ew(t),e.prev=1,e.next=4,function(e,t){var n=ew(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Zb(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,HA(i,n,r),GA(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ZA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Lw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),qA.apply(this,arguments)}function KA(e,t){return WA.apply(this,arguments)}function WA(){return WA=Za(Ya().mark((function e(t,n){var r,i,a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return IC((r=ew(t)).remoteStore)||Qb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=ew(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=rA(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),WA.apply(this,arguments)}function GA(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function HA(e,t,n){var r=ew(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function QA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=pa(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||$A(e,t)}))}function $A(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(bC(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),JA(e))}function XA(e,t,n){var r,i=pa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof wA?(e.rc.addReference(a.key,t),YA(e,a)):a instanceof xA?(Qb("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||$A(e,a.key)):Jb()}}catch(o){i.e(o)}finally{i.f()}}function YA(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(Qb("SyncEngine","New document in limbo: "+n),e.nc.add(r),JA(e))}function JA(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new _w(bw.fromString(t)),r=e.cc.next();e.ic.set(r,new IA(n)),e.sc=e.sc.insert(n,r),kC(e.remoteStore,new qI(g_(d_(n.path)),r,2,$w.ot))}}function ZA(e,t,n){return eR.apply(this,arguments)}function eR(){return eR=Za(Ya().mark((function e(t,n,r){var i,a,o,u;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ew(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=xT.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Za(Ya().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ew(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Fw.forEach(n,(function(t){return Fw.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Fw.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Bw(e.t0)){e.next=10;break}throw e.t0;case 10:Qb("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=pa(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),eR.apply(this,arguments)}function tR(e,t){return nR.apply(this,arguments)}function nR(){return nR=Za(Ya().mark((function e(t,n){var r,i;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ew(t)).currentUser.isEqual(n)){e.next=11;break}return Qb("SyncEngine","User change. New user:",n.toKey()),e.next=5,ET(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new nw(tw.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ZA(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),nR.apply(this,arguments)}function rR(e,t){var n=ew(e),r=n.ic.get(t);if(r&&r.Xu)return wS().add(r.key);var i=wS(),a=n.ec.get(t);if(!a)return i;var o,u=pa(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function iR(e,t){return aR.apply(this,arguments)}function aR(){return aR=Za(Ya().mark((function e(t,n){var r,i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ew(t),e.next=3,MT(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&XA(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),aR.apply(this,arguments)}function oR(e,t){return uR.apply(this,arguments)}function uR(){return uR=Za(Ya().mark((function e(t,n){var r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ew(t),e.abrupt("return",UT(r.localStore,n).then((function(e){return ZA(r,e)})));case 2:case"end":return e.stop()}}),e)}))),uR.apply(this,arguments)}function sR(e,t,n,r){return cR.apply(this,arguments)}function cR(){return cR=Za(Ya().mark((function e(t,n,r,i){var a,o;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ew(t),e.next=3,function(e,t){var n=ew(e),r=ew(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Fw.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,MC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(HA(a,n,i||null),GA(a,n),function(e,t){ew(ew(e).mutationQueue).In(t)}(a.localStore,n)):Jb();case 11:return e.next=13,ZA(a,o);case 13:e.next=16;break;case 15:Qb("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),cR.apply(this,arguments)}function lR(e,t){return fR.apply(this,arguments)}function fR(){return fR=Za(Ya().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bR(r=ew(t)),wR(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,hR(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,JC(r.remoteStore,!0);case 9:o=pa(a);try{for(o.s();!(u=o.n()).done;)s=u.value,kC(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return QA(r,t),DT(r.localStore,t,!0)})),bC(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,hR(r,c);case 21:return function(e){var t=ew(e);t.ic.forEach((function(e,n){bC(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new Zw(_w.comparator)}(r),r.ac=!1,e.next=25,JC(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),fR.apply(this,arguments)}function hR(e,t,n){return dR.apply(this,arguments)}function dR(){return dR=Za(Ya().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=ew(t),a=[],o=[],u=pa(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,OT(i.localStore,g_(f[0]));case 11:l=e.sent,h=pa(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,iR(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,FT(i.localStore,c);case 36:return y=e.sent,e.next=39,OT(i.localStore,y);case 39:return l=e.sent,e.next=42,AA(i,pR(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),dR.apply(this,arguments)}function pR(e){return h_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function vR(e){var t=ew(e);return ew(ew(t.localStore).persistence).Ri()}function mR(e,t,n,r){return yR.apply(this,arguments)}function yR(){return yR=Za(Ya().mark((function e(t,n,r,i){var a,o,u,s;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=ew(t)).ac){e.next=3;break}return e.abrupt("return",void Qb("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,UT(a.localStore,S_(o[0]));case 10:return u=e.sent,s=SS.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,ZA(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,DT(a.localStore,n,!0);case 17:return QA(a,n,i),e.abrupt("break",20);case 19:Jb();case 20:case"end":return e.stop()}}),e)}))),yR.apply(this,arguments)}function gR(e,t,n){return kR.apply(this,arguments)}function kR(){return kR=Za(Ya().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=bR(t)).ac){e.next=45;break}a=pa(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return Qb("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,FT(i.localStore,u);case 12:return s=e.sent,e.next=15,OT(i.localStore,s);case 15:return c=e.sent,e.next=18,AA(i,pR(s),c.targetId,!1);case 18:kC(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=pa(r),e.prev=30,h=Ya().mark((function e(){var t;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,DT(i.localStore,t,!1).then((function(){bC(i.remoteStore,t),QA(i,t)})).catch(Lw);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),kR.apply(this,arguments)}function bR(e){var t=ew(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=LA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UA.bind(null,t),t.Zu.Go=dA.bind(null,t.eventManager),t.Zu.lc=pA.bind(null,t.eventManager),t}function wR(e){var t=ew(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BA.bind(null,t),t}function xR(e,t,n){var r=ew(e);(function(){var e=Za(Ya().mark((function e(t,n,r){var i,a,o,u,s;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=ew(e),r=VS(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(bA(i)),a=new kA(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,ZA(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=ew(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Xb("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var _R=function(){function e(){fa(this,e),this.synchronizeTabs=!1}return da(e,[{key:"initialize",value:function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=uC(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return IT(this.persistence,new _T,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new hT(pT.Ms,this.wt)}},{key:"dc",value:function(e){return new ZT}},{key:"terminate",value:function(){var e=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),SR=function(e){va(n,e);var t=ba(n);function n(e,r,i){var a;return fa(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return da(n,[{key:"initialize",value:function(){var e=Za(Ya().mark((function e(t){var r=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au(ma(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,wR(this.yc.syncEngine);case 6:return e.next=8,MC(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return IT(this.persistence,new _T,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new qE(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new Qw(t,this.persistence);return new Hw(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=wT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?CE.withCacheSize(this.cacheSizeBytes):CE.DEFAULT;return new gT(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,aC(),oC(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new ZT}}]),n}(_R),IR=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return da(n,[{key:"initialize",value:function(){var e=Za(Ya().mark((function e(t){var r,i=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au(ma(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof JT,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:sR.bind(null,r),Or:mR.bind(null,r),Mr:gR.bind(null,r),Ri:vR.bind(null,r),Nr:oR.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lR(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=aC();if(!JT.V(t))throw new nw(tw.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=wT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new JT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(SR),ER=function(){function e(){fa(this,e)}return da(e,[{key:"initialize",value:function(){var e=Za(Ya().mark((function e(t,n){var r=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return FA(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=tR.bind(null,this.syncEngine),e.next=12,JC(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new sA}},{key:"createDatastore",value:function(e){var t,n=uC(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new iC(t));return function(e,t,n,r){return new hC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return FA(o.syncEngine,e,0)},a=tC.V()?new tC:new eC,new pC(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new EA(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ew(t),Qb("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,yC(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function TR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Za(Ya().mark((function r(){var i;return Ya().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var CR=function(){function e(t){fa(this,e),this.observer=t,this.muted=!1}return da(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),AR=function(){function e(t,n){var r=this;fa(this,e),this.Ec=t,this.wt=n,this.metadata=new rw,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return da(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=Za(Ya().mark((function e(){var t,n,r,i;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new yA(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=Za(Ya().mark((function e(){var t,n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=Za(Ya().mark((function e(){var t,n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),RR=function(){function e(t){fa(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return da(e,[{key:"lookup",value:function(){var e=Za(Ya().mark((function e(t){var n,r=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new nw(tw.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Za(Ya().mark((function e(t,n){var r,i,a,o,u,s;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ew(t),i=GS(r.wt)+"/documents",a={documents:n.map((function(e){return BS(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=XS(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Zb(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new aS(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Za(Ya().mark((function e(){var t,n=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=_w.fromPath(t);n.mutations.push(new oS(r,n.precondition(r)))})),e.next=7,function(){var e=Za(Ya().mark((function e(t,n){var r,i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ew(t),i=GS(r.wt)+"/documents",a={writes:n.map((function(e){return YS(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jb();t=gw.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new nw(tw.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?K_.updateTime(t):K_.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gw.min()))throw new nw(tw.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return K_.updateTime(t)}return K_.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),NR=function(){function e(t,n,r,i,a){fa(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new sC(this.asyncQueue,"transaction_retry")}return da(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(Za(Ya().mark((function t(){var n,r;return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new RR(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!mx(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!sS(t)}return!1}}]),e}(),PR=function(){function e(t,n,r,i){var a=this;fa(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kb.UNAUTHENTICATED,this.clientId=dw.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qb("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Qb("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return da(e,[{key:"getConfiguration",value:function(){var e=Za(Ya().mark((function e(){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new nw(tw.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new rw;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Za(Ya().mark((function n(){var r;return Ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=rA(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function OR(e,t){return DR.apply(this,arguments)}function DR(){return DR=Za(Ya().mark((function e(t,n){var r,i;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Qb("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ET(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),DR.apply(this,arguments)}function LR(e,t){return MR.apply(this,arguments)}function MR(){return MR=Za(Ya().mark((function e(t,n){var r,i;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,FR(t);case 3:return r=e.sent,Qb("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return XC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return XC(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),MR.apply(this,arguments)}function FR(e){return UR.apply(this,arguments)}function UR(){return UR=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Qb("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,OR(t,new _R);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),UR.apply(this,arguments)}function VR(e){return jR.apply(this,arguments)}function jR(){return jR=Za(Ya().mark((function e(t){return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Qb("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,LR(t,new ER);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),jR.apply(this,arguments)}function zR(e){return FR(e).then((function(e){return e.persistence}))}function BR(e){return FR(e).then((function(e){return e.localStore}))}function qR(e){return VR(e).then((function(e){return e.remoteStore}))}function KR(e){return VR(e).then((function(e){return e.syncEngine}))}function WR(e){return GR.apply(this,arguments)}function GR(){return GR=Za(Ya().mark((function e(t){var n,r;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VR(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=TA.bind(null,n.syncEngine),r.onUnlisten=NA.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),GR.apply(this,arguments)}function HR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new rw;return e.asyncQueue.enqueueAndForget(Za(Ya().mark((function i(){return Ya().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new CR({next:function(a){t.enqueueAndForget((function(){return fA(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new nw(tw.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new nw(tw.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new mA(d_(n.path),a,{includeMetadataChanges:!0,Du:!0});return cA(e,o)},i.next=3,WR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function QR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new rw;return e.asyncQueue.enqueueAndForget(Za(Ya().mark((function i(){return Ya().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new CR({next:function(n){t.enqueueAndForget((function(){return fA(e,o)})),n.fromCache&&"server"===r.source?i.reject(new nw(tw.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new mA(n,a,{includeMetadataChanges:!0,Du:!0});return cA(e,o)},i.next=3,WR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var $R=new Map;function XR(e,t,n){if(!n)throw new nw(tw.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function YR(e,t,n,r){if(!0===t&&!0===r)throw new nw(tw.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function JR(e){if(!_w.isDocumentKey(e))throw new nw(tw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ZR(e){if(_w.isDocumentKey(e))throw new nw(tw.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function eN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Jb()}function tN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new nw(tw.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=eN(e);throw new nw(tw.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function nN(e,t){if(t<=0)throw new nw(tw.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var rN=function(){function e(t){var n;if(fa(this,e),void 0===t.host){if(void 0!==t.ssl)throw new nw(tw.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new nw(tw.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,YR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return da(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),iN=function(){function e(t,n,r){fa(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rN({}),this._settingsFrozen=!1,t instanceof vx?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new nw(tw.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vx(e.options.projectId)}(t))}return da(e,[{key:"app",get:function(){if(!this._app)throw new nw(tw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new nw(tw.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rN(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new aw;switch(e.type){case"gapi":var t=e.client;return Zb(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new cw(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new nw(tw.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=$R.get(e);t&&(Qb("ComponentProvider","Removing Datastore"),$R.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function aN(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=tN(e,iN))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Xb("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Kb.MOCK_USER;else{o=Aa(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new nw(tw.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Kb(s)}e._authCredentials=new ow(new iw(o,u))}}var oN=function(){function e(t,n,r){fa(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return da(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new sN(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),uN=function(){function e(t,n,r){fa(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return da(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),sN=function(e){va(n,e);var t=ba(n);function n(e,r,i){var a;return fa(this,n),(a=t.call(this,e,r,d_(i)))._path=i,a.type="collection",a}return da(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new oN(this.firestore,null,new _w(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(uN);function cN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Xa(e),XR("collection","path",t),e instanceof iN){var a=bw.fromString.apply(bw,[t].concat(r));return ZR(a),new sN(e,null,a)}if(!(e instanceof oN||e instanceof sN))throw new nw(tw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(bw.fromString.apply(bw,[t].concat(r)));return ZR(o),new sN(e.firestore,null,o)}function lN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Xa(e),1===arguments.length&&(t=dw.I()),XR("doc","path",t),e instanceof iN){var a=bw.fromString.apply(bw,[t].concat(r));return JR(a),new oN(e,null,new _w(a))}if(!(e instanceof oN||e instanceof sN))throw new nw(tw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(bw.fromString.apply(bw,[t].concat(r)));return JR(o),new oN(e.firestore,e instanceof sN?e.converter:null,new _w(o))}function fN(e,t){return e=Xa(e),t=Xa(t),(e instanceof oN||e instanceof sN)&&(t instanceof oN||t instanceof sN)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function hN(e,t){return e=Xa(e),t=Xa(t),e instanceof uN&&t instanceof uN&&e.firestore===t.firestore&&b_(e._query,t._query)&&e.converter===t.converter}var dN=function(){function e(){var t=this;fa(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new sC(this,"async_queue_retry"),this.Kc=function(){var e=oC();e&&Qb("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=oC();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return da(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=oC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new rw;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Za(Ya().mark((function e(){var t=this;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Bw(e.t0)){e.next=12;break}throw e.t0;case 12:Qb("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw $b("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=nA.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&Jb()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Za(Ya().mark((function e(){var t;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=pa(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=pa(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function pN(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=pa(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var vN=function(){function e(){fa(this,e),this._progressObserver={},this._taskCompletionResolver=new rw,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return da(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),mN=function(e){va(n,e);var t=ba(n);function n(e,r,i){var a;return fa(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new dN,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return da(n,[{key:"_terminate",value:function(){return this._firestoreClient||gN(this),this._firestoreClient.terminate()}}]),n}(iN);function yN(e){return e._firestoreClient||gN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function gN(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new px(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new PR(e._authCredentials,e._appCheckCredentials,e._queue,r)}function kN(e,t,n){var r=new rw;return e.asyncQueue.enqueue(Za(Ya().mark((function i(){return Ya().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,OR(e,n);case 3:return i.next=5,LR(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===tw.FAILED_PRECONDITION||e.code===tw.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function bN(e){return function(e){return e.asyncQueue.enqueue(Za(Ya().mark((function t(){var n,r;return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,zR(e);case 2:return n=t.sent,t.next=5,qR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=ew(e);return t.lu.delete(0),vC(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(yN(e=tN(e,mN)))}function wN(e){return function(e){return e.asyncQueue.enqueue(Za(Ya().mark((function t(){var n,r;return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,zR(e);case 2:return n=t.sent,t.next=5,qR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ew(t)).lu.add(0),e.next=4,yC(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(yN(e=tN(e,mN)))}function xN(e,t){var n=yN(e=tN(e,mN)),r=new vN;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new AR(e,t)}(function(e,t){if(e instanceof Uint8Array)return TR(e,t);if(e instanceof ArrayBuffer)return TR(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,uC(t));e.asyncQueue.enqueueAndForget(Za(Ya().mark((function t(){return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=xR,t.next=3,KR(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function _N(e,t){return function(e,t){return e.asyncQueue.enqueue(Za(Ya().mark((function n(){return Ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=ew(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,BR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(yN(e=tN(e,mN)),t).then((function(t){return t?new uN(e,null,t.query):null}))}function SN(e){if(e._initialized||e._terminated)throw new nw(tw.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var IN=function(){function e(){fa(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new nw(tw.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xw(n)}return da(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var EN=function(){function e(t){fa(this,e),this._byteString=t}return da(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ox.fromBase64String(t))}catch(t){throw new nw(tw.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ox.fromUint8Array(t))}}]),e}(),TN=da((function e(t){fa(this,e),this._methodName=t})),CN=function(){function e(t,n){if(fa(this,e),!isFinite(t)||t<-90||t>90)throw new nw(tw.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new nw(tw.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return da(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return pw(this._lat,e._lat)||pw(this._long,e._long)}}]),e}(),AN=/^__.*__$/,RN=function(){function e(t,n,r){fa(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return da(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Z_(e,this.data,this.fieldMask,t,this.fieldTransforms):new J_(e,this.data,t,this.fieldTransforms)}}]),e}(),NN=function(){function e(t,n,r){fa(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return da(e,[{key:"toMutation",value:function(e,t){return new Z_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function PN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jb()}}var ON=function(){function e(t,n,r,i,a,o){fa(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return da(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return ZN(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(PN(this.Zc)&&AN.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),DN=function(){function e(t,n,r){fa(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||uC(t)}return da(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ON({Zc:e,methodName:t,ca:n,path:xw.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function LN(e){var t=e._freezeSettings(),n=uC(e._databaseId);return new DN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function MN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);$N("Data must be an object, but it was:",o,r);var u,s,c=HN(r,o);if(a.merge)u=new ax(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=pa(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=XN(t,d,n);if(!o.contains(p))throw new nw(tw.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));eP(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new ax(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new RN(new jx(c),u,s)}var FN=function(e){va(n,e);var t=ba(n);function n(){return fa(this,n),t.apply(this,arguments)}return da(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(TN);function UN(e,t,n){return new ON({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var VN=function(e){va(n,e);var t=ba(n);function n(){return fa(this,n),t.apply(this,arguments)}return da(n,[{key:"_toFieldTransform",value:function(e){return new B_(e.path,new D_)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(TN),jN=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this,e)).ha=r,i}return da(n,[{key:"_toFieldTransform",value:function(e){var t=UN(this,e,!0),n=this.ha.map((function(e){return GN(e,t)})),r=new L_(n);return new B_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(TN),zN=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this,e)).ha=r,i}return da(n,[{key:"_toFieldTransform",value:function(e){var t=UN(this,e,!0),n=this.ha.map((function(e){return GN(e,t)})),r=new F_(n);return new B_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(TN),BN=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this,e)).la=r,i}return da(n,[{key:"_toFieldTransform",value:function(e){var t=new V_(e.wt,A_(e.wt,this.la));return new B_(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(TN);function qN(e,t,n,r){var i=e.aa(1,t,n);$N("Data must be an object, but it was:",i,r);var a=[],o=jx.empty();Yw(r,(function(e,r){var u=JN(t,e,n);r=Xa(r);var s=i.ia(u);if(r instanceof FN)a.push(u);else{var c=GN(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ax(a);return new NN(o,u,i.fieldTransforms)}function KN(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[XN(t,r,n)],s=[i];if(a.length%2!=0)throw new nw(tw.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(XN(t,a[c])),s.push(a[c+1]);for(var l=[],f=jx.empty(),h=u.length-1;h>=0;--h)if(!eP(l,u[h])){var d=u[h],p=s[h];p=Xa(p);var v=o.ia(d);if(p instanceof FN)l.push(d);else{var m=GN(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new ax(l);return new NN(f,y,o.fieldTransforms)}function WN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return GN(n,e.aa(r?4:3,t))}function GN(e,t){if(QN(e=Xa(e)))return $N("Unsupported field value:",t,e),HN(e,t);if(e instanceof TN)return function(e,t){if(!PN(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=pa(e);try{for(a.s();!(n=a.n()).done;){var o=GN(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Xa(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return A_(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=yw.fromDate(e);return{timestampValue:MS(t.wt,n)}}if(e instanceof yw){var r=new yw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:MS(t.wt,r)}}if(e instanceof CN)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof EN)return{bytesValue:FS(t.wt,e._byteString)};if(e instanceof oN){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:jS(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(eN(e)))}(e,t)}function HN(e,t){var n={};return Jw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yw(e,(function(e,r){var i=GN(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function QN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof yw||e instanceof CN||e instanceof EN||e instanceof oN||e instanceof TN)}function $N(e,t,n){if(!QN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=eN(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function XN(e,t,n){if((t=Xa(t))instanceof IN)return t._internalPath;if("string"==typeof t)return JN(e,t);throw ZN("Field path arguments must be of type string or ",e,!1,void 0,n)}var YN=new RegExp("[~\\*/\\[\\]]");function JN(e,t,n){if(t.search(YN)>=0)throw ZN("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return wa(IN,m(t.split(".")))._internalPath}catch(r){throw ZN("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ZN(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new nw(tw.INVALID_ARGUMENT,u+e+s)}function eP(e,t){return e.some((function(e){return e.isEqual(t)}))}var tP=function(){function e(t,n,r,i,a){fa(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return da(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new oN(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new nP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(rP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),nP=function(e){va(n,e);var t=ba(n);function n(){return fa(this,n),t.apply(this,arguments)}return da(n,[{key:"data",value:function(){return Au(ma(n.prototype),"data",this).call(this)}}]),n}(tP);function rP(e,t){return"string"==typeof t?JN(e,t):t instanceof IN?t._internalPath:t._delegate._internalPath}var iP=function(){function e(t,n){fa(this,e),this.hasPendingWrites=t,this.fromCache=n}return da(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),aP=function(e){va(n,e);var t=ba(n);function n(e,r,i,a,o,u){var s;return fa(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return da(n,[{key:"exists",value:function(){return Au(ma(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new oP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(rP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(tP),oP=function(e){va(n,e);var t=ba(n);function n(){return fa(this,n),t.apply(this,arguments)}return da(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Au(ma(n.prototype),"data",this).call(this,e)}}]),n}(aP),uP=function(){function e(t,n,r,i){fa(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new iP(i.hasPendingWrites,i.fromCache),this.query=r}return da(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new oP(n._firestore,n._userDataWriter,r.key,r,new iP(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nw(tw.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new oP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new iP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new oP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new iP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:sP(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function sP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jb()}}function cP(e,t){return e instanceof aP&&t instanceof aP?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof uP&&t instanceof uP&&e._firestore===t._firestore&&hN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function lP(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new nw(tw.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fP=da((function e(){fa(this,e)}));function hP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var dP=function(e){va(n,e);var t=ba(n);function n(e,r,i){var a;return fa(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return da(n,[{key:"_apply",value:function(e){var t=LN(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new nw(tw.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){SP(o,a);var s,c=[],l=pa(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(_P(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=_P(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||SP(o,a),u=WN(n,"where",o,"in"===a||"not-in"===a);var h=Yx.create(i,a,u);return function(e,t){if(t.ht()){var n=v_(e);if(null!==n&&!n.isEqual(t.field))throw new nw(tw.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=p_(e);null!==r&&IP(e,t.field,r)}var i=function(e,t){var n,r=pa(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new nw(tw.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new nw(tw.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new uN(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new f_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(fP);var pP=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return da(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new nw(tw.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new nw(tw.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new u_(t,n);return function(e,t){if(null===p_(e)){var n=v_(e);null!==n&&IP(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new uN(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new f_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(fP);var vP=function(e){va(n,e);var t=ba(n);function n(e,r,i){var a;return fa(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return da(n,[{key:"_apply",value:function(e){return new uN(e.firestore,e.converter,k_(e._query,this.ma,this.ga))}}]),n}(fP);var mP=function(e){va(n,e);var t=ba(n);function n(e,r,i){var a;return fa(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return da(n,[{key:"_apply",value:function(e){var t=xP(e,this.type,this.ya,this.pa);return new uN(e.firestore,e.converter,function(e,t){return new f_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(fP);function yP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mP("startAt",t,!0)}function gP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mP("startAfter",t,!1)}var kP=function(e){va(n,e);var t=ba(n);function n(e,r,i){var a;return fa(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return da(n,[{key:"_apply",value:function(e){var t=xP(e,this.type,this.ya,this.pa);return new uN(e.firestore,e.converter,function(e,t){return new f_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(fP);function bP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kP("endBefore",t,!1)}function wP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kP("endAt",t,!0)}function xP(e,t,n,r){if(n[0]=Xa(n[0]),n[0]instanceof tP)return function(e,t,n,r,i){if(!r)throw new nw(tw.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=pa(y_(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Cx(t,r.key));else{var c=r.data.field(s.field);if(fx(c))throw new nw(tw.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new nw(tw.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new o_(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=LN(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new nw(tw.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new nw(tw.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!m_(e)&&-1!==c.indexOf("/"))throw new nw(tw.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(bw.fromString(c));if(!_w.isDocumentKey(l))throw new nw(tw.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new _w(l);u.push(Cx(t,f))}else{var h=WN(n,r,c);u.push(h)}}return new o_(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function _P(e,t,n){if("string"==typeof(n=Xa(n))){if(""===n)throw new nw(tw.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m_(t)&&-1!==n.indexOf("/"))throw new nw(tw.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(bw.fromString(n));if(!_w.isDocumentKey(r))throw new nw(tw.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Cx(e,new _w(r))}if(n instanceof oN)return Cx(e,n._key);throw new nw(tw.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(eN(n),"."))}function SP(e,t){if(!Array.isArray(e)||0===e.length)throw new nw(tw.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new nw(tw.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function IP(e,t,n){if(!n.isEqual(t))throw new nw(tw.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var EP={maxAttempts:5},TP=function(){function e(){fa(this,e)}return da(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(wx(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cx(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lx(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Jb()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Yw(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new CN(cx(e.latitude),cx(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=hx(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(dx(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=sx(e);return new yw(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=bw.fromString(e);Zb(lI(n));var r=new vx(n.get(1),n.get(3)),i=new _w(n.popFirst(5));return r.isEqual(t)||$b("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function CP(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var AP=function(e){va(n,e);var t=ba(n);function n(e){var r;return fa(this,n),(r=t.call(this)).firestore=e,r}return da(n,[{key:"convertBytes",value:function(e){return new EN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new oN(this.firestore,null,t)}}]),n}(TP),RP=function(){function e(t,n){fa(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=LN(t)}return da(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=NP(e,this._firestore),i=CP(r.converter,t,n),a=MN(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,K_.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=NP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Xa(t))||t instanceof IN?KN(this._dataReader,"WriteBatch.update",i._key,t,n,o):qN(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,K_.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=NP(e,this._firestore);return this._mutations=this._mutations.concat(new aS(t._key,K_.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new nw(tw.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function NP(e,t){if((e=Xa(e)).firestore!==t)throw new nw(tw.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var PP=function(e){va(n,e);var t=ba(n);function n(e){var r;return fa(this,n),(r=t.call(this)).firestore=e,r}return da(n,[{key:"convertBytes",value:function(e){return new EN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new oN(this.firestore,null,t)}}]),n}(TP);function OP(e){e=tN(e,oN);var t=tN(e.firestore,mN),n=yN(t),r=new PP(t);return function(e,t){var n=new rw;return e.asyncQueue.enqueueAndForget(Za(Ya().mark((function r(){return Ya().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Za(Ya().mark((function e(t,n,r){var i,a;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=ew(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new nw(tw.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=rA(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,BR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new aP(t,r,e._key,n,new iP(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function DP(e){e=tN(e,uN);var t=tN(e.firestore,mN),n=yN(t),r=new PP(t);return function(e,t){var n=new rw;return e.asyncQueue.enqueueAndForget(Za(Ya().mark((function r(){return Ya().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Za(Ya().mark((function e(t,n,r){var i,a,o,u,s;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,MT(t,n,!0);case 3:i=e.sent,a=new _A(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=rA(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,BR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new uP(t,r,e,n)}))}function LP(e,t,n){e=tN(e,oN);var r=tN(e.firestore,mN),i=CP(e.converter,t,n);return VP(r,[MN(LN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,K_.none())])}function MP(e,t,n){e=tN(e,oN);for(var r=tN(e.firestore,mN),i=LN(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return VP(r,[("string"==typeof(t=Xa(t))||t instanceof IN?KN(i,"updateDoc",e._key,t,n,o):qN(i,"updateDoc",e._key,t)).toMutation(e._key,K_.exists(!0))])}function FP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Xa(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||pN(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(pN(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof oN)l=tN(e.firestore,mN),f=d_(e._key.path),c={next:function(t){n[s]&&n[s](jP(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=tN(e,uN);l=tN(p.firestore,mN),f=p._query;var v=new PP(l);c={next:function(e){n[s]&&n[s](new uP(l,v,p,e))},error:n[s+1],complete:n[s+2]},lP(e._query)}return function(e,t,n,r){var i=new CR(r),a=new mA(t,i,n);return e.asyncQueue.enqueueAndForget(Za(Ya().mark((function t(){return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=cA,t.next=3,WR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Za(Ya().mark((function t(){return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fA,t.next=3,WR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(yN(l),f,h,c)}function UP(e,t){return function(e,t){var n=new CR(t);return e.asyncQueue.enqueueAndForget(Za(Ya().mark((function t(){return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ew(e).Tu.add(t),t.next()},t.next=3,WR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(Za(Ya().mark((function t(){return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ew(e).Tu.delete(t)},t.next=3,WR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(yN(e=tN(e,mN)),pN(t)?t:{next:t})}function VP(e,t){return function(e,t){var n=new rw;return e.asyncQueue.enqueueAndForget(Za(Ya().mark((function r(){return Ya().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=OA,r.next=3,KR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(yN(e),t)}function jP(e,t,n){var r=n.docs.get(t._key),i=new PP(e);return new aP(e,i,t._key,r,new iP(n.hasPendingWrites,n.fromCache),t.converter)}var zP=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this,e,r))._firestore=e,i}return da(n,[{key:"get",value:function(e){var t=this,r=NP(e,this._firestore),i=new PP(this._firestore);return Au(ma(n.prototype),"get",this).call(this,e).then((function(e){return new aP(t._firestore,i,r._key,e._document,new iP(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){fa(this,e),this._firestore=t,this._transaction=n,this._dataReader=LN(t)}return da(e,[{key:"get",value:function(e){var t=this,n=NP(e,this._firestore),r=new AP(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Jb();var i=e[0];if(i.isFoundDocument())return new tP(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new tP(t._firestore,r,n._key,null,n.converter);throw Jb()}))}},{key:"set",value:function(e,t,n){var r=NP(e,this._firestore),i=CP(r.converter,t,n),a=MN(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=NP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Xa(t))||t instanceof IN?KN(this._dataReader,"Transaction.update",i._key,t,n,o):qN(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=NP(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function BP(e,t,n){e=tN(e,mN);var r=Object.assign(Object.assign({},EP),n);return function(e){if(e.maxAttempts<1)throw new nw(tw.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new rw;return e.asyncQueue.enqueueAndForget(Za(Ya().mark((function i(){var a;return Ya().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return VR(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new NR(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(yN(e),(function(n){return t(new zP(e,n))}),r)}function qP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jN("arrayUnion",t)}function KP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zN("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Wb=e}(Yo),Ko(new eo("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new mN(i,new uw(e.getProvider("auth-internal")),new fw(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),ru(qb,"3.4.10",e),ru(qb,"3.4.10","esm2017")}();function WP(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new nw("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function GP(){if("undefined"===typeof Uint8Array)throw new nw("unimplemented","Uint8Arrays are not available in this environment.")}function HP(){if("undefined"==typeof atob)throw new nw("unimplemented","Blobs are unavailable in Firestore in this environment.")}var QP=function(){function e(t){fa(this,e),this._delegate=t}return da(e,[{key:"toBase64",value:function(){return HP(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return GP(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return HP(),new e(EN.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return GP(),new e(EN.fromUint8Array(t))}}]),e}();function $P(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=pa(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var XP=function(){function e(){fa(this,e)}return da(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){SN(e=tN(e,mN));var n=yN(e),r=e._freezeSettings(),i=new ER;return kN(n,i,new SR(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){SN(e=tN(e,mN));var t=yN(e),n=e._freezeSettings(),r=new ER;return kN(t,r,new IR(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new nw(tw.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new rw;return e._queue.enqueueAndForgetEvenWhileRestricted(Za(Ya().mark((function n(){return Ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Za(Ya().mark((function e(t){var n;return Ya().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vw.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Vw.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(wT(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),YP=function(){function e(t,n,r){var i=this;fa(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof vx||(this._appCompat=t)}return da(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Xb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};aN(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return bN(this._delegate)}},{key:"disableNetwork",value:function(){return wN(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&YR("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new rw;return e.asyncQueue.enqueueAndForget(Za(Ya().mark((function n(){return Ya().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=KA,n.next=3,KR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(yN(e=tN(e,mN)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return UP(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new nw("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new fO(this,cN(this._delegate,e))}catch(t){throw rO(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new nO(this,lN(this._delegate,e))}catch(t){throw rO(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new sO(this,function(e,t){if(e=tN(e,iN),XR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new nw(tw.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new uN(e,null,function(e){return new f_(bw.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw rO(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return BP(this._delegate,(function(n){return e(new ZP(t,n))}))}},{key:"batch",value:function(){var e=this;return yN(this._delegate),new eO(new RP(this._delegate,(function(t){return VP(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return xN(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return _N(this._delegate,e).then((function(e){return e?new sO(t,e):null}))}}]),e}(),JP=function(e){va(n,e);var t=ba(n);function n(e){var r;return fa(this,n),(r=t.call(this)).firestore=e,r}return da(n,[{key:"convertBytes",value:function(e){return new QP(new EN(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return nO.forKey(t,this.firestore,null)}}]),n}(TP);var ZP=function(){function e(t,n){fa(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new JP(t)}return da(e,[{key:"get",value:function(e){var t=this,n=hO(e);return this._delegate.get(n).then((function(e){return new oO(t._firestore,new aP(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=hO(e);return n?(WP("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=hO(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=hO(e);return this._delegate.delete(t),this}}]),e}(),eO=function(){function e(t){fa(this,e),this._delegate=t}return da(e,[{key:"set",value:function(e,t,n){var r=hO(e);return n?(WP("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=hO(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=hO(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),tO=function(){function e(t,n,r){fa(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return da(e,[{key:"fromFirestore",value:function(e,t){var n=new oP(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uO(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new JP(t),n),i.set(n,a)),a}}]),e}();tO.INSTANCES=new WeakMap;var nO=function(){function e(t,n){fa(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new JP(t)}return da(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new fO(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new fO(this.firestore,cN(this._delegate,e))}catch(t){throw rO(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Xa(e))instanceof oN&&fN(this._delegate,e)}},{key:"set",value:function(e,t){t=WP("DocumentReference.set",t);try{return t?LP(this._delegate,e,t):LP(this._delegate,e)}catch(n){throw rO(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?MP(this._delegate,e):MP.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw rO(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return VP(tN(e.firestore,mN),[new aS(e._key,K_.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=iO(n),a=aO(n,(function(t){return new oO(e.firestore,new aP(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return FP(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?OP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=tN(e,oN);var t=tN(e.firestore,mN);return HR(yN(t),e._key,{source:"server"}).then((function(n){return jP(t,e,n)}))}(this._delegate):function(e){e=tN(e,oN);var t=tN(e.firestore,mN);return HR(yN(t),e._key).then((function(n){return jP(t,e,n)}))}(this._delegate),t.then((function(e){return new oO(n.firestore,new aP(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(tO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new nw("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new oN(n._delegate,r,new _w(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new oN(n._delegate,r,t))}}]),e}();function rO(e,t,n){return e.message=e.message.replace(t,n),e}function iO(e){var t,n=pa(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!$P(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function aO(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=$P(e[0])?e[0]:$P(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var oO=function(){function e(t,n){fa(this,e),this._firestore=t,this._delegate=n}return da(e,[{key:"ref",get:function(){return new nO(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return cP(this._delegate,e._delegate)}}]),e}(),uO=function(e){va(n,e);var t=ba(n);function n(){return fa(this,n),t.apply(this,arguments)}return da(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Jb()}(void 0!==t),t}}]),n}(oO),sO=function(){function e(t,n){fa(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new JP(t)}return da(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,hP(this._delegate,function(e,t,n){var r=t,i=rP("where",e);return new dP(i,r,n)}(t,n,r)))}catch(i){throw rO(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,hP(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=rP("orderBy",e);return new pP(n,t)}(t,n)))}catch(r){throw rO(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,hP(this._delegate,function(e){return nN("limit",e),new vP("limit",e,"F")}(t)))}catch(n){throw rO(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,hP(this._delegate,function(e){return nN("limitToLast",e),new vP("limitToLast",e,"L")}(t)))}catch(n){throw rO(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,hP(this._delegate,yP.apply(void 0,arguments)))}catch(t){throw rO(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,hP(this._delegate,gP.apply(void 0,arguments)))}catch(t){throw rO(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,hP(this._delegate,bP.apply(void 0,arguments)))}catch(t){throw rO(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,hP(this._delegate,wP.apply(void 0,arguments)))}catch(t){throw rO(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return hN(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?DP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=tN(e,uN);var t=tN(e.firestore,mN),n=yN(t),r=new PP(t);return QR(n,e._query,{source:"server"}).then((function(n){return new uP(t,r,e,n)}))}(this._delegate):function(e){e=tN(e,uN);var t=tN(e.firestore,mN),n=yN(t),r=new PP(t);return lP(e._query),QR(n,e._query).then((function(n){return new uP(t,r,e,n)}))}(this._delegate),t.then((function(e){return new lO(n.firestore,new uP(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=iO(n),a=aO(n,(function(t){return new lO(e.firestore,new uP(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return FP(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(tO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),cO=function(){function e(t,n){fa(this,e),this._firestore=t,this._delegate=n}return da(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new uO(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),lO=function(){function e(t,n){fa(this,e),this._firestore=t,this._delegate=n}return da(e,[{key:"query",get:function(){return new sO(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new uO(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new cO(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new uO(n._firestore,r))}))}},{key:"isEqual",value:function(e){return cP(this._delegate,e._delegate)}}]),e}(),fO=function(e){va(n,e);var t=ba(n);function n(e,r){var i;return fa(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return da(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new nO(this.firestore,e):null}},{key:"doc",value:function(e){try{return new nO(this.firestore,void 0===e?lN(this._delegate):lN(this._delegate,e))}catch(t){throw rO(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=tN(e.firestore,mN),r=lN(e),i=CP(e.converter,t);return VP(n,[MN(LN(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,K_.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new nO(t.firestore,e)}))}},{key:"isEqual",value:function(e){return fN(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(tO.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(sO);function hO(e){return tN(e,oN)}var dO=function(){function e(){fa(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=wa(IN,n)}return da(e,[{key:"isEqual",value:function(e){return(e=Xa(e))instanceof IN&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(xw.keyField().canonicalString())}}]),e}(),pO=function(){function e(t){fa(this,e),this._delegate=t}return da(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new VN("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new FN("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=qP.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=KP.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new BN("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),vO={Firestore:YP,GeoPoint:CN,Timestamp:yw,Blob:QP,Transaction:ZP,WriteBatch:eO,DocumentReference:nO,DocumentSnapshot:oO,Query:sO,QueryDocumentSnapshot:uO,QuerySnapshot:lO,CollectionReference:fO,FieldPath:dO,FieldValue:pO,setLogLevel:function(e){!function(e){Gb.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new eo("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},vO)))}(e,(function(e,t){return new YP(e,t,new XP)})),e.registerVersion("@firebase/firestore-compat","0.1.19")}(Tu);var mO=Tu.initializeApp({apiKey:"AIzaSyBYbxxSMMHqcE8stMeprQfYfhfrKufbyJ4",authDomain:"picturesposting-app.firebaseapp.com",projectId:"picturesposting-app",storageBucket:"picturesposting-app.appspot.com",messagingSenderId:"42620638643",appId:"1:42620638643:web:840ab0c7675670c95927c6",measurementId:"G-VP2BXR057V"}).firestore(),yO=Tu.auth(),gO=Tu.storage();var kO=function(e){var n=e.postId,r=e.user,i=e.username,a=e.caption,o=e.imageUrl,u=c((0,t.useState)([]),2),s=u[0],l=u[1],f=c((0,t.useState)(""),2),h=f[0],d=f[1];return(0,t.useEffect)((function(){var e;return n&&(e=mO.collection("posts").doc(n).collection("comments").onSnapshot((function(e){l(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[n]),(0,zr.jsxs)("div",{className:"post",children:[(0,zr.jsxs)("div",{className:"post__header",children:[(0,zr.jsx)(Zr,{className:"post__avatar",alt:"suhas",src:"C:\\Users\\vamsi suhas\\OneDrive\\Pictures\\WhatsApp Image 2022-05-25 at 22.19.26.jpg"}),(0,zr.jsx)("h3",{children:i})]}),(0,zr.jsx)("img",{className:"post__image",src:o}),(0,zr.jsxs)("h4",{className:"post__text",children:[(0,zr.jsx)("strong",{children:i})," ",a]}),(0,zr.jsx)("div",{className:"post__comments",children:s.map((function(e){return(0,zr.jsxs)("p",{children:[(0,zr.jsx)("strong",{children:e.username})," ",e.text]})}))}),r&&(0,zr.jsxs)("form",{className:"post_commentBox",children:[(0,zr.jsx)("input",{className:"post__input",type:"text",placeholder:"  Add a comment...",value:h,onChange:function(e){return d(e.target.value)}}),(0,zr.jsx)(la,{className:"post__button",diabled:!h,type:"submit",onClick:function(e){e.preventDefault(),mO.collection("posts").doc(n).collection("comments").add({text:h,username:r.displayName}),d("")},children:"Post"})]})]})};function bO(e){return e&&e.ownerDocument||document}function wO(e){return bO(e).defaultView||window}var xO=["onChange","maxRows","minRows","style","value"];function _O(e,t){return parseInt(e[t],10)||0}var SO={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},IO=t.forwardRef((function(e,n){var r=e.onChange,i=e.maxRows,a=e.minRows,o=void 0===a?1:a,u=e.style,s=e.value,h=l(e,xO),d=t.useRef(null!=s).current,p=t.useRef(null),v=ti(n,p),m=t.useRef(null),y=t.useRef(0),g=c(t.useState({}),2),k=g[0],b=g[1],w=t.useCallback((function(){var t=p.current,n=wO(t).getComputedStyle(t);if("0px"!==n.width){var r=m.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n["box-sizing"],u=_O(n,"padding-bottom")+_O(n,"padding-top"),s=_O(n,"border-bottom-width")+_O(n,"border-top-width"),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=c;o&&(f=Math.max(Number(o)*l,f)),i&&(f=Math.min(Number(i)*l,f));var h=(f=Math.max(f,l))+("border-box"===a?u+s:0),d=Math.abs(f-c)<=1;b((function(e){return y.current<20&&(h>0&&Math.abs((e.outerHeightStyle||0)-h)>1||e.overflow!==d)?(y.current+=1,{overflow:d,outerHeightStyle:h}):e}))}}),[i,o,e.placeholder]);t.useEffect((function(){var e,t=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}((function(){y.current=0,w()})),n=wO(p.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(p.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[w]),ri((function(){w()})),t.useEffect((function(){y.current=0}),[s]);return(0,zr.jsxs)(t.Fragment,{children:[(0,zr.jsx)("textarea",f({value:s,onChange:function(e){y.current=0,d||w(),r&&r(e)},ref:v,rows:o,style:f({height:k.outerHeightStyle,overflow:k.overflow?"hidden":null},u)},h)),(0,zr.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:f({},SO,u,{padding:0})})]})})),EO=IO;var TO=function(e){return"string"===typeof e};var CO=t.createContext();var AO=ri;function RO(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,zr.jsx)(Ti,{styles:i})}var NO=function(e){return(0,zr.jsx)(RO,f({},e,{defaultTheme:wr}))};function PO(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function OO(e){return Ur("MuiInputBase",e)}var DO=Vr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),LO=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],MO=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Dr(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},FO=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},UO=Sr("div",{name:"MuiInputBase",slot:"Root",overridesResolver:MO})((function(e){var t=e.theme,n=e.ownerState;return f({},t.typography.body1,Je({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(DO.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&f({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),VO=Sr("input",{name:"MuiInputBase",slot:"Input",overridesResolver:FO})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a=f({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),o={opacity:"0 !important"},u=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return f((Je(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(DO.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),Je(t,"&.".concat(DO.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),Je(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),jO=(0,zr.jsx)(NO,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),zO=t.forwardRef((function(e,n){var r=Or({props:e,name:"MuiInputBase"}),i=r["aria-describedby"],a=r.autoComplete,o=r.autoFocus,u=r.className,s=r.components,h=void 0===s?{}:s,v=r.componentsProps,m=void 0===v?{}:v,y=r.defaultValue,g=r.disabled,k=r.disableInjectingGlobalStyles,b=r.endAdornment,w=r.fullWidth,x=void 0!==w&&w,_=r.id,S=r.inputComponent,I=void 0===S?"input":S,E=r.inputProps,T=void 0===E?{}:E,C=r.inputRef,A=r.maxRows,R=r.minRows,N=r.multiline,P=void 0!==N&&N,O=r.name,D=r.onBlur,L=r.onChange,M=r.onClick,F=r.onFocus,U=r.onKeyDown,V=r.onKeyUp,j=r.placeholder,z=r.readOnly,B=r.renderSuffix,q=r.rows,K=r.startAdornment,W=r.type,G=void 0===W?"text":W,H=r.value,Q=l(r,LO),$=null!=T.value?T.value:H,X=t.useRef(null!=$).current,Y=t.useRef(),J=t.useCallback((function(e){0}),[]),Z=ni(T.ref,J),ee=ni(C,Z),te=ni(Y,ee),ne=c(t.useState(!1),2),re=ne[0],ie=ne[1],ae=t.useContext(CO);var oe=function(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}({props:r,muiFormControl:ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=ae?ae.focused:re,t.useEffect((function(){!ae&&g&&re&&(ie(!1),D&&D())}),[ae,g,re,D]);var ue=ae&&ae.onFilled,se=ae&&ae.onEmpty,ce=t.useCallback((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(PO(e.value)&&""!==e.value||t&&PO(e.defaultValue)&&""!==e.defaultValue)}(e)?se&&se():ue&&ue()}),[ue,se]);AO((function(){X&&ce({value:$})}),[$,ce,X]);t.useEffect((function(){ce(Y.current)}),[]);var le=I,fe=T;P&&"input"===le&&(fe=f(q?{type:void 0,minRows:q,maxRows:q}:{type:void 0,maxRows:A,minRows:R},fe),le=EO);t.useEffect((function(){ae&&ae.setAdornedStart(Boolean(K))}),[ae,K]);var he=f({},r,{color:oe.color||"primary",disabled:oe.disabled,endAdornment:b,error:oe.error,focused:oe.focused,formControl:ae,fullWidth:x,hiddenLabel:oe.hiddenLabel,multiline:P,size:oe.size,startAdornment:K,type:G}),de=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.size,h=e.startAdornment,d=e.type;return p({root:["root","color".concat(Dr(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===f&&"sizeSmall",l&&"multiline",h&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel"],input:["input",r&&"disabled","search"===d&&"inputTypeSearch",l&&"inputMultiline","small"===f&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd"]},OO,t)}(he),pe=h.Root||UO,ve=m.root||{},me=h.Input||VO;return fe=f({},fe,m.input),(0,zr.jsxs)(t.Fragment,{children:[!k&&jO,(0,zr.jsxs)(pe,f({},ve,!TO(pe)&&{ownerState:f({},he,ve.ownerState)},{ref:n,onClick:function(e){Y.current&&e.currentTarget===e.target&&Y.current.focus(),M&&M(e)}},Q,{className:d(de.root,ve.className,u),children:[K,(0,zr.jsx)(CO.Provider,{value:null,children:(0,zr.jsx)(me,f({ownerState:he,"aria-invalid":oe.error,"aria-describedby":i,autoComplete:a,autoFocus:o,defaultValue:y,disabled:oe.disabled,id:_,onAnimationStart:function(e){ce("mui-auto-fill-cancel"===e.animationName?Y.current:{value:"x"})},name:O,placeholder:j,readOnly:z,required:oe.required,rows:q,value:$,onKeyDown:U,onKeyUp:V,type:G},fe,!TO(me)&&{as:le,ownerState:f({},he,fe.ownerState)},{ref:te,className:d(de.input,fe.className),onBlur:function(e){D&&D(e),T.onBlur&&T.onBlur(e),ae&&ae.onBlur?ae.onBlur(e):ie(!1)},onChange:function(e){if(!X){var t=e.target||Y.current;if(null==t)throw new Error(ut(1));ce({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];T.onChange&&T.onChange.apply(T,[e].concat(r)),L&&L.apply(void 0,[e].concat(r))},onFocus:function(e){oe.disabled?e.stopPropagation():(F&&F(e),T.onFocus&&T.onFocus(e),ae&&ae.onFocus?ae.onFocus(e):ie(!0))}}))}),b,B?B(f({},oe,{startAdornment:K})):null]}))]})})),BO=zO;function qO(e){return Ur("MuiInput",e)}var KO=f({},DO,Vr("MuiInput",["root","underline","input"])),WO=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],GO=Sr(UO,{shouldForwardProp:function(e){return xr(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(m(MO(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputTouchBottomLine,")")),f({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(Je(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(KO.focused,":after"),{transform:"scaleX(1) translateX(0)"}),Je(t,"&.".concat(KO.error,":after"),{borderBottomColor:(n.vars||n).palette.error.main,transform:"scaleX(1)"}),Je(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),Je(t,"&:hover:not(.".concat(KO.disabled,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),Je(t,"&.".concat(KO.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),HO=Sr(VO,{name:"MuiInput",slot:"Input",overridesResolver:FO})({}),QO=t.forwardRef((function(e,t){var n=Or({props:e,name:"MuiInput"}),r=n.disableUnderline,i=n.components,a=void 0===i?{}:i,o=n.componentsProps,u=n.fullWidth,s=void 0!==u&&u,c=n.inputComponent,h=void 0===c?"input":c,d=n.multiline,v=void 0!==d&&d,m=n.type,y=void 0===m?"text":m,g=l(n,WO),k=function(e){var t=e.classes;return f({},t,p({root:["root",!e.disableUnderline&&"underline"],input:["input"]},qO,t))}(n),b={root:{ownerState:{disableUnderline:r}}},w=o?Ye(o,b):b;return(0,zr.jsx)(BO,f({components:f({Root:GO,Input:HO},a),componentsProps:w,fullWidth:s,inputComponent:h,multiline:v,ref:t,type:y},g,{classes:k}))}));QO.muiName="Input";var $O=QO;var XO=function(e){var n=e.username,r=c((0,t.useState)(null),2),i=r[0],a=r[1],o=c((0,t.useState)(0),2),u=o[0],s=o[1],l=c((0,t.useState)(""),2),f=l[0],h=l[1];return(0,zr.jsxs)("div",{className:"imageupload",children:[(0,zr.jsx)("progress",{className:"imageupload__progress",value:u,max:"100"}),(0,zr.jsx)($O,{type:"text",placeholder:"Enter a caption",onChange:function(e){return h(e.target.value)}}),(0,zr.jsx)($O,{type:"file",onChange:function(e){e.target.files[0]&&a(e.target.files[0])}}),(0,zr.jsx)(la,{onClick:function(){gO.ref("images/".concat(i.name)).put(i).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);s(t)}),(function(e){console.log(e),alert(e.message)}),(function(){gO.ref("images").child(i.name).getDownloadURL().then((function(e){mO.collection("posts").add({timestamp:Tu.firestore.FieldValue.serverTimestamp(),caption:f,imageUrl:e,username:n}),s(0),h(""),a(null)}))}))},children:"Upload"})]})},YO=["sx"];function JO(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){Sn[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(l(e,YO)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat(m(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return Xe(e)?f({},i,e):i}:f({},i,n),f({},a,{sx:t})}var ZO=["className","component"];var eD=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultTheme,r=e.defaultClassName,i=void 0===r?"MuiBox-root":r,a=e.generateClassName,o=e.styleFunctionSx,u=void 0===o?Cn:o,s=$e("div")(u),c=t.forwardRef((function(e,t){var r=Nr(n),o=JO(e),u=o.className,c=o.component,h=void 0===c?"div":c,p=l(o,ZO);return(0,zr.jsx)(s,f({as:h,ref:t,className:d(u,a?a(i):i),theme:r},p))}));return c}({defaultTheme:br(),defaultClassName:"MuiBox-root",generateClassName:Mr.generate}),tD=eD;function nD(e){return Ur("MuiTypography",e)}Vr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var rD=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],iD=Sr("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(Dr(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return f({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),aD={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},oD={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},uD=t.forwardRef((function(e,t){var n=Or({props:e,name:"MuiTypography"}),r=function(e){return oD[e]||e}(n.color),i=JO(f({},n,{color:r})),a=i.align,o=void 0===a?"inherit":a,u=i.className,s=i.component,c=i.gutterBottom,h=void 0!==c&&c,v=i.noWrap,m=void 0!==v&&v,y=i.paragraph,g=void 0!==y&&y,k=i.variant,b=void 0===k?"body1":k,w=i.variantMapping,x=void 0===w?aD:w,_=l(i,rD),S=f({},i,{align:o,color:r,className:u,component:s,gutterBottom:h,noWrap:m,paragraph:g,variant:b,variantMapping:x}),I=s||(g?"p":x[b]||aD[b])||"span",E=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes;return p({root:["root",a,"inherit"!==e.align&&"align".concat(Dr(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},nD,o)}(S);return(0,zr.jsx)(iD,f({as:I,ref:t,ownerState:S,className:d(E.root,u)},_))})),sD=uD;function cD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}function lD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return TO(e)?t:f({},t,{ownerState:f({},t.ownerState,n)})}var fD=n(164);var hD=t.forwardRef((function(e,n){var r=e.children,i=e.container,a=e.disablePortal,o=void 0!==a&&a,u=c(t.useState(null),2),s=u[0],l=u[1],f=ti(t.isValidElement(r)?r.ref:null,n);return ri((function(){o||l(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),ri((function(){if(s&&!o)return ei(n,s),function(){ei(n,null)}}),[n,s,o]),o?t.isValidElement(r)?t.cloneElement(r,{ref:f}):r:s?fD.createPortal(r,s):s}));function dD(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function pD(e){return parseInt(wO(e).getComputedStyle(e).paddingRight,10)||0}function vD(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}function mD(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(m(r));[].forEach.call(e.children,(function(e){var t=-1===a.indexOf(e),n=!vD(e);t&&n&&dD(e,i)}))}function yD(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function gD(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=bO(e);return t.body===e?wO(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=function(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}(bO(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(pD(r)+i,"px");var a=bO(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(pD(e)+i,"px")}))}var o=r.parentElement,u=wO(r),s="HTML"===(null==o?void 0:o.nodeName)&&"scroll"===u.getComputedStyle(o).overflowY?o:r;n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var kD=function(){function e(){fa(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return da(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&dD(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);mD(t,e.mount,e.modalRef,r,!0);var i=yD(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=yD(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=gD(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=yD(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&dD(e.modalRef,t),mD(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var a=i.modals[i.modals.length-1];a.modalRef&&dD(a.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),bD=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function wD(e){var t=[],n=[];return Array.from(e.querySelectorAll(bD)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function xD(){return!0}var _D=function(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getTabbable,l=void 0===c?wD:c,f=e.isEnabled,h=void 0===f?xD:f,d=e.open,p=t.useRef(),v=t.useRef(null),m=t.useRef(null),y=t.useRef(null),g=t.useRef(null),k=t.useRef(!1),b=t.useRef(null),w=ti(n.ref,b),x=t.useRef(null);t.useEffect((function(){d&&b.current&&(k.current=!i)}),[i,d]),t.useEffect((function(){if(d&&b.current){var e=bO(b.current);return b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),k.current&&b.current.focus()),function(){s||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}}}),[d]),t.useEffect((function(){if(d&&b.current){var e=bO(b.current),t=function(t){var n=b.current;if(null!==n)if(e.hasFocus()&&!o&&h()&&!p.current){if(!n.contains(e.activeElement)){if(t&&g.current!==t.target||e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(!k.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(b.current)),r.length>0){var i,a,u=Boolean((null==(i=x.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=x.current)?void 0:a.key)),s=r[0],c=r[r.length-1];u?c.focus():s.focus()}else n.focus()}}else p.current=!1},n=function(t){x.current=t,!o&&h()&&"Tab"===t.key&&e.activeElement===b.current&&t.shiftKey&&(p.current=!0,m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,s,h,d,l]);var _=function(e){null===y.current&&(y.current=e.relatedTarget),k.current=!0};return(0,zr.jsxs)(t.Fragment,{children:[(0,zr.jsx)("div",{tabIndex:0,onFocus:_,ref:v,"data-test":"sentinelStart"}),t.cloneElement(n,{ref:w,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),k.current=!0,g.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,zr.jsx)("div",{tabIndex:0,onFocus:_,ref:m,"data-test":"sentinelEnd"})]})};function SD(e){return Ur("MuiModal",e)}Vr("MuiModal",["root","hidden"]);var ID=["children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited"];var ED=new kD,TD=t.forwardRef((function(e,n){var r,i,a=e.children,o=e.classes,u=e.className,s=e.closeAfterTransition,h=void 0!==s&&s,v=e.component,m=void 0===v?"div":v,y=e.components,g=void 0===y?{}:y,k=e.componentsProps,b=void 0===k?{}:k,w=e.container,x=e.disableAutoFocus,_=void 0!==x&&x,S=e.disableEnforceFocus,I=void 0!==S&&S,E=e.disableEscapeKeyDown,T=void 0!==E&&E,C=e.disablePortal,A=void 0!==C&&C,R=e.disableRestoreFocus,N=void 0!==R&&R,P=e.disableScrollLock,O=void 0!==P&&P,D=e.hideBackdrop,L=void 0!==D&&D,M=e.keepMounted,F=void 0!==M&&M,U=e.manager,V=void 0===U?ED:U,j=e.onBackdropClick,z=e.onClose,B=e.onKeyDown,q=e.open,K=e.onTransitionEnter,W=e.onTransitionExited,G=l(e,ID),H=c(t.useState(!0),2),Q=H[0],$=H[1],X=t.useRef({}),Y=t.useRef(null),J=t.useRef(null),Z=ti(J,n),ee=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),te=null==(r=e["aria-hidden"])||r,ne=function(){return X.current.modalRef=J.current,X.current.mountNode=Y.current,X.current},re=function(){V.mount(ne(),{disableScrollLock:O}),J.current.scrollTop=0},ie=ii((function(){var e=function(e){return"function"===typeof e?e():e}(w)||bO(Y.current).body;V.add(ne(),e),J.current&&re()})),ae=t.useCallback((function(){return V.isTopModal(ne())}),[V]),oe=ii((function(e){Y.current=e,e&&(q&&ae()?re():dD(J.current,te))})),ue=t.useCallback((function(){V.remove(ne(),te)}),[V,te]);t.useEffect((function(){return function(){ue()}}),[ue]),t.useEffect((function(){q?ie():ee&&h||ue()}),[q,ue,ee,h,ie]);var se=f({},e,{classes:o,closeAfterTransition:h,disableAutoFocus:_,disableEnforceFocus:I,disableEscapeKeyDown:T,disablePortal:A,disableRestoreFocus:N,disableScrollLock:O,exited:Q,hideBackdrop:L,keepMounted:F}),ce=function(e){var t=e.open,n=e.exited;return p({root:["root",!t&&n&&"hidden"]},SD,e.classes)}(se);if(!F&&!q&&(!ee||Q))return null;var le={};void 0===a.props.tabIndex&&(le.tabIndex="-1"),ee&&(le.onEnter=cD((function(){$(!1),K&&K()}),a.props.onEnter),le.onExited=cD((function(){$(!0),W&&W(),h&&ue()}),a.props.onExited));var fe=g.Root||m,he=lD(fe,f({role:"presentation"},G,b.root,{ref:Z,onKeyDown:function(e){B&&B(e),"Escape"===e.key&&ae()&&(T||(e.stopPropagation(),z&&z(e,"escapeKeyDown")))},className:d(ce.root,null==(i=b.root)?void 0:i.className,u)}),se),de=g.Backdrop,pe=lD(de,f({"aria-hidden":!0,open:q,onClick:function(e){e.target===e.currentTarget&&(j&&j(e),z&&z(e,"backdropClick"))}},b.backdrop),se);return(0,zr.jsx)(hD,{ref:oe,container:w,disablePortal:A,children:(0,zr.jsxs)(fe,f({},he,{children:[!L&&de?(0,zr.jsx)(de,f({},pe)):null,(0,zr.jsx)(_D,{disableEnforceFocus:I,disableAutoFocus:_,disableRestoreFocus:N,isEnabled:ae,open:q,children:t.cloneElement(a,le)})]}))})})),CD=TD,AD=!1,RD="unmounted",ND="exited",PD="entering",OD="entered",DD="exiting",LD=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=ND,r.appearStatus=PD):i=OD:i=t.unmountOnExit||t.mountOnEnter?RD:ND,r.state={status:i},r.nextCallback=null,r}gi(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===RD?{status:ND}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==PD&&n!==OD&&(t=PD):n!==PD&&n!==OD||(t=DD)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===PD?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===ND&&this.setState({status:RD})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[fD.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||AD?this.safeSetState({status:OD},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:PD},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:OD},(function(){t.props.onEntered(a,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:fD.findDOMNode(this);t&&!AD?(this.props.onExit(r),this.safeSetState({status:DD},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ND},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ND},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:fD.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===RD)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,l(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(ki.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function MD(){}LD.contextType=ki,LD.propTypes={},LD.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:MD,onEntering:MD,onEntered:MD,onExit:MD,onExiting:MD,onExited:MD},LD.UNMOUNTED=RD,LD.EXITED=ND,LD.ENTERING=PD,LD.ENTERED=OD,LD.EXITING=DD;var FD=LD;function UD(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:u.transitionDelay}}var VD=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],jD={entering:{opacity:1},entered:{opacity:1}},zD=t.forwardRef((function(e,n){var r=Nr(wr),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,u=void 0===o||o,s=e.children,c=e.easing,h=e.in,d=e.onEnter,p=e.onEntered,v=e.onEntering,m=e.onExit,y=e.onExited,g=e.onExiting,k=e.style,b=e.timeout,w=void 0===b?i:b,x=e.TransitionComponent,_=void 0===x?FD:x,S=l(e,VD),I=t.useRef(null),E=ni(s.ref,n),T=ni(I,E),C=function(e){return function(t){if(e){var n=I.current;void 0===t?e(n):e(n,t)}}},A=C(v),R=C((function(e,t){!function(e){e.scrollTop}(e);var n=UD({style:k,timeout:w,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),d&&d(e,t)})),N=C(p),P=C(g),O=C((function(e){var t=UD({style:k,timeout:w,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),D=C(y);return(0,zr.jsx)(_,f({appear:u,in:h,nodeRef:I,onEnter:R,onEntered:N,onEntering:A,onExit:O,onExited:D,onExiting:P,addEndListener:function(e){a&&a(I.current,e)},timeout:w},S,{children:function(e,n){return t.cloneElement(s,f({style:f({opacity:0,visibility:"exited"!==e||h?void 0:"hidden"},jD[e],k,s.props.style),ref:T},n))}}))})),BD=zD;function qD(e){return Ur("MuiBackdrop",e)}Vr("MuiBackdrop",["root","invisible"]);var KD=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],WD=Sr("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return f({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),GD=t.forwardRef((function(e,t){var n,r,i=Or({props:e,name:"MuiBackdrop"}),a=i.children,o=i.component,u=void 0===o?"div":o,s=i.components,c=void 0===s?{}:s,h=i.componentsProps,v=void 0===h?{}:h,m=i.className,y=i.invisible,g=void 0!==y&&y,k=i.open,b=i.transitionDuration,w=i.TransitionComponent,x=void 0===w?BD:w,_=l(i,KD),S=f({},i,{component:u,invisible:g}),I=function(e){var t=e.classes;return p({root:["root",e.invisible&&"invisible"]},qD,t)}(S);return(0,zr.jsx)(x,f({in:k,timeout:b},_,{children:(0,zr.jsx)(WD,{"aria-hidden":!0,as:null!=(n=c.Root)?n:u,className:d(I.root,m),ownerState:f({},S,null==(r=v.root)?void 0:r.ownerState),classes:I,ref:t,children:a})}))})),HD=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","theme"],QD=Sr("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return f({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),$D=Sr(GD,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),XD=t.forwardRef((function(e,n){var r,i,a=Or({name:"MuiModal",props:e}),o=a.BackdropComponent,u=void 0===o?$D:o,s=a.BackdropProps,h=a.closeAfterTransition,d=void 0!==h&&h,p=a.children,v=a.component,m=a.components,y=void 0===m?{}:m,g=a.componentsProps,k=void 0===g?{}:g,b=a.disableAutoFocus,w=void 0!==b&&b,x=a.disableEnforceFocus,_=void 0!==x&&x,S=a.disableEscapeKeyDown,I=void 0!==S&&S,E=a.disablePortal,T=void 0!==E&&E,C=a.disableRestoreFocus,A=void 0!==C&&C,R=a.disableScrollLock,N=void 0!==R&&R,P=a.hideBackdrop,O=void 0!==P&&P,D=a.keepMounted,L=void 0!==D&&D,M=a.theme,F=l(a,HD),U=c(t.useState(!0),2),V=U[0],j=U[1],z={closeAfterTransition:d,disableAutoFocus:w,disableEnforceFocus:_,disableEscapeKeyDown:I,disablePortal:T,disableRestoreFocus:A,disableScrollLock:N,hideBackdrop:O,keepMounted:L},B=function(e){return e.classes}(f({},a,z,{exited:V})),q=null!=(r=null!=(i=y.Root)?i:v)?r:QD;return(0,zr.jsx)(CD,f({components:f({Root:q,Backdrop:u},y),componentsProps:{root:f({},k.root,!TO(q)&&{as:v,theme:M}),backdrop:f({},s,k.backdrop)},onTransitionEnter:function(){return j(!1)},onTransitionExited:function(){return j(!0)},ref:n},F,{classes:B},z,{children:p}))})),YD={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};var JD=function(){var e=c((0,t.useState)(!1),2),n=e[0],r=e[1],i=c((0,t.useState)(!1),2),a=i[0],o=i[1],u=c((0,t.useState)(""),2),s=u[0],l=u[1],f=c((0,t.useState)(""),2),h=f[0],d=f[1],p=c((0,t.useState)(""),2),v=p[0],m=p[1],y=c((0,t.useState)(null),2),g=y[0],k=y[1],b=c((0,t.useState)([]),2),w=b[0],x=b[1];return(0,t.useEffect)((function(){var e=yO.onAuthStateChanged((function(e){e?(console.log(e),k(e)):k(null)}));return function(){e()}}),[g,s]),(0,t.useEffect)((function(){mO.collection("posts").onSnapshot((function(e){x(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[w]),(0,zr.jsxs)("div",{className:"App",children:[(0,zr.jsxs)("div",{className:"app_header",children:[(0,zr.jsx)("img",{className:"app_headerImage",src:"https://us.123rf.com/450wm/dragomirescu/dragomirescu1907/dragomirescu190700060/126978930-joined-or-connected-vs-v-s-yellow-black-alphabet-letter-logo-combination-suitable-as-an-icon-design-.jpg?ver=6"}),g?(0,zr.jsx)(la,{onClick:function(){return yO.signOut()},children:"Logout"}):(0,zr.jsxs)("div",{className:"app__loginContainer",children:[(0,zr.jsx)(la,{onClick:function(){return o(!0)},children:"Sign In"}),(0,zr.jsx)(la,{onClick:function(){return r(!0)},children:"Sign Up"})]})]}),(0,zr.jsx)("div",{className:"app__posts",children:w.map((function(e){var t=e.id,n=e.post;return(0,zr.jsx)(kO,{postId:t,user:g,username:n.username,caption:n.caption,imageUrl:n.imageUrl},t)}))}),(0,zr.jsx)(XD,{open:n,onClose:function(){return r(!1)},children:(0,zr.jsx)(tD,{sx:YD,children:(0,zr.jsx)(sD,{children:(0,zr.jsxs)("form",{className:"app__signup",children:[(0,zr.jsx)("center",{children:(0,zr.jsx)("img",{className:"modal__image",src:"https://us.123rf.com/450wm/dragomirescu/dragomirescu1907/dragomirescu190700060/126978930-joined-or-connected-vs-v-s-yellow-black-alphabet-letter-logo-combination-suitable-as-an-icon-design-.jpg?ver=6"})}),(0,zr.jsx)($O,{placeholder:"username",value:s,onChange:function(e){return l(e.target.value)}}),(0,zr.jsx)($O,{placeholder:"email",value:v,onChange:function(e){return m(e.target.value)}}),(0,zr.jsx)($O,{placeholder:"password",type:"password",value:h,onChange:function(e){return d(e.target.value)}}),(0,zr.jsx)(la,{type:"submit",onClick:function(e){e.preventDefault(),yO.createUserWithEmailAndPassword(v,h).then((function(e){return e.user.updateProfile({displayName:s})})).catch((function(e){return alert(e.message)}))},children:"Sign Up"})]})})})}),(0,zr.jsx)(XD,{open:a,onClose:function(){return o(!1)},children:(0,zr.jsx)(tD,{sx:YD,children:(0,zr.jsx)(sD,{children:(0,zr.jsxs)("form",{className:"app__signup",children:[(0,zr.jsx)("center",{children:(0,zr.jsx)("img",{className:"modal__image",src:"https://us.123rf.com/450wm/dragomirescu/dragomirescu1907/dragomirescu190700060/126978930-joined-or-connected-vs-v-s-yellow-black-alphabet-letter-logo-combination-suitable-as-an-icon-design-.jpg?ver=6"})}),(0,zr.jsx)($O,{placeholder:"email",value:v,onChange:function(e){return m(e.target.value)}}),(0,zr.jsx)($O,{placeholder:"password",type:"password",value:h,onChange:function(e){return d(e.target.value)}}),(0,zr.jsx)(la,{type:"submit",onClick:function(e){e.preventDefault(),yO.signInWithEmailAndPassword(v,h).catch((function(e){return alert(e.message)})),o(!1)},children:"Sign In"})]})})})}),null!==g&&void 0!==g&&g.displayName?(0,zr.jsx)(XO,{username:g.displayName}):(0,zr.jsx)("h3",{className:"warning",children:"To upload you need to login"})]})},ZD=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,zr.jsx)(t.StrictMode,{children:(0,zr.jsx)(JD,{})})),ZD()}()}();
//# sourceMappingURL=main.bef7fbcc.js.map